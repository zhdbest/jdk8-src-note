<!DOCTYPE html>
<html lang="zh-cn" class="color-toggle-hidden">

<head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light dark" />





    <meta name="description" content="1. int size(); 2. boolean isEmpty(); 3. boolean containsKey(Object key); 4. boolean containsValue(Object value); 5. V get(Object key); 6. V put(K key, V value); 7. V remove(Object key); 8. void putAll(Map&lt;? extends K, ? extends V&gt; m); 9. void clear(); 10. Set&lt;K&gt; keySet(); 11. Collection&lt;V&gt; values(); 12. Set&lt;Map.Entry&lt;K, V&raquo; entrySet(); 13. interface Entry&lt;K,V&gt;  13.1 K getKey(); 13.2 V getValue(); 13.3 V setValue(V value); 13.4 boolean equals(Object o); 13.">



    <title>Map | JDK8源码阅读笔记</title>

    <link rel="icon" href="/jdk8-src-note/favicon/favicon-32x32.png" type="image/x-icon">

    <script src="/jdk8-src-note/js/darkmode-ce906ea916.min.js"></script>

<link rel="preload" as="font" href="/jdk8-src-note/fonts/Metropolis.woff2" type="font/woff2" crossorigin="anonymous">
<link rel="preload" as="font" href="/jdk8-src-note/fonts/LiberationSans.woff2" type="font/woff2" crossorigin="anonymous">

<link rel="preload" href="/jdk8-src-note/main-cc3cbe901b.min.css" as="style">
<link rel="stylesheet" href="/jdk8-src-note/main-cc3cbe901b.min.css" media="all">

<link rel="preload" href="/jdk8-src-note/mobile-249b801e7d.min.css" as="style">
<link rel="stylesheet" href="/jdk8-src-note/mobile-249b801e7d.min.css" media="screen and (max-width: 45rem)">

<link rel="preload" href="/jdk8-src-note/print-f79fc3e5d7.min.css" as="style">
<link rel="stylesheet" href="/jdk8-src-note/print-f79fc3e5d7.min.css" media="print">

<link rel="preload" href="/jdk8-src-note/custom.css" as="style">
<link rel="stylesheet" href="/jdk8-src-note/custom.css" media="all">



<!-- Made with Geekdoc theme https://github.com/thegeeklab/hugo-geekdoc -->

    

</head>

<body itemscope itemtype="https://schema.org/WebPage">
    
<!-- geekdoc include: sprites/abstractClass.svg -->
<svg  id="abstractClass" class="svg-sprite" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 16 16">
  <defs>
    <rect id="abstractclass-a" width="8" height="14"/>
  </defs>
  <g fill="none" fill-rule="evenodd">
    <path fill="#9AA7B0" fill-opacity=".8" d="M3 3.1055C1.764 4.3685 1 6.0935 1 8.0005 1 9.9065 1.764 11.6315 3 12.8945L3 3.1055zM13 3.1055L13 12.8945C14.236 11.6315 15 9.9065 15 8.0005 15 6.0935 14.236 4.3675 13 3.1055"/>
    <g transform="translate(4 1)">
      <mask id="abstractclass-b" fill="#fff">
        <use xlink:href="#abstractclass-a"/>
      </mask>
      <g mask="url(#abstractclass-b)">
        <g transform="translate(-4 -1)">
          <path fill="#40B6E0" fill-opacity=".6" d="M15,8 C15,11.866 11.866,15 8,15 C4.134,15 1,11.866 1,8 C1,4.134 4.134,1 8,1 C11.866,1 15,4.134 15,8"/>
          <path fill="#231F20" fill-opacity=".7" d="M5,4.28253174 C4.53,4.74153174 4.028,4.978 3.1,5 C2.061,5.022 1,4.2794 1,3.0004 C1,1.7124 1.971,1 3.1,1 C3.94833171,1 4.54833171,1.18475342 4.9,1.55426025 L5.5162,0.836730957 C4.8293999,0.270175195 4.28826904,0.0004 3.0982,0.0004 C1.3402,0.0004 0.0002,1.3584 0.0002,3.0004 C0.0002,4.6824 1.3642,6.0004 3.0022,6.0004 C4.29284668,6.0004 5.0232,5.5934 5.6162,4.9814 C5.2054,4.51548783 5,4.28253174 5,4.28253174 Z" transform="translate(5 5)"/>
        </g>
      </g>
    </g>
  </g>
</svg>


<!-- geekdoc include: sprites/class.svg -->
<svg id="class" class="svg-sprite" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">
  <g fill="none" fill-rule="evenodd">
    <path fill="#40B6E0" fill-opacity=".6" d="M15,8 C15,11.866 11.866,15 8,15 C4.134,15 1,11.866 1,8 C1,4.134 4.134,1 8,1 C11.866,1 15,4.134 15,8"/>
    <path fill="#231F20" fill-opacity=".7" d="M5,4.28253174 C4.53,4.74153174 4.028,4.978 3.1,5 C2.061,5.022 1,4.2794 1,3.0004 C1,1.7124 1.971,1 3.1,1 C3.94833171,1 4.54833171,1.18475342 4.9,1.55426025 L5.5162,0.836730957 C4.8293999,0.270175195 4.28826904,0.0004 3.0982,0.0004 C1.3402,0.0004 0.0002,1.3584 0.0002,3.0004 C0.0002,4.6824 1.3642,6.0004 3.0022,6.0004 C4.29284668,6.0004 5.0232,5.5934 5.6162,4.9814 C5.2054,4.51548783 5,4.28253174 5,4.28253174 Z" transform="translate(5 5)"/>
  </g>
</svg>


<!-- geekdoc include: sprites/interface.svg -->
<svg  id="interface" class="svg-sprite" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">
  <g fill="none" fill-rule="evenodd">
    <path fill="#62B543" fill-opacity=".6" d="M15,8 C15,11.866 11.866,15 8,15 C4.134,15 1,11.866 1,8 C1,4.134 4.134,1 8,1 C11.866,1 15,4.134 15,8"/>
    <polygon fill="#231F20" fill-opacity=".7" points="8.5 10 8.5 6 9.5 5.664 9.5 5 6.5 5 6.5 5.664 7.5 6 7.5 10 6.5 10.344 6.5 11 9.5 11 9.5 10.344"/>
  </g>
</svg>


<!-- geekdoc include: sprites/package.svg -->
<svg id="package" class="svg-sprite" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">
  <path fill="#9AA7B0" fill-opacity=".8" fill-rule="evenodd" d="M6,10.4951 C4.896,10.4951 4.001,9.6001 4,8.4981 C3.999,7.3941 4.894,6.5001 5.997,6.5001 C7.102,6.5001 7.997,7.3941 7.998,8.4981 C7.999,9.6001 7.104,10.4951 6,10.4951 Z M7.984,4.0001 L6.696,2.7111 C6.305,2.3201 5.532,2.0001 4.979,2.0001 L1.051,2.0001 C1.023,2.0001 1,2.0231 1,2.0511 L1,13.0001 L15,13.0001 L15,4.0001 L7.984,4.0001 Z"/>
</svg>


<!-- geekdoc include: sprites/geekdoc.svg -->
<svg class="svg-sprite" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><symbol viewBox="-2.29 -2.29 28.57 28.57" id="gdoc_arrow_back" xmlns="http://www.w3.org/2000/svg"><path d="M24 10.526v2.947H5.755l8.351 8.421-2.105 2.105-12-12 12-12 2.105 2.105-8.351 8.421H24z"/></symbol><symbol viewBox="-2.29 -2.29 28.57 28.57" id="gdoc_arrow_left_alt" xmlns="http://www.w3.org/2000/svg"><path d="M5.965 10.526V6.035L0 12l5.965 5.965v-4.491H24v-2.947H5.965z"/></symbol><symbol viewBox="-2.29 -2.29 28.57 28.57" id="gdoc_arrow_right_alt" xmlns="http://www.w3.org/2000/svg"><path d="M18.035 10.526V6.035L24 12l-5.965 5.965v-4.491H0v-2.947h18.035z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_bitbucket" xmlns="http://www.w3.org/2000/svg"><path d="M15.905 13.355c.189 1.444-1.564 2.578-2.784 1.839-1.375-.602-1.375-2.784-.034-3.403 1.151-.705 2.818.223 2.818 1.564zm1.907-.361c-.309-2.44-3.076-4.056-5.328-3.042-1.426.636-2.389 2.148-2.32 3.747.086 2.097 2.08 3.815 4.176 3.626s3.729-2.234 3.472-4.331zm4.108-9.315c-.756-.997-2.045-1.169-3.179-1.358-3.214-.516-6.513-.533-9.727.034-1.066.172-2.269.361-2.939 1.323 1.1 1.031 2.664 1.186 4.073 1.358 2.544.327 5.156.344 7.699.017 1.426-.172 3.008-.309 4.073-1.375zm.979 17.788c-.481 1.684-.206 3.953-1.994 4.932-3.076 1.701-6.806 1.89-10.191 1.289-1.787-.327-3.884-.894-4.864-2.578-.43-1.65-.705-3.334-.98-5.018l.103-.275.309-.155c5.121 3.386 12.288 3.386 17.427 0 .808.241.206 1.22.189 1.805zM26.01 4.951c-.584 3.764-1.255 7.51-1.908 11.257-.189 1.1-1.255 1.719-2.148 2.183-3.214 1.615-6.96 1.89-10.483 1.512-2.389-.258-4.829-.894-6.771-2.389-.911-.705-.911-1.908-1.083-2.922-.602-3.523-1.289-7.046-1.719-10.604.206-1.547 1.942-2.217 3.231-2.698C6.848.654 8.686.362 10.508.19c3.884-.378 7.854-.241 11.618.859 1.341.395 2.784.945 3.695 2.097.412.533.275 1.203.189 1.805z"/></symbol><symbol viewBox="-2.29 -2.29 28.57 28.57" id="gdoc_bookmark" xmlns="http://www.w3.org/2000/svg"><path d="M15.268 4.392q.868 0 1.532.638t.664 1.506v17.463l-7.659-3.268-7.608 3.268V6.536q0-.868.664-1.506t1.532-.638h10.876zm4.34 14.144V4.392q0-.868-.638-1.532t-1.506-.664H6.537q0-.868.664-1.532T8.733 0h10.876q.868 0 1.532.664t.664 1.532v17.412z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_brightness_auto" xmlns="http://www.w3.org/2000/svg"><path d="M16.846 18.938h2.382L15.22 7.785h-2.44L8.772 18.938h2.382l.871-2.44h3.95zm7.087-9.062L27.999 14l-4.066 4.124v5.809h-5.809L14 27.999l-4.124-4.066H4.067v-5.809L.001 14l4.066-4.124V4.067h5.809L14 .001l4.124 4.066h5.809v5.809zm-11.385 4.937L14 10.282l1.452 4.531h-2.904z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_brightness_dark" xmlns="http://www.w3.org/2000/svg"><path d="M14 21.435q3.079 0 5.257-2.178T21.435 14t-2.178-5.257T14 6.565q-1.51 0-3.079.697 1.917.871 3.108 2.701T15.22 14t-1.191 4.037-3.108 2.701q1.568.697 3.079.697zm9.933-11.559L27.999 14l-4.066 4.124v5.809h-5.809L14 27.999l-4.124-4.066H4.067v-5.809L.001 14l4.066-4.124V4.067h5.809L14 .001l4.124 4.066h5.809v5.809z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_brightness_light" xmlns="http://www.w3.org/2000/svg"><path d="M14 21.435q3.079 0 5.257-2.178T21.435 14t-2.178-5.257T14 6.565 8.743 8.743 6.565 14t2.178 5.257T14 21.435zm9.933-3.311v5.809h-5.809L14 27.999l-4.124-4.066H4.067v-5.809L.001 14l4.066-4.124V4.067h5.809L14 .001l4.124 4.066h5.809v5.809L27.999 14z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_cloud_off" xmlns="http://www.w3.org/2000/svg"><path d="M9.023 10.5H7q-1.914 0-3.281 1.395t-1.367 3.309 1.367 3.281T7 19.852h11.375zM3.5 4.976l1.477-1.477L24.5 23.022l-1.477 1.477-2.352-2.297H6.999q-2.898 0-4.949-2.051t-2.051-4.949q0-2.844 1.969-4.867t4.758-2.133zm19.086 5.578q2.242.164 3.828 1.832T28 16.351q0 3.008-2.461 4.758l-1.695-1.695q1.805-.984 1.805-3.063 0-1.422-1.039-2.461t-2.461-1.039h-1.75v-.602q0-2.68-1.859-4.539t-4.539-1.859q-1.531 0-2.953.711l-1.75-1.695Q11.431 3.5 14.001 3.5q2.953 0 5.496 2.078t3.09 4.977z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_code" xmlns="http://www.w3.org/2000/svg"><path d="M9.917 24.5a1.75 1.75 0 10-3.501.001 1.75 1.75 0 003.501-.001zm0-21a1.75 1.75 0 10-3.501.001A1.75 1.75 0 009.917 3.5zm11.666 2.333a1.75 1.75 0 10-3.501.001 1.75 1.75 0 003.501-.001zm1.75 0a3.502 3.502 0 01-1.75 3.026c-.055 6.581-4.721 8.039-7.82 9.023-2.898.911-3.846 1.349-3.846 3.117v.474a3.502 3.502 0 011.75 3.026c0 1.932-1.568 3.5-3.5 3.5s-3.5-1.568-3.5-3.5c0-1.294.711-2.424 1.75-3.026V6.526A3.502 3.502 0 014.667 3.5c0-1.932 1.568-3.5 3.5-3.5s3.5 1.568 3.5 3.5a3.502 3.502 0 01-1.75 3.026v9.06c.93-.456 1.914-.766 2.807-1.039 3.391-1.075 5.323-1.878 5.359-5.687a3.502 3.502 0 01-1.75-3.026c0-1.932 1.568-3.5 3.5-3.5s3.5 1.568 3.5 3.5z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_date" xmlns="http://www.w3.org/2000/svg"><path d="M27.192 28.844V11.192H4.808v17.652h22.384zm0-25.689q1.277 0 2.253.976t.976 2.253v22.459q0 1.277-.976 2.216t-2.253.939H4.808q-1.352 0-2.291-.901t-.939-2.253V6.385q0-1.277.939-2.253t2.291-.976h1.577V.001h3.23v3.155h12.769V.001h3.23v3.155h1.577zm-3.155 11.267v3.155h-3.23v-3.155h3.23zm-6.46 0v3.155h-3.155v-3.155h3.155zm-6.384 0v3.155h-3.23v-3.155h3.23z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_download" xmlns="http://www.w3.org/2000/svg"><path d="M2.866 28.209h26.269v3.79H2.866v-3.79zm26.268-16.925L16 24.418 2.866 11.284h7.493V.001h11.283v11.283h7.493z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_email" xmlns="http://www.w3.org/2000/svg"><path d="M28.845 9.615v-3.23L16 14.422 3.155 6.385v3.23L16 17.577zm0-6.46q1.277 0 2.216.977T32 6.385v19.23q0 1.277-.939 2.253t-2.216.977H3.155q-1.277 0-2.216-.977T0 25.615V6.385q0-1.277.939-2.253t2.216-.977h25.69z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_git" xmlns="http://www.w3.org/2000/svg"><path d="M27.472 12.753L15.247.529a1.803 1.803 0 00-2.55 0l-2.84 2.84 2.137 2.137a2.625 2.625 0 013.501 3.501l3.499 3.499a2.625 2.625 0 11-1.237 1.237l-3.499-3.499c-.083.04-.169.075-.257.106v7.3a2.626 2.626 0 11-1.75 0v-7.3a2.626 2.626 0 01-1.494-3.607L8.62 4.606l-8.09 8.09a1.805 1.805 0 000 2.551l12.225 12.224a1.803 1.803 0 002.55 0l12.168-12.168a1.805 1.805 0 000-2.551z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_github" xmlns="http://www.w3.org/2000/svg"><path d="M16 .394c8.833 0 15.999 7.166 15.999 15.999 0 7.062-4.583 13.062-10.937 15.187-.813.146-1.104-.354-1.104-.771 0-.521.021-2.25.021-4.396 0-1.5-.5-2.458-1.083-2.958 3.562-.396 7.312-1.75 7.312-7.896 0-1.75-.625-3.167-1.646-4.291.167-.417.708-2.042-.167-4.25-1.333-.417-4.396 1.646-4.396 1.646a15.032 15.032 0 00-8 0S8.937 6.602 7.603 7.018c-.875 2.208-.333 3.833-.167 4.25-1.021 1.125-1.646 2.542-1.646 4.291 0 6.125 3.729 7.5 7.291 7.896-.458.417-.875 1.125-1.021 2.146-.917.417-3.25 1.125-4.646-1.333-.875-1.521-2.458-1.646-2.458-1.646-1.562-.021-.104.979-.104.979 1.042.479 1.771 2.333 1.771 2.333.938 2.854 5.396 1.896 5.396 1.896 0 1.333.021 2.583.021 2.979 0 .417-.292.917-1.104.771C4.582 29.455-.001 23.455-.001 16.393-.001 7.56 7.165.394 15.998.394zM6.063 23.372c.042-.083-.021-.187-.146-.25-.125-.042-.229-.021-.271.042-.042.083.021.187.146.25.104.062.229.042.271-.042zm.646.709c.083-.062.062-.208-.042-.333-.104-.104-.25-.146-.333-.062-.083.062-.062.208.042.333.104.104.25.146.333.062zm.625.937c.104-.083.104-.25 0-.396-.083-.146-.25-.208-.354-.125-.104.062-.104.229 0 .375s.271.208.354.146zm.875.875c.083-.083.042-.271-.083-.396-.146-.146-.333-.167-.417-.062-.104.083-.062.271.083.396.146.146.333.167.417.062zm1.187.521c.042-.125-.083-.271-.271-.333-.167-.042-.354.021-.396.146s.083.271.271.312c.167.062.354 0 .396-.125zm1.313.104c0-.146-.167-.25-.354-.229-.187 0-.333.104-.333.229 0 .146.146.25.354.229.187 0 .333-.104.333-.229zm1.208-.208c-.021-.125-.187-.208-.375-.187-.187.042-.312.167-.292.312.021.125.187.208.375.167s.312-.167.292-.292z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_gitlab" xmlns="http://www.w3.org/2000/svg"><path d="M1.629 11.034L14 26.888.442 17.048a1.09 1.09 0 01-.39-1.203l1.578-4.811zm7.217 0h10.309l-5.154 15.854zM5.753 1.475l3.093 9.559H1.63l3.093-9.559a.548.548 0 011.031 0zm20.618 9.559l1.578 4.811c.141.437-.016.922-.39 1.203l-13.558 9.84 12.371-15.854zm0 0h-7.216l3.093-9.559a.548.548 0 011.031 0z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_heart" xmlns="http://www.w3.org/2000/svg"><path d="M16 29.714a1.11 1.11 0 01-.786-.321L4.072 18.643c-.143-.125-4.071-3.714-4.071-8 0-5.232 3.196-8.357 8.535-8.357 3.125 0 6.053 2.464 7.464 3.857 1.411-1.393 4.339-3.857 7.464-3.857 5.339 0 8.535 3.125 8.535 8.357 0 4.286-3.928 7.875-4.089 8.035L16.785 29.392c-.214.214-.5.321-.786.321z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_keyborad_arrow_down" xmlns="http://www.w3.org/2000/svg"><path d="M3.281 5.36L14 16.079 24.719 5.36 28 8.641l-14 14-14-14z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_keyborad_arrow_left" xmlns="http://www.w3.org/2000/svg"><path d="M25.875 28.25L22.125 32 6.126 16.001 22.125.002l3.75 3.75-12.25 12.25z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_keyborad_arrow_right" xmlns="http://www.w3.org/2000/svg"><path d="M6.125 28.25L18.375 16 6.125 3.75 9.875 0l15.999 15.999L9.875 31.998z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_link" xmlns="http://www.w3.org/2000/svg"><path d="M24.037 7.963q3.305 0 5.634 2.366T32 16t-2.329 5.671-5.634 2.366h-6.46v-3.08h6.46q2.028 0 3.493-1.465t1.465-3.493-1.465-3.493-3.493-1.465h-6.46v-3.08h6.46zM9.615 17.578v-3.155h12.77v3.155H9.615zM3.005 16q0 2.028 1.465 3.493t3.493 1.465h6.46v3.08h-6.46q-3.305 0-5.634-2.366T0 16.001t2.329-5.671 5.634-2.366h6.46v3.08h-6.46q-2.028 0-3.493 1.465t-1.465 3.493z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_menu" xmlns="http://www.w3.org/2000/svg"><path d="M.001 5.334h31.998v3.583H.001V5.334zm0 12.416v-3.5h31.998v3.5H.001zm0 8.916v-3.583h31.998v3.583H.001z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_notification" xmlns="http://www.w3.org/2000/svg"><path d="M22.615 19.384l2.894 2.894v1.413H2.49v-1.413l2.894-2.894V12.25q0-3.365 1.716-5.856t4.745-3.231v-1.01q0-.875.606-1.514T13.999 0t1.548.639.606 1.514v1.01q3.029.74 4.745 3.231t1.716 5.856v7.134zM14 27.999q-1.211 0-2.053-.808t-.841-2.019h5.788q0 1.144-.875 1.986T14 27.999z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_path" xmlns="http://www.w3.org/2000/svg"><path d="M28 12.62h-9.793V8.414h-2.826v11.173h2.826v-4.206H28V26.62h-9.793v-4.206H12.62v-14H9.794v4.206H.001V1.381h9.793v4.206h8.413V1.381H28V12.62z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_person" xmlns="http://www.w3.org/2000/svg"><path d="M16 20.023q5.052 0 10.526 2.199t5.473 5.754v4.023H0v-4.023q0-3.555 5.473-5.754t10.526-2.199zM16 16q-3.275 0-5.614-2.339T8.047 8.047t2.339-5.661T16 0t5.614 2.386 2.339 5.661-2.339 5.614T16 16z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_search" xmlns="http://www.w3.org/2000/svg"><path d="M11.925 20.161q3.432 0 5.834-2.402t2.402-5.834-2.402-5.834-5.834-2.402-5.834 2.402-2.402 5.834 2.402 5.834 5.834 2.402zm10.981 0L32 29.255 29.255 32l-9.094-9.094v-1.458l-.515-.515q-3.26 2.831-7.721 2.831-4.976 0-8.45-3.432T.001 11.925t3.474-8.45 8.45-3.474 8.407 3.474 3.432 8.45q0 1.802-.858 4.075t-1.973 3.646l.515.515h1.458z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_shield" xmlns="http://www.w3.org/2000/svg"><path d="M22.167 15.166V3.5h-8.166v20.726c.93-.492 2.424-1.349 3.883-2.497 1.95-1.531 4.284-3.919 4.284-6.562zm3.499-13.999v14c0 7.674-10.737 12.523-11.192 12.724-.146.073-.31.109-.474.109s-.328-.036-.474-.109c-.456-.201-11.192-5.049-11.192-12.724v-14C2.334.529 2.863 0 3.501 0H24.5c.638 0 1.167.529 1.167 1.167z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_tags" xmlns="http://www.w3.org/2000/svg"><path d="M6.606 7.549c0-1.047-.84-1.887-1.887-1.887s-1.887.84-1.887 1.887.84 1.887 1.887 1.887 1.887-.84 1.887-1.887zm15.732 8.493c0 .501-.206.988-.546 1.327l-7.239 7.254c-.354.339-.84.546-1.342.546s-.988-.206-1.327-.546L1.342 14.066C.59 13.329 0 11.899 0 10.852V4.718a1.9 1.9 0 011.887-1.887h6.134c1.047 0 2.477.59 3.229 1.342L21.792 14.7c.339.354.546.84.546 1.342zm5.661 0c0 .501-.206.988-.546 1.327l-7.239 7.254c-.354.339-.84.546-1.342.546-.767 0-1.15-.354-1.651-.87l6.93-6.93c.339-.339.546-.826.546-1.327s-.206-.988-.546-1.342L13.609 4.173c-.752-.752-2.182-1.342-3.229-1.342h3.303c1.047 0 2.477.59 3.229 1.342L27.454 14.7c.339.354.546.84.546 1.342z"/></symbol></svg>



    <div class="wrapper ">
        <input type="checkbox" class="hidden" id="menu-control" />
        
        <header class="gdoc-header">
    <div class="container flex align-center justify-between">
        
        <label for="menu-control" class="gdoc-nav__control">
            <svg class="icon gdoc_menu"><use xlink:href="#gdoc_menu"></use></svg>
            <svg class="icon gdoc_arrow_back"><use xlink:href="#gdoc_arrow_back"></use></svg>
        </label>
        
        <a class="gdoc-header__link" href="https://hongmao.run/jdk8-src-note/">
            <span class="gdoc-brand flex align-center">
                <img class="gdoc-brand__img" src="/jdk8-src-note/brand.svg" alt="">
                JDK8源码阅读笔记
            </span>
        </a>
        <span id="gdoc-dark-mode">
            <svg class="icon gdoc_brightness_dark"><use xlink:href="#gdoc_brightness_dark"></use></svg>
            <svg class="icon gdoc_brightness_light"><use xlink:href="#gdoc_brightness_light"></use></svg>
            <svg class="icon gdoc_brightness_auto"><use xlink:href="#gdoc_brightness_auto"></use></svg>
        </span>
    </div>
</header>


        <main class="container flex flex-even">
            
            <aside class="gdoc-nav">
                <nav>
    
    <div class="gdoc-search">
        <svg class="icon gdoc_search"><use xlink:href="#gdoc_search"></use></svg>
        <input type="text" id="gdoc-search-input" class="gdoc-search__input" placeholder="Search..."
            aria-label="Search" maxlength="64" />
        <div class="gdoc-search__spinner spinner hidden"></div>
        <ul id="gdoc-search-results" class="gdoc-search__list"></ul>
    </div>



    <section class="gdoc-nav--main">
        <h2>Navigation</h2>
        
            




<ul class="gdoc-nav__list">

    
    

    <li>
        
        
            
            
            
            
            
            
            
            
            

            
            <span class="flex">
                <svg class="icon package"><use xlink:href="#package"></use></svg>
                <a href="/jdk8-src-note/java/"
                    class="gdoc-nav__entry ">
                    java
                </a>
            </span>
            
        

        
            



<ul class="gdoc-nav__list">

    
    

    <li>
        
        
            
            
            
            
            
            
            
            
            

            
            <span class="flex">
                <svg class="icon package"><use xlink:href="#package"></use></svg>
                <a href="/jdk8-src-note/java/util/"
                    class="gdoc-nav__entry ">
                    util
                </a>
            </span>
            
        

        
            



<ul class="gdoc-nav__list">

    
    

    <li>
        
        
            
            
            
            
            
            
            
            
            

            
            <span class="flex">
                <svg class="icon abstractClass"><use xlink:href="#abstractClass"></use></svg>
                <a href="/jdk8-src-note/java/util/AbstractCollection/"
                    class="gdoc-nav__entry ">
                    AbstractCollection
                </a>
            </span>
            
        

        
    </li>


    
    

    <li>
        
        
            
            
            
            
            
            
            
            
            

            
            <span class="flex">
                <svg class="icon abstractClass"><use xlink:href="#abstractClass"></use></svg>
                <a href="/jdk8-src-note/java/util/AbstractList/"
                    class="gdoc-nav__entry ">
                    AbstractList
                </a>
            </span>
            
        

        
    </li>


    
    

    <li>
        
        
            
            
            
            
            
            
            
            
            

            
            <span class="flex">
                <svg class="icon abstractClass"><use xlink:href="#abstractClass"></use></svg>
                <a href="/jdk8-src-note/java/util/AbstractSequentialList/"
                    class="gdoc-nav__entry ">
                    AbstractSequentialList
                </a>
            </span>
            
        

        
    </li>


    
    

    <li>
        
        
            
            
            
            
            
            
            
            
            

            
            <span class="flex">
                <svg class="icon class"><use xlink:href="#class"></use></svg>
                <a href="/jdk8-src-note/java/util/ArrayList/"
                    class="gdoc-nav__entry ">
                    ArrayList
                </a>
            </span>
            
        

        
    </li>


    
    

    <li>
        
        
            
            
            
            
            
            
            
            
            

            
            <span class="flex">
                <svg class="icon interface"><use xlink:href="#interface"></use></svg>
                <a href="/jdk8-src-note/java/util/Collection/"
                    class="gdoc-nav__entry ">
                    Collection
                </a>
            </span>
            
        

        
    </li>


    
    

    <li>
        
        
            
            
            
            
            
            
            
            
            

            
            <span class="flex">
                <svg class="icon interface"><use xlink:href="#interface"></use></svg>
                <a href="/jdk8-src-note/java/util/Deque/"
                    class="gdoc-nav__entry ">
                    Deque
                </a>
            </span>
            
        

        
    </li>


    
    

    <li>
        
        
            
            
            
            
            
            
            
            
            

            
            <span class="flex">
                <svg class="icon interface"><use xlink:href="#interface"></use></svg>
                <a href="/jdk8-src-note/java/util/Iterator/"
                    class="gdoc-nav__entry ">
                    Iterator
                </a>
            </span>
            
        

        
    </li>


    
    

    <li>
        
        
            
            
            
            
            
            
            
            
            

            
            <span class="flex">
                <svg class="icon class"><use xlink:href="#class"></use></svg>
                <a href="/jdk8-src-note/java/util/LinkedList/"
                    class="gdoc-nav__entry ">
                    LinkedList
                </a>
            </span>
            
        

        
    </li>


    
    

    <li>
        
        
            
            
            
            
            
            
            
            
            

            
            <span class="flex">
                <svg class="icon interface"><use xlink:href="#interface"></use></svg>
                <a href="/jdk8-src-note/java/util/List/"
                    class="gdoc-nav__entry ">
                    List
                </a>
            </span>
            
        

        
    </li>


    
    

    <li>
        
        
            
            
            
            
            
            
            
            
            

            
            <span class="flex">
                <svg class="icon interface"><use xlink:href="#interface"></use></svg>
                <a href="/jdk8-src-note/java/util/ListIterator/"
                    class="gdoc-nav__entry ">
                    ListIterator
                </a>
            </span>
            
        

        
    </li>


    
    

    <li>
        
        
            
            
            
            
            
            
            
            
            

            
            <span class="flex">
                <svg class="icon interface"><use xlink:href="#interface"></use></svg>
                <a href="/jdk8-src-note/java/util/Map/"
                    class="gdoc-nav__entry is-active">
                    Map
                </a>
            </span>
            
        

        
    </li>


    
    

    <li>
        
        
            
            
            
            
            
            
            
            
            

            
            <span class="flex">
                <svg class="icon interface"><use xlink:href="#interface"></use></svg>
                <a href="/jdk8-src-note/java/util/Queue/"
                    class="gdoc-nav__entry ">
                    Queue
                </a>
            </span>
            
        

        
    </li>


    
    

    <li>
        
        
            
            
            
            
            
            
            
            
            

            
            <span class="flex">
                <svg class="icon interface"><use xlink:href="#interface"></use></svg>
                <a href="/jdk8-src-note/java/util/RandomAccess/"
                    class="gdoc-nav__entry ">
                    RandomAccess
                </a>
            </span>
            
        

        
    </li>


    
    

    <li>
        
        
            
            
            
            
            
            
            
            
            

            
            <span class="flex">
                <svg class="icon class"><use xlink:href="#class"></use></svg>
                <a href="/jdk8-src-note/java/util/Vector/"
                    class="gdoc-nav__entry ">
                    Vector
                </a>
            </span>
            
        

        
    </li>


</ul>

        
    </li>


</ul>

        
    </li>


</ul>





        
    </section>

    <section class="gdoc-nav--more">
        
    </section>
</nav>

            </aside>
            

            <div class="gdoc-page">
                
    


    






<div class="gdoc-page__header flex flex-wrap
     justify-between 
     hidden-mobile 
    " itemprop="breadcrumb">
    
    <div>
        <svg class="icon gdoc_path hidden-mobile"><use xlink:href="#gdoc_path"></use></svg>
        <ol class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList">
            
            
            
            
    
    
        
        
        
        
    
    
        
        
        
        
    
    
        
        
        
        
    
    
        <li itemprop='itemListElement' itemscope itemtype='https://schema.org/ListItem'><a itemscope itemtype='https://schema.org/WebPage' itemprop='item' itemid='/jdk8-src-note/' href='/jdk8-src-note/'><span itemprop='name'>JDK8源码阅读笔记</span></a><meta itemprop='position' content='2' /></li><li> / </li><li itemprop='itemListElement' itemscope itemtype='https://schema.org/ListItem'><a itemscope itemtype='https://schema.org/WebPage' itemprop='item' itemid='/jdk8-src-note/java/' href='/jdk8-src-note/java/'><span itemprop='name'>java</span></a><meta itemprop='position' content='3' /></li><li> / </li><li itemprop='itemListElement' itemscope itemtype='https://schema.org/ListItem'><a itemscope itemtype='https://schema.org/WebPage' itemprop='item' itemid='/jdk8-src-note/java/util/' href='/jdk8-src-note/java/util/'><span itemprop='name'>util</span></a><meta itemprop='position' content='4' /></li><li> / </li><li itemprop='itemListElement' itemscope itemtype='https://schema.org/ListItem'><span itemprop='name'>Map</span><meta itemprop='position' content='5' /></li>
    

    

    

    

        </ol>
    </div>
    
    
</div>


    <article class="gdoc-markdown gdoc-markdown__align--left">
        <h1>Map</h1>
        <hr>



  <div class="gdoc-toc gdoc-toc__level--6"><nav id="TableOfContents">
  <ul>
    <li><a href="#1-int-size">1. int size();</a></li>
    <li><a href="#2-boolean-isempty">2. boolean isEmpty();</a></li>
    <li><a href="#3-boolean-containskeyobject-key">3. boolean containsKey(Object key);</a></li>
    <li><a href="#4-boolean-containsvalueobject-value">4. boolean containsValue(Object value);</a></li>
    <li><a href="#5-v-getobject-key">5. V get(Object key);</a></li>
    <li><a href="#6-v-putk-key-v-value">6. V put(K key, V value);</a></li>
    <li><a href="#7-v-removeobject-key">7. V remove(Object key);</a></li>
    <li><a href="#8-void-putallmap-extends-k--extends-v-m">8. void putAll(Map&lt;? extends K, ? extends V&gt; m);</a></li>
    <li><a href="#9-void-clear">9. void clear();</a></li>
    <li><a href="#10-setltk-keyset">10. Set&lt;K&gt; keySet();</a></li>
    <li><a href="#11-collectionltv-values">11. Collection&lt;V&gt; values();</a></li>
    <li><a href="#12-setmapentryk-v-entryset">12. Set&lt;Map.Entry&lt;K, V&raquo; entrySet();</a></li>
    <li><a href="#13-interface-entrykv">13. interface Entry&lt;K,V&gt;</a>
      <ul>
        <li><a href="#131-k-getkey">13.1 K getKey();</a></li>
        <li><a href="#132-v-getvalue">13.2 V getValue();</a></li>
        <li><a href="#133-v-setvaluev-value">13.3 V setValue(V value);</a></li>
        <li><a href="#134-boolean-equalsobject-o">13.4 boolean equals(Object o);</a></li>
        <li><a href="#135-int-hashcode">13.5 int hashCode();</a></li>
        <li><a href="#136-public-static-k-extends-comparable-super-k-v-comparatormapentrykv-comparingbykey">13.6 public static &lt;K extends Comparable&lt;? super K&gt;, V&gt; Comparator&lt;Map.Entry&lt;K,V&raquo; comparingByKey()</a></li>
        <li><a href="#137-public-static-k-v-extends-comparable-super-v-comparatormapentrykv-comparingbyvalue">13.7 public static &lt;K, V extends Comparable&lt;? super V&raquo; Comparator&lt;Map.Entry&lt;K,V&raquo; comparingByValue()</a></li>
        <li><a href="#138-public-static-k-v-comparatormapentryk-v-comparingbykeycomparator-super-k-cmp">13.8 public static &lt;K, V&gt; Comparator&lt;Map.Entry&lt;K, V&raquo; comparingByKey(Comparator&lt;? super K&gt; cmp)</a></li>
        <li><a href="#139-public-static-k-v-comparatormapentryk-v-comparingbyvaluecomparator-super-v-cmp">13.9 public static &lt;K, V&gt; Comparator&lt;Map.Entry&lt;K, V&raquo; comparingByValue(Comparator&lt;? super V&gt; cmp)</a></li>
      </ul>
    </li>
    <li><a href="#14-boolean-equalsobject-o">14. boolean equals(Object o);</a></li>
    <li><a href="#15-int-hashcode">15. int hashCode();</a></li>
    <li><a href="#16-default-v-getordefaultobject-key-v-defaultvalue">16. default V getOrDefault(Object key, V defaultValue)</a></li>
    <li><a href="#17-default-void-foreachbiconsumer-super-k--super-v-action">17. default void forEach(BiConsumer&lt;? super K, ? super V&gt; action)</a></li>
    <li><a href="#18-default-void-replaceallbifunction-super-k--super-v--extends-v-function">18. default void replaceAll(BiFunction&lt;? super K, ? super V, ? extends V&gt; function)</a></li>
    <li><a href="#19-default-v-putifabsentk-key-v-value">19. default V putIfAbsent(K key, V value)</a></li>
    <li><a href="#20-default-boolean-removeobject-key-object-value">20. default boolean remove(Object key, Object value)</a></li>
    <li><a href="#21-default-boolean-replacek-key-v-oldvalue-v-newvalue">21. default boolean replace(K key, V oldValue, V newValue)</a></li>
    <li><a href="#22-default-v-replacek-key-v-value">22. default V replace(K key, V value)</a></li>
    <li><a href="#23-default-v-computeifabsentk-key-function-super-k--extends-v-mappingfunction">23. default V computeIfAbsent(K key, Function&lt;? super K, ? extends V&gt; mappingFunction</a></li>
    <li><a href="#24-default-v-computeifpresentk-key-bifunction-super-k--super-v--extends-v-remappingfunction">24. default V computeIfPresent(K key, BiFunction&lt;? super K, ? super V, ? extends V&gt; remappingFunction)</a></li>
    <li><a href="#25-default-v-computek-key-bifunction-super-k--super-v--extends-v-remappingfunction">25. default V compute(K key, BiFunction&lt;? super K, ? super V, ? extends V&gt; remappingFunction)</a></li>
    <li><a href="#26-default-v-mergek-key-v-value-bifunction-super-v--super-v--extends-v-remappingfunction">26. default V merge(K key, V value, BiFunction&lt;? super V, ? super V, ? extends V&gt; remappingFunction)</a></li>
  </ul>
</nav><hr></div>


<p><code>Map</code>是将键映射到值的对象。它不能包含重复的键；每个键最多可以映射到一个值。</p>
<p>这个接口取代了<code>Dictionary</code>类，<code>Dictionary</code>是一个完全抽象的类而不是一个接口。</p>
<p><code>Map</code>接口提供三种集合视图，允许将map的内容视为键的集合、值的集合或键值映射的集合。map的顺序被定义为map集合视图上的迭代器返回其元素的顺序。一些<code>Map</code>实现，比如<code>TreeMap</code>类，对它们的顺序做出了具体的保证；其他的，比如<code>HashMap</code>类便没有这种保证。</p>
<p>注意：如果将可变对象用作map的键，则必须非常小心。如果对象的值以影响<code>equals</code>比较的方式更改，而该对象又是映射中的键，则此时map的行为是不确定的。此禁令的一个特殊情况是不允许map将自身作为键。虽然允许map将自身包含为值，但建议格外小心：<code>equals</code>和<code>hashCode</code>方法未在此类map上明确定义。</p>
<p>所有通用<code>Map</code>实现类都应该提供两个“标准”构造函数：一个创建空map的<code>void</code>（无参）构造函数，以及一个类型为 <code>Map</code>的单个参数的构造函数，它将创建一个新map并具有与其参数中指定map相同的键值映射。实际上，后一个构造函数允许用户复制任何map，生成所需类的等效map。没有办法强制执行此建议（因为接口不能包含构造函数），但 JDK 中的所有通用map实现都符合此规范。</p>
<p>此接口中包含的“破坏性”方法，即操作它们时修改map的方法，如果此map不支持该操作，则指定为抛出<code>UnsupportedOperationException</code>。在这种情况下，如果调用对map没有影响，则这些方法可能（但不是必需）抛出<code>UnsupportedOperationException</code>。例如，在不可修改的map上调用<code>putAll(Map)</code>方法，如果要“叠加”的map为空的话则可能（但不是必须）抛出异常。</p>
<p>一些<code>Map</code>实现对它们可能包含的键和值有限制。例如，有些实现禁止空的键和值，有些实现对其键的类型有限制。尝试插入不合格的键或值会引发未经检查的异常，通常是<code>NullPointerException</code>或<code>ClassCastException</code>。尝试查询不合格的键或值可能会引发异常，或者它可能只是返回<code>false</code>；一些实现会表现出前一种行为，而另一些会表现出后者。更一般地，尝试对不合格的键或值执行操作，其完成不会导致不合格的元素插入到map中，可能会引发异常，也可能会成功，具体取决于实现的选择。在此接口的规范中，此类异常被标记为“可选”。</p>
<p>集合框架接口中的许多方法都是根据<code>equals</code>方法定义的。例如，<code>containsKey(Object key)</code>方法的规范说：“当且仅当此map包含键<code>k</code>使得<code>(key==null ? k==null : key.equals(k))</code>返回<code>true</code>。”本规范不应被解释为意味着使用非空参数<code>key</code>调用<code>Map.containsKey</code>将导致为任何键<code>k</code>调用<code>key.equals(k)</code>。实现类可以自由地进行优化，从而避免<code>equals</code>调用，例如，通过首先比较两个键的哈希码。<code>Object</code>的<code>hashCode()</code>规范保证哈希码不相等的两个对象不能相等。）更一般地说，各种集合框架接口的实现可以在实现者认为合适的任何地方自由地利用底层<code>Object</code>方法的指定行为。</p>
<p>执行map某些递归遍历的操作可能会失败，但map直接或间接包含自身的自引用实例除外。这包括<code>clone()</code>、<code>equals()</code>、<code>hashCode()</code>和<code>toString()</code>方法。实现可以选择性地处理自引用场景，但是大多数当前的实现都没有这样做。</p>
<p>该接口是Java集合框架的成员。</p>
<hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="1-int-size">
        1. int size();
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/Map/#1-int-size" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 1. int size();" href="#1-int-size">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>返回此map中键值映射的数量。如果map包含多于<code>Integer.MAX_VALUE</code>个元素，则返回<code>Integer.MAX_VALUE</code>。</p>
<hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="2-boolean-isempty">
        2. boolean isEmpty();
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/Map/#2-boolean-isempty" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 2. boolean isEmpty();" href="#2-boolean-isempty">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>如果此map不包含键值映射，则返回<code>true</code>。</p>
<hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="3-boolean-containskeyobject-key">
        3. boolean containsKey(Object key);
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/Map/#3-boolean-containskeyobject-key" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 3. boolean containsKey(Object key);" href="#3-boolean-containskeyobject-key">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>如果此map包含指定键的映射，则返回<code>true</code>。更正式地说，当且仅当此map包含键<code>k</code>的映射使得<code>(key==null ? k==null : key.equals(k))</code>则返回<code>true</code>。 （最多可以有一个这样的映射。）</p>
<hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="4-boolean-containsvalueobject-value">
        4. boolean containsValue(Object value);
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/Map/#4-boolean-containsvalueobject-value" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 4. boolean containsValue(Object value);" href="#4-boolean-containsvalueobject-value">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>如果此映射能将一个或多个键映射到指定的值，则返回<code>true</code>。更正式地说，当且仅当此映射包含至少一个映射的值<code>v</code>使得<code>(value==null ? v==null : value.equals(v))</code>。对于<code>Map</code>接口的大多数实现，此操作可能需要与map大小成线性关系的时间。</p>
<hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="5-v-getobject-key">
        5. V get(Object key);
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/Map/#5-v-getobject-key" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 5. V get(Object key);" href="#5-v-getobject-key">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>返回指定的键所映射的值，如果此map不包含该键的映射，则返回<code>null</code>。</p>
<p>更正式地说，如果此映射包含从键<code>k</code>到值<code>v</code>的映射，使得<code>(key==null ? k==null : key.equals(k))</code>，则方法返回<code>v</code>，否则返回<code>null</code>。 （最多可以有一个这样的映射。）</p>
<p>如果此map允许空值，则<code>null</code>的返回值并不一定表示该map不包含该键的映射，也有可能map将键显式映射到<code>null</code>。<code>containsKey</code>操作可用于区分这两种情况。</p>
<hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="6-v-putk-key-v-value">
        6. V put(K key, V value);
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/Map/#6-v-putk-key-v-value" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 6. V put(K key, V value);" href="#6-v-putk-key-v-value">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>在此map中将指定值与指定键相关联（可选操作）。如果map先前已包含键的映射，则旧值将替换为指定值。 （判断一个map <code>m</code>包含键<code>k</code>的映射，需满足的前提条件是：当且仅当<code>m.containsKey(k)</code>将返回<code>true</code>。）</p>
<hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="7-v-removeobject-key">
        7. V remove(Object key);
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/Map/#7-v-removeobject-key" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 7. V remove(Object key);" href="#7-v-removeobject-key">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>此map中如果存在指定键的映射，则将其删除（可选操作）。更正式地说，如果此<code>map</code>包含从键<code>k</code>到值<code>v</code>的映射，使得<code>(key==null ?  k==null : key.equals(k))</code>，则该映射将被删除。 （map最多可以包含一个这样的映射。）</p>
<p>返回此map先前与键关联的值，如果map不包含键的映射，则返回<code>null</code>。</p>
<p>如果此map允许空值，则返回值<code>null</code>并不一定表示该map不包含该键的映射，也有可能映射显式地将键映射到<code>null</code>（也就是存在某个key对应的value为<code>null</code>）。</p>
<p>一旦调用该方法获得返回值，map将不再包含指定键的映射。</p>
<hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="8-void-putallmap-extends-k--extends-v-m">
        8. void putAll(Map&lt;? extends K, ? extends V&gt; m);
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/Map/#8-void-putallmap-extends-k--extends-v-m" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 8. void putAll(Map&lt;? extends K, ? extends V&gt; m);" href="#8-void-putallmap-extends-k--extends-v-m">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>将所有映射从指定map复制到当前map（可选操作）。这个调用的效果相当于在当前map上调用<code>put(k, v)</code>将指定map中的每个从键<code>k</code>到值<code>v</code>的映射都添加到当前map中。如果在操作进行时修改了指定的map，则此操作的行为将变得不确定。</p>
<hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="9-void-clear">
        9. void clear();
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/Map/#9-void-clear" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 9. void clear();" href="#9-void-clear">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>从此map中删除所有映射（可选操作）。此调用返回后，map将为空。</p>
<hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="10-setltk-keyset">
        10. Set&lt;K&gt; keySet();
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/Map/#10-setltk-keyset" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 10. Set&lt;K&gt; keySet();" href="#10-setltk-keyset">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>返回此map中包含的键的<code>Set</code>视图。该集合基于当前map，因此对map的更改会反映在该集合中，反之亦然。如果在对集合进行迭代时修改了map（通过迭代器自己的<code>remove</code>操作除外），则迭代的结果是不确定的。该集合支持元素移除，即通过<code>Iterator.remove</code>、<code>Set.remove</code>、<code>removeAll</code>、<code>retainAll</code>和<code>clear</code>操作从map中移除相应的映射。它不支持<code>add</code>或<code>addAll</code>操作。</p>
<hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="11-collectionltv-values">
        11. Collection&lt;V&gt; values();
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/Map/#11-collectionltv-values" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 11. Collection&lt;V&gt; values();" href="#11-collectionltv-values">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>返回此map中包含的值的<code>Collection</code>视图。集合基于当前map，因此对map的更改会反映在集合中，反之亦然。如果在对集合进行迭代时修改了map（通过迭代器自己的<code>remove</code>操作除外），则迭代的结果是不确定的。该集合支持元素移除，即通过<code>Iterator.remove</code>、<code>Collection.remove</code>、<code>removeAll</code>、<code>retainAll</code>和<code>clear</code>操作从map中移除相应的映射。它不支持<code>add</code>或<code>addAll</code>操作。</p>
<hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="12-setmapentryk-v-entryset">
        12. Set&lt;Map.Entry&lt;K, V&raquo; entrySet();
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/Map/#12-setmapentryk-v-entryset" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 12. Set&lt;Map.Entry&lt;K, V&raquo; entrySet();" href="#12-setmapentryk-v-entryset">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>返回此map中包含映射的<code>Set</code>视图。该集合由map支持，因此对map的更改会反映在该集合中，反之亦然。如果在对集合进行迭代时修改了map（通过迭代器自己的<code>remove</code>操作或通过迭代器返回的映射条目上的<code>setValue</code>操作除外），则迭代的结果是不确定的。该集合支持元素移除，即通过<code>Iterator.remove</code>、<code>Set.remove</code>、<code>removeAll</code>、<code>retainAll</code>和<code>clear</code>操作从map中移除相应的映射。它不支持<code>add</code>或<code>addAll</code>操作。</p>
<hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="13-interface-entrykv">
        13. interface Entry&lt;K,V&gt;
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/Map/#13-interface-entrykv" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 13. interface Entry&lt;K,V&gt;" href="#13-interface-entrykv">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>一个map条目（键值对）。<code>Map.entrySet</code>方法返回map的集合视图，其元素属于此类。获取映射条目引用的唯一方法来自此集合视图的迭代器。这些<code>Map.Entry</code>对象仅在迭代期间是有效的；更正式地说，如果在迭代器返回条目后修改了后备map，则map条目的行为是未定义的，除非是通过对映射条目的<code>setValue</code>操作。</p>
<div class="gdoc-page__anchorwrap">
    <h2 id="131-k-getkey">
        13.1 K getKey();
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/Map/#131-k-getkey" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 13.1 K getKey();" href="#131-k-getkey">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div><p>返回当前条目对应的键。</p>
<div class="gdoc-page__anchorwrap">
    <h2 id="132-v-getvalue">
        13.2 V getValue();
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/Map/#132-v-getvalue" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 13.2 V getValue();" href="#132-v-getvalue">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div><p>返回当前条目对应的值。如果映射已从后备map中被删除（通过迭代器的<code>remove</code>操作），则此调用的结果是未定义的。</p>
<div class="gdoc-page__anchorwrap">
    <h2 id="133-v-setvaluev-value">
        13.3 V setValue(V value);
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/Map/#133-v-setvaluev-value" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 13.3 V setValue(V value);" href="#133-v-setvaluev-value">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div><p>用指定的值替换此条目当前对应的值（可选操作）。 （会写入map。）如果映射已经从map中删除（通过迭代器的<code>remove</code>操作），则此调用的行为未定义。</p>
<div class="gdoc-page__anchorwrap">
    <h2 id="134-boolean-equalsobject-o">
        13.4 boolean equals(Object o);
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/Map/#134-boolean-equalsobject-o" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 13.4 boolean equals(Object o);" href="#134-boolean-equalsobject-o">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div><p>比较指定的对象是否与当前条目相等。如果给定对象也是map的条目并且这两个条目表示相同的映射，则返回<code>true</code>。</p>
<p>更准确的说，两个条目如果满足如下条件则认为他们代表相同的映射：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#000">(</span><span style="color:#000">e1</span><span style="color:#000">.</span><span style="color:#836c28">getKey</span><span style="color:#000">()==</span><span style="color:#a90d91">null</span> <span style="color:#000">?</span>
 <span style="color:#000">e2</span><span style="color:#000">.</span><span style="color:#836c28">getKey</span><span style="color:#000">()==</span><span style="color:#a90d91">null</span> <span style="color:#000">:</span> <span style="color:#000">e1</span><span style="color:#000">.</span><span style="color:#836c28">getKey</span><span style="color:#000">().</span><span style="color:#836c28">equals</span><span style="color:#000">(</span><span style="color:#000">e2</span><span style="color:#000">.</span><span style="color:#836c28">getKey</span><span style="color:#000">()))</span>  <span style="color:#000">&amp;&amp;</span>
<span style="color:#000">(</span><span style="color:#000">e1</span><span style="color:#000">.</span><span style="color:#836c28">getValue</span><span style="color:#000">()==</span><span style="color:#a90d91">null</span> <span style="color:#000">?</span>
 <span style="color:#000">e2</span><span style="color:#000">.</span><span style="color:#836c28">getValue</span><span style="color:#000">()==</span><span style="color:#a90d91">null</span> <span style="color:#000">:</span> <span style="color:#000">e1</span><span style="color:#000">.</span><span style="color:#836c28">getValue</span><span style="color:#000">().</span><span style="color:#836c28">equals</span><span style="color:#000">(</span><span style="color:#000">e2</span><span style="color:#000">.</span><span style="color:#836c28">getValue</span><span style="color:#000">()))</span>
</code></pre></div><p>这确保<code>equals</code>方法在<code>Map.Entry</code>接口的不同实现中正常工作。</p>
<div class="gdoc-page__anchorwrap">
    <h2 id="135-int-hashcode">
        13.5 int hashCode();
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/Map/#135-int-hashcode" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 13.5 int hashCode();" href="#135-int-hashcode">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div><p>返回此map条目的哈希代码值。map条目<code>e</code>的哈希码定义为：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#000">(</span><span style="color:#000">e</span><span style="color:#000">.</span><span style="color:#836c28">getKey</span><span style="color:#000">()==</span><span style="color:#a90d91">null</span>   <span style="color:#000">?</span> <span style="color:#000">0</span> <span style="color:#000">:</span> <span style="color:#000">e</span><span style="color:#000">.</span><span style="color:#836c28">getKey</span><span style="color:#000">().</span><span style="color:#836c28">hashCode</span><span style="color:#000">())</span> <span style="color:#000">^</span>
<span style="color:#000">(</span><span style="color:#000">e</span><span style="color:#000">.</span><span style="color:#836c28">getValue</span><span style="color:#000">()==</span><span style="color:#a90d91">null</span> <span style="color:#000">?</span> <span style="color:#000">0</span> <span style="color:#000">:</span> <span style="color:#000">e</span><span style="color:#000">.</span><span style="color:#836c28">getValue</span><span style="color:#000">().</span><span style="color:#836c28">hashCode</span><span style="color:#000">())</span>
</code></pre></div><p>这确保<code>e1.equals(e2)</code>就意味着对于任意两个条目<code>e1</code>和<code>e2</code>都有<code>e1.hashCode()==e2.hashCode()</code>，这是遵循了<code>Object.hashCode</code>的通用规范的要求。</p>
<div class="gdoc-page__anchorwrap">
    <h2 id="136-public-static-k-extends-comparable-super-k-v-comparatormapentrykv-comparingbykey">
        13.6 public static &lt;K extends Comparable&lt;? super K&gt;, V&gt; Comparator&lt;Map.Entry&lt;K,V&raquo; comparingByKey()
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/Map/#136-public-static-k-extends-comparable-super-k-v-comparatormapentrykv-comparingbykey" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 13.6 public static &lt;K extends Comparable&lt;? super K&gt;, V&gt; Comparator&lt;Map.Entry&lt;K,V&raquo; comparingByKey()" href="#136-public-static-k-extends-comparable-super-k-v-comparatormapentrykv-comparingbykey">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div><p>返回一个比较器，它按键的自然顺序比较<code>Map.Entry</code>。</p>
<p>返回的比较器是可序列化的，并在比较键为<code>null</code>的条目时抛出<code>NullPointerException</code>。</p>
<p>源码如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">public</span> <span style="color:#a90d91">static</span> <span style="color:#000">&lt;</span><span style="color:#000">K</span> <span style="color:#a90d91">extends</span> <span style="color:#000">Comparable</span><span style="color:#000">&lt;?</span> <span style="color:#a90d91">super</span> <span style="color:#000">K</span><span style="color:#000">&gt;,</span> <span style="color:#000">V</span><span style="color:#000">&gt;</span> <span style="color:#000">Comparator</span><span style="color:#000">&lt;</span><span style="color:#000">Map</span><span style="color:#000">.</span><span style="color:#836c28">Entry</span><span style="color:#000">&lt;</span><span style="color:#000">K</span><span style="color:#000">,</span><span style="color:#000">V</span><span style="color:#000">&gt;&gt;</span> <span style="color:#000">comparingByKey</span><span style="color:#000">()</span> <span style="color:#000">{</span>
    <span style="color:#a90d91">return</span> <span style="color:#000">(</span><span style="color:#000">Comparator</span><span style="color:#000">&lt;</span><span style="color:#000">Map</span><span style="color:#000">.</span><span style="color:#836c28">Entry</span><span style="color:#000">&lt;</span><span style="color:#000">K</span><span style="color:#000">,</span> <span style="color:#000">V</span><span style="color:#000">&gt;&gt;</span> <span style="color:#000">&amp;</span> <span style="color:#000">Serializable</span><span style="color:#000">)</span>
        <span style="color:#000">(</span><span style="color:#000">c1</span><span style="color:#000">,</span> <span style="color:#000">c2</span><span style="color:#000">)</span> <span style="color:#000">-&gt;</span> <span style="color:#000">c1</span><span style="color:#000">.</span><span style="color:#836c28">getKey</span><span style="color:#000">().</span><span style="color:#836c28">compareTo</span><span style="color:#000">(</span><span style="color:#000">c2</span><span style="color:#000">.</span><span style="color:#836c28">getKey</span><span style="color:#000">());</span>
<span style="color:#000">}</span>
</code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="137-public-static-k-v-extends-comparable-super-v-comparatormapentrykv-comparingbyvalue">
        13.7 public static &lt;K, V extends Comparable&lt;? super V&raquo; Comparator&lt;Map.Entry&lt;K,V&raquo; comparingByValue()
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/Map/#137-public-static-k-v-extends-comparable-super-v-comparatormapentrykv-comparingbyvalue" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 13.7 public static &lt;K, V extends Comparable&lt;? super V&raquo; Comparator&lt;Map.Entry&lt;K,V&raquo; comparingByValue()" href="#137-public-static-k-v-extends-comparable-super-v-comparatormapentrykv-comparingbyvalue">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div><p>返回一个比较器，它按值的自然顺序比较<code>Map.Entry</code>。</p>
<p>返回的比较器是可序列化的，并在比较值为<code>null</code>的条目时抛出<code>NullPointerException</code>。</p>
<p>源码如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">public</span> <span style="color:#a90d91">static</span> <span style="color:#000">&lt;</span><span style="color:#000">K</span><span style="color:#000">,</span> <span style="color:#000">V</span> <span style="color:#a90d91">extends</span> <span style="color:#000">Comparable</span><span style="color:#000">&lt;?</span> <span style="color:#a90d91">super</span> <span style="color:#000">V</span><span style="color:#000">&gt;&gt;</span> <span style="color:#000">Comparator</span><span style="color:#000">&lt;</span><span style="color:#000">Map</span><span style="color:#000">.</span><span style="color:#836c28">Entry</span><span style="color:#000">&lt;</span><span style="color:#000">K</span><span style="color:#000">,</span><span style="color:#000">V</span><span style="color:#000">&gt;&gt;</span> <span style="color:#000">comparingByValue</span><span style="color:#000">()</span> <span style="color:#000">{</span>
    <span style="color:#a90d91">return</span> <span style="color:#000">(</span><span style="color:#000">Comparator</span><span style="color:#000">&lt;</span><span style="color:#000">Map</span><span style="color:#000">.</span><span style="color:#836c28">Entry</span><span style="color:#000">&lt;</span><span style="color:#000">K</span><span style="color:#000">,</span> <span style="color:#000">V</span><span style="color:#000">&gt;&gt;</span> <span style="color:#000">&amp;</span> <span style="color:#000">Serializable</span><span style="color:#000">)</span>
        <span style="color:#000">(</span><span style="color:#000">c1</span><span style="color:#000">,</span> <span style="color:#000">c2</span><span style="color:#000">)</span> <span style="color:#000">-&gt;</span> <span style="color:#000">c1</span><span style="color:#000">.</span><span style="color:#836c28">getValue</span><span style="color:#000">().</span><span style="color:#836c28">compareTo</span><span style="color:#000">(</span><span style="color:#000">c2</span><span style="color:#000">.</span><span style="color:#836c28">getValue</span><span style="color:#000">());</span>
<span style="color:#000">}</span>
</code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="138-public-static-k-v-comparatormapentryk-v-comparingbykeycomparator-super-k-cmp">
        13.8 public static &lt;K, V&gt; Comparator&lt;Map.Entry&lt;K, V&raquo; comparingByKey(Comparator&lt;? super K&gt; cmp)
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/Map/#138-public-static-k-v-comparatormapentryk-v-comparingbykeycomparator-super-k-cmp" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 13.8 public static &lt;K, V&gt; Comparator&lt;Map.Entry&lt;K, V&raquo; comparingByKey(Comparator&lt;? super K&gt; cmp)" href="#138-public-static-k-v-comparatormapentryk-v-comparingbykeycomparator-super-k-cmp">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div><p>返回一个比较器，该比较器使用给定的<code>Comparator</code>按键比较<code>Map.Entry</code>。</p>
<p>如果指定的比较器是可序列化的，则返回的比较器也是可序列化的。</p>
<p>源码如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">public</span> <span style="color:#a90d91">static</span> <span style="color:#000">&lt;</span><span style="color:#000">K</span><span style="color:#000">,</span> <span style="color:#000">V</span><span style="color:#000">&gt;</span> <span style="color:#000">Comparator</span><span style="color:#000">&lt;</span><span style="color:#000">Map</span><span style="color:#000">.</span><span style="color:#836c28">Entry</span><span style="color:#000">&lt;</span><span style="color:#000">K</span><span style="color:#000">,</span> <span style="color:#000">V</span><span style="color:#000">&gt;&gt;</span> <span style="color:#000">comparingByKey</span><span style="color:#000">(</span><span style="color:#000">Comparator</span><span style="color:#000">&lt;?</span> <span style="color:#a90d91">super</span> <span style="color:#000">K</span><span style="color:#000">&gt;</span> <span style="color:#000">cmp</span><span style="color:#000">)</span> <span style="color:#000">{</span>
    <span style="color:#000">Objects</span><span style="color:#000">.</span><span style="color:#836c28">requireNonNull</span><span style="color:#000">(</span><span style="color:#000">cmp</span><span style="color:#000">);</span>
    <span style="color:#a90d91">return</span> <span style="color:#000">(</span><span style="color:#000">Comparator</span><span style="color:#000">&lt;</span><span style="color:#000">Map</span><span style="color:#000">.</span><span style="color:#836c28">Entry</span><span style="color:#000">&lt;</span><span style="color:#000">K</span><span style="color:#000">,</span> <span style="color:#000">V</span><span style="color:#000">&gt;&gt;</span> <span style="color:#000">&amp;</span> <span style="color:#000">Serializable</span><span style="color:#000">)</span>
        <span style="color:#000">(</span><span style="color:#000">c1</span><span style="color:#000">,</span> <span style="color:#000">c2</span><span style="color:#000">)</span> <span style="color:#000">-&gt;</span> <span style="color:#000">cmp</span><span style="color:#000">.</span><span style="color:#836c28">compare</span><span style="color:#000">(</span><span style="color:#000">c1</span><span style="color:#000">.</span><span style="color:#836c28">getKey</span><span style="color:#000">(),</span> <span style="color:#000">c2</span><span style="color:#000">.</span><span style="color:#836c28">getKey</span><span style="color:#000">());</span>
<span style="color:#000">}</span>
</code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="139-public-static-k-v-comparatormapentryk-v-comparingbyvaluecomparator-super-v-cmp">
        13.9 public static &lt;K, V&gt; Comparator&lt;Map.Entry&lt;K, V&raquo; comparingByValue(Comparator&lt;? super V&gt; cmp)
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/Map/#139-public-static-k-v-comparatormapentryk-v-comparingbyvaluecomparator-super-v-cmp" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 13.9 public static &lt;K, V&gt; Comparator&lt;Map.Entry&lt;K, V&raquo; comparingByValue(Comparator&lt;? super V&gt; cmp)" href="#139-public-static-k-v-comparatormapentryk-v-comparingbyvaluecomparator-super-v-cmp">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div><p>返回一个比较器，该比较器使用给定的<code>Comparator</code>按键比较<code>Map.Entry</code>。</p>
<p>如果指定的比较器是可序列化的，则返回的比较器也是可序列化的。</p>
<p>源码如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">public</span> <span style="color:#a90d91">static</span> <span style="color:#000">&lt;</span><span style="color:#000">K</span><span style="color:#000">,</span> <span style="color:#000">V</span><span style="color:#000">&gt;</span> <span style="color:#000">Comparator</span><span style="color:#000">&lt;</span><span style="color:#000">Map</span><span style="color:#000">.</span><span style="color:#836c28">Entry</span><span style="color:#000">&lt;</span><span style="color:#000">K</span><span style="color:#000">,</span> <span style="color:#000">V</span><span style="color:#000">&gt;&gt;</span> <span style="color:#000">comparingByValue</span><span style="color:#000">(</span><span style="color:#000">Comparator</span><span style="color:#000">&lt;?</span> <span style="color:#a90d91">super</span> <span style="color:#000">V</span><span style="color:#000">&gt;</span> <span style="color:#000">cmp</span><span style="color:#000">)</span> <span style="color:#000">{</span>
    <span style="color:#000">Objects</span><span style="color:#000">.</span><span style="color:#836c28">requireNonNull</span><span style="color:#000">(</span><span style="color:#000">cmp</span><span style="color:#000">);</span>
    <span style="color:#a90d91">return</span> <span style="color:#000">(</span><span style="color:#000">Comparator</span><span style="color:#000">&lt;</span><span style="color:#000">Map</span><span style="color:#000">.</span><span style="color:#836c28">Entry</span><span style="color:#000">&lt;</span><span style="color:#000">K</span><span style="color:#000">,</span> <span style="color:#000">V</span><span style="color:#000">&gt;&gt;</span> <span style="color:#000">&amp;</span> <span style="color:#000">Serializable</span><span style="color:#000">)</span>
        <span style="color:#000">(</span><span style="color:#000">c1</span><span style="color:#000">,</span> <span style="color:#000">c2</span><span style="color:#000">)</span> <span style="color:#000">-&gt;</span> <span style="color:#000">cmp</span><span style="color:#000">.</span><span style="color:#836c28">compare</span><span style="color:#000">(</span><span style="color:#000">c1</span><span style="color:#000">.</span><span style="color:#836c28">getValue</span><span style="color:#000">(),</span> <span style="color:#000">c2</span><span style="color:#000">.</span><span style="color:#836c28">getValue</span><span style="color:#000">());</span>
<span style="color:#000">}</span>
</code></pre></div><hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="14-boolean-equalsobject-o">
        14. boolean equals(Object o);
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/Map/#14-boolean-equalsobject-o" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 14. boolean equals(Object o);" href="#14-boolean-equalsobject-o">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>比较指定对象是否与当前map相等。如果给定的对象也是一个map并且这两个map表示相同的映射，则返回<code>true</code>。更正式地说，如果两个map<code>m1</code>、<code>m2</code>满足<code>m1.entrySet().equals(m2.entrySet())</code>，则<code>m1</code>和<code>m2</code>表示相同的映射。这确保<code>equals</code>方法在<code>Map</code>接口的不同实现中正常工作。</p>
<hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="15-int-hashcode">
        15. int hashCode();
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/Map/#15-int-hashcode" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 15. int hashCode();" href="#15-int-hashcode">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>返回此map的哈希码值。map的哈希码定义为map的<code>entrySet()</code>视图中每个条目的哈希码之和。这确保对于任何两个map <code>m1</code>和<code>m2</code>来说<code>m1.equals(m2)</code>意味着<code>m1.hashCode()==m2.hashCode()</code>，这也是<code>Object</code>的<code>hashCode</code>通用规范要求。</p>
<hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="16-default-v-getordefaultobject-key-v-defaultvalue">
        16. default V getOrDefault(Object key, V defaultValue)
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/Map/#16-default-v-getordefaultobject-key-v-defaultvalue" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 16. default V getOrDefault(Object key, V defaultValue)" href="#16-default-v-getordefaultobject-key-v-defaultvalue">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>返回指定键所映射到的值，如果此map不包含该键的映射，则返回<code>defaultValue</code>。</p>
<p>默认实现不保证此方法的同步或原子性。任何提供原子性保证的实现都必须重写此方法并记录其并发属性。</p>
<p>源码如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">default</span> <span style="color:#000">V</span> <span style="color:#000">getOrDefault</span><span style="color:#000">(</span><span style="color:#000">Object</span> <span style="color:#000">key</span><span style="color:#000">,</span> <span style="color:#000">V</span> <span style="color:#000">defaultValue</span><span style="color:#000">)</span> <span style="color:#000">{</span>
    <span style="color:#000">V</span> <span style="color:#000">v</span><span style="color:#000">;</span>
    <span style="color:#177500">// 此处先调用get方法取出指定key对应的value，如果value不为空则直接返回该value
</span><span style="color:#177500"></span>    <span style="color:#177500">// 如果value为空，则调用containsKey判断当前map是否包含键key，这是为了避免
</span><span style="color:#177500"></span>    <span style="color:#177500">// 当前map存在指定的键key，但该键对应的value为空的情况。
</span><span style="color:#177500"></span>    <span style="color:#177500">// 当value不为空时就没有调用containsKey进行判断的必要了，此处很巧妙。
</span><span style="color:#177500"></span>    <span style="color:#a90d91">return</span> <span style="color:#000">(((</span><span style="color:#000">v</span> <span style="color:#000">=</span> <span style="color:#000">get</span><span style="color:#000">(</span><span style="color:#000">key</span><span style="color:#000">))</span> <span style="color:#000">!=</span> <span style="color:#a90d91">null</span><span style="color:#000">)</span> <span style="color:#000">||</span> <span style="color:#000">containsKey</span><span style="color:#000">(</span><span style="color:#000">key</span><span style="color:#000">))</span>
        <span style="color:#000">?</span> <span style="color:#000">v</span>
        <span style="color:#000">:</span> <span style="color:#000">defaultValue</span><span style="color:#000">;</span>
<span style="color:#000">}</span>
</code></pre></div><hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="17-default-void-foreachbiconsumer-super-k--super-v-action">
        17. default void forEach(BiConsumer&lt;? super K, ? super V&gt; action)
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/Map/#17-default-void-foreachbiconsumer-super-k--super-v-action" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 17. default void forEach(BiConsumer&lt;? super K, ? super V&gt; action)" href="#17-default-void-foreachbiconsumer-super-k--super-v-action">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>对此map中的每个条目执行给定的操作，直到处理完所有条目或该操作引发异常。除非实现类另有规定，否则将按照条目集合迭代的顺序执行操作（如果指定了迭代顺序）。该操作抛出的异常将转发给调用者。</p>
<p>默认实现相当于对此map：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">for</span> <span style="color:#000">(</span><span style="color:#000">Map</span><span style="color:#000">.</span><span style="color:#836c28">Entry</span><span style="color:#000">&lt;</span><span style="color:#000">K</span><span style="color:#000">,</span> <span style="color:#000">V</span><span style="color:#000">&gt;</span> <span style="color:#000">entry</span> <span style="color:#000">:</span> <span style="color:#000">map</span><span style="color:#000">.</span><span style="color:#836c28">entrySet</span><span style="color:#000">())</span>
    <span style="color:#000">action</span><span style="color:#000">.</span><span style="color:#836c28">accept</span><span style="color:#000">(</span><span style="color:#000">entry</span><span style="color:#000">.</span><span style="color:#836c28">getKey</span><span style="color:#000">(),</span> <span style="color:#000">entry</span><span style="color:#000">.</span><span style="color:#836c28">getValue</span><span style="color:#000">());</span>
</code></pre></div><p>默认实现不保证此方法的同步或原子性。任何提供原子性保证的实现都必须重写此方法并记录其并发属性。</p>
<p>源码如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">default</span> <span style="color:#a90d91">void</span> <span style="color:#000">forEach</span><span style="color:#000">(</span><span style="color:#000">BiConsumer</span><span style="color:#000">&lt;?</span> <span style="color:#a90d91">super</span> <span style="color:#000">K</span><span style="color:#000">,</span> <span style="color:#000">?</span> <span style="color:#a90d91">super</span> <span style="color:#000">V</span><span style="color:#000">&gt;</span> <span style="color:#000">action</span><span style="color:#000">)</span> <span style="color:#000">{</span>
    <span style="color:#000">Objects</span><span style="color:#000">.</span><span style="color:#836c28">requireNonNull</span><span style="color:#000">(</span><span style="color:#000">action</span><span style="color:#000">);</span>
    <span style="color:#177500">// 先调用entrySet()方法获取当前map的Set视图，然后遍历该Set
</span><span style="color:#177500"></span>    <span style="color:#a90d91">for</span> <span style="color:#000">(</span><span style="color:#000">Map</span><span style="color:#000">.</span><span style="color:#836c28">Entry</span><span style="color:#000">&lt;</span><span style="color:#000">K</span><span style="color:#000">,</span> <span style="color:#000">V</span><span style="color:#000">&gt;</span> <span style="color:#000">entry</span> <span style="color:#000">:</span> <span style="color:#000">entrySet</span><span style="color:#000">())</span> <span style="color:#000">{</span>
        <span style="color:#000">K</span> <span style="color:#000">k</span><span style="color:#000">;</span>
        <span style="color:#000">V</span> <span style="color:#000">v</span><span style="color:#000">;</span>
        <span style="color:#a90d91">try</span> <span style="color:#000">{</span>
            <span style="color:#000">k</span> <span style="color:#000">=</span> <span style="color:#000">entry</span><span style="color:#000">.</span><span style="color:#836c28">getKey</span><span style="color:#000">();</span>
            <span style="color:#000">v</span> <span style="color:#000">=</span> <span style="color:#000">entry</span><span style="color:#000">.</span><span style="color:#836c28">getValue</span><span style="color:#000">();</span>
        <span style="color:#000">}</span> <span style="color:#a90d91">catch</span><span style="color:#000">(</span><span style="color:#000">IllegalStateException</span> <span style="color:#000">ise</span><span style="color:#000">)</span> <span style="color:#000">{</span>
            <span style="color:#177500">// 此处需要try catch起来是因为该默认实现不保证同步，所以存在并发修改的可能
</span><span style="color:#177500"></span>            <span style="color:#177500">// 有可能在使用getKey()等方法时此条目已不存在
</span><span style="color:#177500"></span>            <span style="color:#177500">// this usually means the entry is no longer in the map.
</span><span style="color:#177500"></span>            <span style="color:#a90d91">throw</span> <span style="color:#a90d91">new</span> <span style="color:#000">ConcurrentModificationException</span><span style="color:#000">(</span><span style="color:#000">ise</span><span style="color:#000">);</span>
        <span style="color:#000">}</span>
        <span style="color:#177500">// 执行给定操作
</span><span style="color:#177500"></span>        <span style="color:#000">action</span><span style="color:#000">.</span><span style="color:#836c28">accept</span><span style="color:#000">(</span><span style="color:#000">k</span><span style="color:#000">,</span> <span style="color:#000">v</span><span style="color:#000">);</span>
    <span style="color:#000">}</span>
<span style="color:#000">}</span>
</code></pre></div><hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="18-default-void-replaceallbifunction-super-k--super-v--extends-v-function">
        18. default void replaceAll(BiFunction&lt;? super K, ? super V, ? extends V&gt; function)
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/Map/#18-default-void-replaceallbifunction-super-k--super-v--extends-v-function" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 18. default void replaceAll(BiFunction&lt;? super K, ? super V, ? extends V&gt; function)" href="#18-default-void-replaceallbifunction-super-k--super-v--extends-v-function">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>将每个条目的值替换为对该条目调用给定函数获得的结果，直到处理完所有条目或该函数抛出异常。函数抛出的异常将被转发给调用者。</p>
<p>默认实现相当于对此map：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">for</span> <span style="color:#000">(</span><span style="color:#000">Map</span><span style="color:#000">.</span><span style="color:#836c28">Entry</span><span style="color:#000">&lt;</span><span style="color:#000">K</span><span style="color:#000">,</span> <span style="color:#000">V</span><span style="color:#000">&gt;</span> <span style="color:#000">entry</span> <span style="color:#000">:</span> <span style="color:#000">map</span><span style="color:#000">.</span><span style="color:#836c28">entrySet</span><span style="color:#000">())</span>
    <span style="color:#000">entry</span><span style="color:#000">.</span><span style="color:#836c28">setValue</span><span style="color:#000">(</span><span style="color:#000">function</span><span style="color:#000">.</span><span style="color:#836c28">apply</span><span style="color:#000">(</span><span style="color:#000">entry</span><span style="color:#000">.</span><span style="color:#836c28">getKey</span><span style="color:#000">(),</span> <span style="color:#000">entry</span><span style="color:#000">.</span><span style="color:#836c28">getValue</span><span style="color:#000">()));</span>
</code></pre></div><p>默认实现不保证此方法的同步或原子性。任何提供原子性保证的实现都必须重写此方法并记录其并发属性。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">default</span> <span style="color:#a90d91">void</span> <span style="color:#000">replaceAll</span><span style="color:#000">(</span><span style="color:#000">BiFunction</span><span style="color:#000">&lt;?</span> <span style="color:#a90d91">super</span> <span style="color:#000">K</span><span style="color:#000">,</span> <span style="color:#000">?</span> <span style="color:#a90d91">super</span> <span style="color:#000">V</span><span style="color:#000">,</span> <span style="color:#000">?</span> <span style="color:#a90d91">extends</span> <span style="color:#000">V</span><span style="color:#000">&gt;</span> <span style="color:#000">function</span><span style="color:#000">)</span> <span style="color:#000">{</span>
    <span style="color:#000">Objects</span><span style="color:#000">.</span><span style="color:#836c28">requireNonNull</span><span style="color:#000">(</span><span style="color:#000">function</span><span style="color:#000">);</span>
    <span style="color:#177500">// 先调用entrySet()获取当前map的Set视图，然后遍历该Set
</span><span style="color:#177500"></span>    <span style="color:#a90d91">for</span> <span style="color:#000">(</span><span style="color:#000">Map</span><span style="color:#000">.</span><span style="color:#836c28">Entry</span><span style="color:#000">&lt;</span><span style="color:#000">K</span><span style="color:#000">,</span> <span style="color:#000">V</span><span style="color:#000">&gt;</span> <span style="color:#000">entry</span> <span style="color:#000">:</span> <span style="color:#000">entrySet</span><span style="color:#000">())</span> <span style="color:#000">{</span>
        <span style="color:#000">K</span> <span style="color:#000">k</span><span style="color:#000">;</span>
        <span style="color:#000">V</span> <span style="color:#000">v</span><span style="color:#000">;</span>
        <span style="color:#a90d91">try</span> <span style="color:#000">{</span>
            <span style="color:#000">k</span> <span style="color:#000">=</span> <span style="color:#000">entry</span><span style="color:#000">.</span><span style="color:#836c28">getKey</span><span style="color:#000">();</span>
            <span style="color:#000">v</span> <span style="color:#000">=</span> <span style="color:#000">entry</span><span style="color:#000">.</span><span style="color:#836c28">getValue</span><span style="color:#000">();</span>
        <span style="color:#000">}</span> <span style="color:#a90d91">catch</span><span style="color:#000">(</span><span style="color:#000">IllegalStateException</span> <span style="color:#000">ise</span><span style="color:#000">)</span> <span style="color:#000">{</span>
            <span style="color:#177500">// this usually means the entry is no longer in the map.
</span><span style="color:#177500"></span>            <span style="color:#a90d91">throw</span> <span style="color:#a90d91">new</span> <span style="color:#000">ConcurrentModificationException</span><span style="color:#000">(</span><span style="color:#000">ise</span><span style="color:#000">);</span>
        <span style="color:#000">}</span>

        <span style="color:#177500">// 从函数抛出的ise不是cme。
</span><span style="color:#177500"></span>        <span style="color:#177500">// ise thrown from function is not a cme.
</span><span style="color:#177500"></span>        <span style="color:#177500">// 对当前条目的key和value执行给定的操作，得到一个值
</span><span style="color:#177500"></span>        <span style="color:#000">v</span> <span style="color:#000">=</span> <span style="color:#000">function</span><span style="color:#000">.</span><span style="color:#836c28">apply</span><span style="color:#000">(</span><span style="color:#000">k</span><span style="color:#000">,</span> <span style="color:#000">v</span><span style="color:#000">);</span>

        <span style="color:#177500">// 将该值赋值给当前条码的value
</span><span style="color:#177500"></span>        <span style="color:#a90d91">try</span> <span style="color:#000">{</span>
            <span style="color:#000">entry</span><span style="color:#000">.</span><span style="color:#836c28">setValue</span><span style="color:#000">(</span><span style="color:#000">v</span><span style="color:#000">);</span>
        <span style="color:#000">}</span> <span style="color:#a90d91">catch</span><span style="color:#000">(</span><span style="color:#000">IllegalStateException</span> <span style="color:#000">ise</span><span style="color:#000">)</span> <span style="color:#000">{</span>
            <span style="color:#177500">// this usually means the entry is no longer in the map.
</span><span style="color:#177500"></span>            <span style="color:#a90d91">throw</span> <span style="color:#a90d91">new</span> <span style="color:#000">ConcurrentModificationException</span><span style="color:#000">(</span><span style="color:#000">ise</span><span style="color:#000">);</span>
        <span style="color:#000">}</span>
    <span style="color:#000">}</span>
<span style="color:#000">}</span>
</code></pre></div><hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="19-default-v-putifabsentk-key-v-value">
        19. default V putIfAbsent(K key, V value)
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/Map/#19-default-v-putifabsentk-key-v-value" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 19. default V putIfAbsent(K key, V value)" href="#19-default-v-putifabsentk-key-v-value">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>如果指定的键尚未与值关联（或映射到了<code>null</code>），则将其与给定值进行关联并返回<code>null</code>，否则返回当前值。</p>
<p>默认实现相当于对此map：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#000">V</span> <span style="color:#000">v</span> <span style="color:#000">=</span> <span style="color:#000">map</span><span style="color:#000">.</span><span style="color:#836c28">get</span><span style="color:#000">(</span><span style="color:#000">key</span><span style="color:#000">);</span>
<span style="color:#a90d91">if</span> <span style="color:#000">(</span><span style="color:#000">v</span> <span style="color:#000">==</span> <span style="color:#a90d91">null</span><span style="color:#000">)</span>
    <span style="color:#000">v</span> <span style="color:#000">=</span> <span style="color:#000">map</span><span style="color:#000">.</span><span style="color:#836c28">put</span><span style="color:#000">(</span><span style="color:#000">key</span><span style="color:#000">,</span> <span style="color:#000">value</span><span style="color:#000">);</span>
<span style="color:#a90d91">return</span> <span style="color:#000">v</span><span style="color:#000">;</span>
</code></pre></div><p>默认实现不保证此方法的同步或原子性。任何提供原子性保证的实现都必须重写此方法并记录其并发属性。</p>
<p>源码如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">default</span> <span style="color:#000">V</span> <span style="color:#000">putIfAbsent</span><span style="color:#000">(</span><span style="color:#000">K</span> <span style="color:#000">key</span><span style="color:#000">,</span> <span style="color:#000">V</span> <span style="color:#000">value</span><span style="color:#000">)</span> <span style="color:#000">{</span>
    <span style="color:#177500">// 调用get方法获取指定key的值
</span><span style="color:#177500"></span>    <span style="color:#000">V</span> <span style="color:#000">v</span> <span style="color:#000">=</span> <span style="color:#000">get</span><span style="color:#000">(</span><span style="color:#000">key</span><span style="color:#000">);</span>
    <span style="color:#177500">// 如果该值为null，则调用put方法将指定的value与该key进行关联
</span><span style="color:#177500"></span>    <span style="color:#177500">// 此处未用containsKey进行判断，所以，即使当前map已包含指定key（但对应的value为空），此处也会为其设置新值
</span><span style="color:#177500"></span>    <span style="color:#a90d91">if</span> <span style="color:#000">(</span><span style="color:#000">v</span> <span style="color:#000">==</span> <span style="color:#a90d91">null</span><span style="color:#000">)</span> <span style="color:#000">{</span>
        <span style="color:#000">v</span> <span style="color:#000">=</span> <span style="color:#000">put</span><span style="color:#000">(</span><span style="color:#000">key</span><span style="color:#000">,</span> <span style="color:#000">value</span><span style="color:#000">);</span>
    <span style="color:#000">}</span>
    <span style="color:#177500">// 返回原值或指定的value
</span><span style="color:#177500"></span>    <span style="color:#a90d91">return</span> <span style="color:#000">v</span><span style="color:#000">;</span>
<span style="color:#000">}</span>
</code></pre></div><hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="20-default-boolean-removeobject-key-object-value">
        20. default boolean remove(Object key, Object value)
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/Map/#20-default-boolean-removeobject-key-object-value" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 20. default boolean remove(Object key, Object value)" href="#20-default-boolean-removeobject-key-object-value">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>仅当当前map到指定值时，才删除指定键的条目。</p>
<p>默认实现相当于对此map：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">if</span> <span style="color:#000">(</span><span style="color:#000">map</span><span style="color:#000">.</span><span style="color:#836c28">containsKey</span><span style="color:#000">(</span><span style="color:#000">key</span><span style="color:#000">)</span> <span style="color:#000">&amp;&amp;</span> <span style="color:#000">Objects</span><span style="color:#000">.</span><span style="color:#836c28">equals</span><span style="color:#000">(</span><span style="color:#000">map</span><span style="color:#000">.</span><span style="color:#836c28">get</span><span style="color:#000">(</span><span style="color:#000">key</span><span style="color:#000">),</span> <span style="color:#000">value</span><span style="color:#000">))</span> <span style="color:#000">{</span>
    <span style="color:#000">map</span><span style="color:#000">.</span><span style="color:#836c28">remove</span><span style="color:#000">(</span><span style="color:#000">key</span><span style="color:#000">);</span>
    <span style="color:#a90d91">return</span> <span style="color:#a90d91">true</span><span style="color:#000">;</span>
<span style="color:#000">}</span> <span style="color:#a90d91">else</span>
    <span style="color:#a90d91">return</span> <span style="color:#a90d91">false</span><span style="color:#000">;</span>
</code></pre></div><p>默认实现不保证此方法的同步或原子性。任何提供原子性保证的实现都必须重写此方法并记录其并发属性。</p>
<p>源码如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">default</span> <span style="color:#a90d91">boolean</span> <span style="color:#000">remove</span><span style="color:#000">(</span><span style="color:#000">Object</span> <span style="color:#000">key</span><span style="color:#000">,</span> <span style="color:#000">Object</span> <span style="color:#000">value</span><span style="color:#000">)</span> <span style="color:#000">{</span>
    <span style="color:#177500">// 取出指定key的值
</span><span style="color:#177500"></span>    <span style="color:#000">Object</span> <span style="color:#000">curValue</span> <span style="color:#000">=</span> <span style="color:#000">get</span><span style="color:#000">(</span><span style="color:#000">key</span><span style="color:#000">);</span>
    <span style="color:#177500">// 判断取出的值是否与参数指定的值相等，若不相等则不能删除，此时返回true
</span><span style="color:#177500"></span>    <span style="color:#177500">// 若相等，则看取出的值是否为空，如果为空的话则需要判断当前map是否包含指定的key，若不包含，则也不能删除
</span><span style="color:#177500"></span>    <span style="color:#a90d91">if</span> <span style="color:#000">(!</span><span style="color:#000">Objects</span><span style="color:#000">.</span><span style="color:#836c28">equals</span><span style="color:#000">(</span><span style="color:#000">curValue</span><span style="color:#000">,</span> <span style="color:#000">value</span><span style="color:#000">)</span> <span style="color:#000">||</span>
        <span style="color:#000">(</span><span style="color:#000">curValue</span> <span style="color:#000">==</span> <span style="color:#a90d91">null</span> <span style="color:#000">&amp;&amp;</span> <span style="color:#000">!</span><span style="color:#000">containsKey</span><span style="color:#000">(</span><span style="color:#000">key</span><span style="color:#000">)))</span> <span style="color:#000">{</span>
        <span style="color:#a90d91">return</span> <span style="color:#a90d91">false</span><span style="color:#000">;</span>
    <span style="color:#000">}</span>
    <span style="color:#177500">// 执行删除，返回true
</span><span style="color:#177500"></span>    <span style="color:#000">remove</span><span style="color:#000">(</span><span style="color:#000">key</span><span style="color:#000">);</span>
    <span style="color:#a90d91">return</span> <span style="color:#a90d91">true</span><span style="color:#000">;</span>
<span style="color:#000">}</span>
</code></pre></div><hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="21-default-boolean-replacek-key-v-oldvalue-v-newvalue">
        21. default boolean replace(K key, V oldValue, V newValue)
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/Map/#21-default-boolean-replacek-key-v-oldvalue-v-newvalue" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 21. default boolean replace(K key, V oldValue, V newValue)" href="#21-default-boolean-replacek-key-v-oldvalue-v-newvalue">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>仅当指定的键映射到指定值时才替换指定键的值。</p>
<p>默认实现相当于对此map：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">if</span> <span style="color:#000">(</span><span style="color:#000">map</span><span style="color:#000">.</span><span style="color:#836c28">containsKey</span><span style="color:#000">(</span><span style="color:#000">key</span><span style="color:#000">)</span> <span style="color:#000">&amp;&amp;</span> <span style="color:#000">Objects</span><span style="color:#000">.</span><span style="color:#836c28">equals</span><span style="color:#000">(</span><span style="color:#000">map</span><span style="color:#000">.</span><span style="color:#836c28">get</span><span style="color:#000">(</span><span style="color:#000">key</span><span style="color:#000">),</span> <span style="color:#000">value</span><span style="color:#000">))</span> <span style="color:#000">{</span>
    <span style="color:#000">map</span><span style="color:#000">.</span><span style="color:#836c28">put</span><span style="color:#000">(</span><span style="color:#000">key</span><span style="color:#000">,</span> <span style="color:#000">newValue</span><span style="color:#000">);</span>
    <span style="color:#a90d91">return</span> <span style="color:#a90d91">true</span><span style="color:#000">;</span>
<span style="color:#000">}</span> <span style="color:#a90d91">else</span>
    <span style="color:#a90d91">return</span> <span style="color:#a90d91">false</span><span style="color:#000">;</span>
</code></pre></div><p>如果<code>oldValue</code>为 <code>null</code>，则默认实现不会为不支持<code>null</code>值的map抛出<code>NullPointerException</code>，除非<code>newValue</code>也为<code>null</code>。</p>
<p>默认实现不保证此方法的同步或原子性。任何提供原子性保证的实现都必须重写此方法并记录其并发属性。</p>
<p>源码如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">default</span> <span style="color:#a90d91">boolean</span> <span style="color:#000">replace</span><span style="color:#000">(</span><span style="color:#000">K</span> <span style="color:#000">key</span><span style="color:#000">,</span> <span style="color:#000">V</span> <span style="color:#000">oldValue</span><span style="color:#000">,</span> <span style="color:#000">V</span> <span style="color:#000">newValue</span><span style="color:#000">)</span> <span style="color:#000">{</span>
    <span style="color:#177500">// 取出指定key对应的值
</span><span style="color:#177500"></span>    <span style="color:#000">Object</span> <span style="color:#000">curValue</span> <span style="color:#000">=</span> <span style="color:#000">get</span><span style="color:#000">(</span><span style="color:#000">key</span><span style="color:#000">);</span>
    <span style="color:#177500">// 如果取出的值与参数指定的旧值不同，则不能做替换，此时返回false
</span><span style="color:#177500"></span>    <span style="color:#177500">// 若相同，还有可能是二者都为null，若是都为null，则判断当前map是否包含指定的键，若不包含，也不能替换，此时返回false
</span><span style="color:#177500"></span>    <span style="color:#a90d91">if</span> <span style="color:#000">(!</span><span style="color:#000">Objects</span><span style="color:#000">.</span><span style="color:#836c28">equals</span><span style="color:#000">(</span><span style="color:#000">curValue</span><span style="color:#000">,</span> <span style="color:#000">oldValue</span><span style="color:#000">)</span> <span style="color:#000">||</span>
        <span style="color:#000">(</span><span style="color:#000">curValue</span> <span style="color:#000">==</span> <span style="color:#a90d91">null</span> <span style="color:#000">&amp;&amp;</span> <span style="color:#000">!</span><span style="color:#000">containsKey</span><span style="color:#000">(</span><span style="color:#000">key</span><span style="color:#000">)))</span> <span style="color:#000">{</span>
        <span style="color:#a90d91">return</span> <span style="color:#a90d91">false</span><span style="color:#000">;</span>
    <span style="color:#000">}</span>
    <span style="color:#000">put</span><span style="color:#000">(</span><span style="color:#000">key</span><span style="color:#000">,</span> <span style="color:#000">newValue</span><span style="color:#000">);</span>
    <span style="color:#a90d91">return</span> <span style="color:#a90d91">true</span><span style="color:#000">;</span>
<span style="color:#000">}</span>
</code></pre></div><hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="22-default-v-replacek-key-v-value">
        22. default V replace(K key, V value)
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/Map/#22-default-v-replacek-key-v-value" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 22. default V replace(K key, V value)" href="#22-default-v-replacek-key-v-value">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>仅当指定键映射到某个值（值也可以是<code>null</code>，但是当前map必须要包含该key）时才替换指定键的条目。</p>
<p>默认实现相当于对此map：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">if</span> <span style="color:#000">(</span><span style="color:#000">map</span><span style="color:#000">.</span><span style="color:#836c28">containsKey</span><span style="color:#000">(</span><span style="color:#000">key</span><span style="color:#000">))</span> <span style="color:#000">{</span>
    <span style="color:#a90d91">return</span> <span style="color:#000">map</span><span style="color:#000">.</span><span style="color:#836c28">put</span><span style="color:#000">(</span><span style="color:#000">key</span><span style="color:#000">,</span> <span style="color:#000">value</span><span style="color:#000">);</span>
<span style="color:#000">}</span> <span style="color:#a90d91">else</span>
    <span style="color:#a90d91">return</span> <span style="color:#a90d91">null</span><span style="color:#000">;</span>
</code></pre></div><p>默认实现不保证此方法的同步或原子性。任何提供原子性保证的实现都必须重写此方法并记录其并发属性。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">default</span> <span style="color:#000">V</span> <span style="color:#000">replace</span><span style="color:#000">(</span><span style="color:#000">K</span> <span style="color:#000">key</span><span style="color:#000">,</span> <span style="color:#000">V</span> <span style="color:#000">value</span><span style="color:#000">)</span> <span style="color:#000">{</span>
    <span style="color:#000">V</span> <span style="color:#000">curValue</span><span style="color:#000">;</span>
    <span style="color:#177500">// 先取出指定key对应的值
</span><span style="color:#177500"></span>    <span style="color:#177500">// 再判断该值是否为空，不为空，则可以替换值，然后返回替换后的值
</span><span style="color:#177500"></span>    <span style="color:#177500">// 如果取出的值是null，则判断当前map是否包含该key，若包含该key，也可以予以替换
</span><span style="color:#177500"></span>    <span style="color:#a90d91">if</span> <span style="color:#000">(((</span><span style="color:#000">curValue</span> <span style="color:#000">=</span> <span style="color:#000">get</span><span style="color:#000">(</span><span style="color:#000">key</span><span style="color:#000">))</span> <span style="color:#000">!=</span> <span style="color:#a90d91">null</span><span style="color:#000">)</span> <span style="color:#000">||</span> <span style="color:#000">containsKey</span><span style="color:#000">(</span><span style="color:#000">key</span><span style="color:#000">))</span> <span style="color:#000">{</span>
        <span style="color:#000">curValue</span> <span style="color:#000">=</span> <span style="color:#000">put</span><span style="color:#000">(</span><span style="color:#000">key</span><span style="color:#000">,</span> <span style="color:#000">value</span><span style="color:#000">);</span>
    <span style="color:#000">}</span>
    <span style="color:#a90d91">return</span> <span style="color:#000">curValue</span><span style="color:#000">;</span>
<span style="color:#000">}</span>
</code></pre></div><hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="23-default-v-computeifabsentk-key-function-super-k--extends-v-mappingfunction">
        23. default V computeIfAbsent(K key, Function&lt;? super K, ? extends V&gt; mappingFunction
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/Map/#23-default-v-computeifabsentk-key-function-super-k--extends-v-mappingfunction" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 23. default V computeIfAbsent(K key, Function&lt;? super K, ? extends V&gt; mappingFunction" href="#23-default-v-computeifabsentk-key-function-super-k--extends-v-mappingfunction">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>如果指定的键尚未与值关联（或映射到<code>null</code>），则尝试使用给定的映射函数计算其值并将其放入此map，除非计算的结果为<code>null</code>。</p>
<p>如果函数返回<code>null</code>，则不会记录任何映射。如果函数本身抛出（未经检查的）异常，则重新抛出异常，并且不记录任何映射。最常见的用法是构造一个新对象作为初始映射值或内存结果，如下所示：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#000">map</span><span style="color:#000">.</span><span style="color:#836c28">computeIfAbsent</span><span style="color:#000">(</span><span style="color:#000">key</span><span style="color:#000">,</span> <span style="color:#000">k</span> <span style="color:#000">-&gt;</span> <span style="color:#a90d91">new</span> <span style="color:#000">Value</span><span style="color:#000">(</span><span style="color:#000">f</span><span style="color:#000">(</span><span style="color:#000">k</span><span style="color:#000">)));</span>
</code></pre></div><p>或者实现一个多值映射，<code>Map&lt;K,Collection&lt;V&gt;&gt;</code>，支持每个键多个值：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#000">map</span><span style="color:#000">.</span><span style="color:#836c28">computeIfAbsent</span><span style="color:#000">(</span><span style="color:#000">key</span><span style="color:#000">,</span> <span style="color:#000">k</span> <span style="color:#000">-&gt;</span> <span style="color:#a90d91">new</span> <span style="color:#000">HashSet</span><span style="color:#000">&lt;</span><span style="color:#000">V</span><span style="color:#000">&gt;()).</span><span style="color:#836c28">add</span><span style="color:#000">(</span><span style="color:#000">v</span><span style="color:#000">);</span>
</code></pre></div><p>默认实现相当于对此map执行以下步骤，然后返回当前值或<code>null</code>（如果当前不存在）：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">if</span> <span style="color:#000">(</span><span style="color:#000">map</span><span style="color:#000">.</span><span style="color:#836c28">get</span><span style="color:#000">(</span><span style="color:#000">key</span><span style="color:#000">)</span> <span style="color:#000">==</span> <span style="color:#a90d91">null</span><span style="color:#000">)</span> <span style="color:#000">{</span>
    <span style="color:#000">V</span> <span style="color:#000">newValue</span> <span style="color:#000">=</span> <span style="color:#000">mappingFunction</span><span style="color:#000">.</span><span style="color:#836c28">apply</span><span style="color:#000">(</span><span style="color:#000">key</span><span style="color:#000">);</span>
    <span style="color:#a90d91">if</span> <span style="color:#000">(</span><span style="color:#000">newValue</span> <span style="color:#000">!=</span> <span style="color:#a90d91">null</span><span style="color:#000">)</span>
        <span style="color:#000">map</span><span style="color:#000">.</span><span style="color:#836c28">put</span><span style="color:#000">(</span><span style="color:#000">key</span><span style="color:#000">,</span> <span style="color:#000">newValue</span><span style="color:#000">);</span>
<span style="color:#000">}</span>
</code></pre></div><p>默认实现不保证此方法的同步或原子性。任何提供原子性保证的实现都必须重写此方法并记录其并发属性。特别是，子接口<code>java.util.concurrent.ConcurrentMap</code>的所有实现都必须记录该函数是否仅在该值不存在时以原子方式应用一次。</p>
<p>源码如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">default</span> <span style="color:#000">V</span> <span style="color:#000">computeIfAbsent</span><span style="color:#000">(</span><span style="color:#000">K</span> <span style="color:#000">key</span><span style="color:#000">,</span>
        <span style="color:#000">Function</span><span style="color:#000">&lt;?</span> <span style="color:#a90d91">super</span> <span style="color:#000">K</span><span style="color:#000">,</span> <span style="color:#000">?</span> <span style="color:#a90d91">extends</span> <span style="color:#000">V</span><span style="color:#000">&gt;</span> <span style="color:#000">mappingFunction</span><span style="color:#000">)</span> <span style="color:#000">{</span>
    <span style="color:#000">Objects</span><span style="color:#000">.</span><span style="color:#836c28">requireNonNull</span><span style="color:#000">(</span><span style="color:#000">mappingFunction</span><span style="color:#000">);</span>
    <span style="color:#000">V</span> <span style="color:#000">v</span><span style="color:#000">;</span>
    <span style="color:#177500">// 只有取出的值为空，才执行给定的函数
</span><span style="color:#177500"></span>    <span style="color:#a90d91">if</span> <span style="color:#000">((</span><span style="color:#000">v</span> <span style="color:#000">=</span> <span style="color:#000">get</span><span style="color:#000">(</span><span style="color:#000">key</span><span style="color:#000">))</span> <span style="color:#000">==</span> <span style="color:#a90d91">null</span><span style="color:#000">)</span> <span style="color:#000">{</span>
        <span style="color:#000">V</span> <span style="color:#000">newValue</span><span style="color:#000">;</span>
        <span style="color:#177500">// 只有指定的函数执行的结果不为空才将其放入map
</span><span style="color:#177500"></span>        <span style="color:#a90d91">if</span> <span style="color:#000">((</span><span style="color:#000">newValue</span> <span style="color:#000">=</span> <span style="color:#000">mappingFunction</span><span style="color:#000">.</span><span style="color:#836c28">apply</span><span style="color:#000">(</span><span style="color:#000">key</span><span style="color:#000">))</span> <span style="color:#000">!=</span> <span style="color:#a90d91">null</span><span style="color:#000">)</span> <span style="color:#000">{</span>
            <span style="color:#000">put</span><span style="color:#000">(</span><span style="color:#000">key</span><span style="color:#000">,</span> <span style="color:#000">newValue</span><span style="color:#000">);</span>
            <span style="color:#a90d91">return</span> <span style="color:#000">newValue</span><span style="color:#000">;</span>
        <span style="color:#000">}</span>
    <span style="color:#000">}</span>

    <span style="color:#a90d91">return</span> <span style="color:#000">v</span><span style="color:#000">;</span>
<span style="color:#000">}</span>
</code></pre></div><hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="24-default-v-computeifpresentk-key-bifunction-super-k--super-v--extends-v-remappingfunction">
        24. default V computeIfPresent(K key, BiFunction&lt;? super K, ? super V, ? extends V&gt; remappingFunction)
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/Map/#24-default-v-computeifpresentk-key-bifunction-super-k--super-v--extends-v-remappingfunction" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 24. default V computeIfPresent(K key, BiFunction&lt;? super K, ? super V, ? extends V&gt; remappingFunction)" href="#24-default-v-computeifpresentk-key-bifunction-super-k--super-v--extends-v-remappingfunction">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>如果指定键的值存在且非空，则尝试计算出一个值，并把这个值映射到该键上。</p>
<p>如果函数返回<code>null</code>，则删除该映射。如果函数本身抛出（未经检查的）异常，则当前方法将重新抛出异常，并且当前映射保持不变。</p>
<p>默认实现相当于对此map执行以下步骤，然后返回当前值或<code>null</code>（如果不存在）：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">if</span> <span style="color:#000">(</span><span style="color:#000">map</span><span style="color:#000">.</span><span style="color:#836c28">get</span><span style="color:#000">(</span><span style="color:#000">key</span><span style="color:#000">)</span> <span style="color:#000">!=</span> <span style="color:#a90d91">null</span><span style="color:#000">)</span> <span style="color:#000">{</span>
    <span style="color:#000">V</span> <span style="color:#000">oldValue</span> <span style="color:#000">=</span> <span style="color:#000">map</span><span style="color:#000">.</span><span style="color:#836c28">get</span><span style="color:#000">(</span><span style="color:#000">key</span><span style="color:#000">);</span>
    <span style="color:#000">V</span> <span style="color:#000">newValue</span> <span style="color:#000">=</span> <span style="color:#000">remappingFunction</span><span style="color:#000">.</span><span style="color:#836c28">apply</span><span style="color:#000">(</span><span style="color:#000">key</span><span style="color:#000">,</span> <span style="color:#000">oldValue</span><span style="color:#000">);</span>
    <span style="color:#a90d91">if</span> <span style="color:#000">(</span><span style="color:#000">newValue</span> <span style="color:#000">!=</span> <span style="color:#a90d91">null</span><span style="color:#000">)</span>
        <span style="color:#000">map</span><span style="color:#000">.</span><span style="color:#836c28">put</span><span style="color:#000">(</span><span style="color:#000">key</span><span style="color:#000">,</span> <span style="color:#000">newValue</span><span style="color:#000">);</span>
    <span style="color:#a90d91">else</span>
        <span style="color:#000">map</span><span style="color:#000">.</span><span style="color:#836c28">remove</span><span style="color:#000">(</span><span style="color:#000">key</span><span style="color:#000">);</span>
<span style="color:#000">}</span>
</code></pre></div><p>默认实现不保证此方法的同步或原子性。任何提供原子性保证的实现都必须重写此方法并记录其并发属性。特别是，子接口<code>java.util.concurrent.ConcurrentMap</code>的所有实现都必须记录该函数是否仅在该值不存在时以原子方式应用一次。</p>
<p>源码如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">default</span> <span style="color:#000">V</span> <span style="color:#000">computeIfPresent</span><span style="color:#000">(</span><span style="color:#000">K</span> <span style="color:#000">key</span><span style="color:#000">,</span>
        <span style="color:#000">BiFunction</span><span style="color:#000">&lt;?</span> <span style="color:#a90d91">super</span> <span style="color:#000">K</span><span style="color:#000">,</span> <span style="color:#000">?</span> <span style="color:#a90d91">super</span> <span style="color:#000">V</span><span style="color:#000">,</span> <span style="color:#000">?</span> <span style="color:#a90d91">extends</span> <span style="color:#000">V</span><span style="color:#000">&gt;</span> <span style="color:#000">remappingFunction</span><span style="color:#000">)</span> <span style="color:#000">{</span>
    <span style="color:#000">Objects</span><span style="color:#000">.</span><span style="color:#836c28">requireNonNull</span><span style="color:#000">(</span><span style="color:#000">remappingFunction</span><span style="color:#000">);</span>
    <span style="color:#000">V</span> <span style="color:#000">oldValue</span><span style="color:#000">;</span>
    <span style="color:#177500">// 先取出指定键对应的值，若该值不为空则对其执行给定的函数
</span><span style="color:#177500"></span>    <span style="color:#a90d91">if</span> <span style="color:#000">((</span><span style="color:#000">oldValue</span> <span style="color:#000">=</span> <span style="color:#000">get</span><span style="color:#000">(</span><span style="color:#000">key</span><span style="color:#000">))</span> <span style="color:#000">!=</span> <span style="color:#a90d91">null</span><span style="color:#000">)</span> <span style="color:#000">{</span>
        <span style="color:#177500">// 基于指定的key和该key原先的值计算出一个新值
</span><span style="color:#177500"></span>        <span style="color:#000">V</span> <span style="color:#000">newValue</span> <span style="color:#000">=</span> <span style="color:#000">remappingFunction</span><span style="color:#000">.</span><span style="color:#836c28">apply</span><span style="color:#000">(</span><span style="color:#000">key</span><span style="color:#000">,</span> <span style="color:#000">oldValue</span><span style="color:#000">);</span>
        <span style="color:#177500">// 判断新值是否为空
</span><span style="color:#177500"></span>        <span style="color:#a90d91">if</span> <span style="color:#000">(</span><span style="color:#000">newValue</span> <span style="color:#000">!=</span> <span style="color:#a90d91">null</span><span style="color:#000">)</span> <span style="color:#000">{</span>
            <span style="color:#177500">// 若不为空，则将其映射到当前key，然后返回该新值
</span><span style="color:#177500"></span>            <span style="color:#000">put</span><span style="color:#000">(</span><span style="color:#000">key</span><span style="color:#000">,</span> <span style="color:#000">newValue</span><span style="color:#000">);</span>
            <span style="color:#a90d91">return</span> <span style="color:#000">newValue</span><span style="color:#000">;</span>
        <span style="color:#000">}</span> <span style="color:#a90d91">else</span> <span style="color:#000">{</span>
            <span style="color:#177500">// 若为空，则将该key从当前map中删除，然后返回null
</span><span style="color:#177500"></span>            <span style="color:#000">remove</span><span style="color:#000">(</span><span style="color:#000">key</span><span style="color:#000">);</span>
            <span style="color:#a90d91">return</span> <span style="color:#a90d91">null</span><span style="color:#000">;</span>
        <span style="color:#000">}</span>
    <span style="color:#000">}</span> <span style="color:#a90d91">else</span> <span style="color:#000">{</span>
        <span style="color:#a90d91">return</span> <span style="color:#a90d91">null</span><span style="color:#000">;</span>
    <span style="color:#000">}</span>
<span style="color:#000">}</span>
</code></pre></div><hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="25-default-v-computek-key-bifunction-super-k--super-v--extends-v-remappingfunction">
        25. default V compute(K key, BiFunction&lt;? super K, ? super V, ? extends V&gt; remappingFunction)
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/Map/#25-default-v-computek-key-bifunction-super-k--super-v--extends-v-remappingfunction" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 25. default V compute(K key, BiFunction&lt;? super K, ? super V, ? extends V&gt; remappingFunction)" href="#25-default-v-computek-key-bifunction-super-k--super-v--extends-v-remappingfunction">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>尝试计算指定键及其当前映射值（如果没有当前映射，则为<code>null</code>）的映射。例如，要创建或拼接<code>String</code>的<code>msg</code>到值映射：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#177500">// 通常merge()方法用于此场景会更简单。
</span><span style="color:#177500"></span><span style="color:#000">map</span><span style="color:#000">.</span><span style="color:#836c28">compute</span><span style="color:#000">(</span><span style="color:#000">key</span><span style="color:#000">,</span> <span style="color:#000">(</span><span style="color:#000">k</span><span style="color:#000">,</span> <span style="color:#000">v</span><span style="color:#000">)</span> <span style="color:#000">-&gt;</span> <span style="color:#000">(</span><span style="color:#000">v</span> <span style="color:#000">==</span> <span style="color:#a90d91">null</span><span style="color:#000">)</span> <span style="color:#000">?</span> <span style="color:#000">msg</span> <span style="color:#000">:</span> <span style="color:#000">v</span><span style="color:#000">.</span><span style="color:#836c28">concat</span><span style="color:#000">(</span><span style="color:#000">msg</span><span style="color:#000">))</span>
</code></pre></div><p>如果函数返回<code>null</code>，则删除映射（如果最初不存在，则保持不存在）。如果函数本身抛出（未经检查的）异常，则当前方法会重新抛出异常，并且当前映射保持不变。</p>
<p>默认实现等同于对当前map执行以下步骤的操作，然后返回当前值或者<code>null</code>（如果不存在）：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#000">V</span> <span style="color:#000">oldValue</span> <span style="color:#000">=</span> <span style="color:#000">map</span><span style="color:#000">.</span><span style="color:#836c28">get</span><span style="color:#000">(</span><span style="color:#000">key</span><span style="color:#000">);</span>
<span style="color:#000">V</span> <span style="color:#000">newValue</span> <span style="color:#000">=</span> <span style="color:#000">remappingFunction</span><span style="color:#000">.</span><span style="color:#836c28">apply</span><span style="color:#000">(</span><span style="color:#000">key</span><span style="color:#000">,</span> <span style="color:#000">oldValue</span><span style="color:#000">);</span>
<span style="color:#a90d91">if</span> <span style="color:#000">(</span><span style="color:#000">oldValue</span> <span style="color:#000">!=</span> <span style="color:#a90d91">null</span> <span style="color:#000">)</span> <span style="color:#000">{</span>
   <span style="color:#a90d91">if</span> <span style="color:#000">(</span><span style="color:#000">newValue</span> <span style="color:#000">!=</span> <span style="color:#a90d91">null</span><span style="color:#000">)</span>
      <span style="color:#000">map</span><span style="color:#000">.</span><span style="color:#836c28">put</span><span style="color:#000">(</span><span style="color:#000">key</span><span style="color:#000">,</span> <span style="color:#000">newValue</span><span style="color:#000">);</span>
   <span style="color:#a90d91">else</span>
      <span style="color:#000">map</span><span style="color:#000">.</span><span style="color:#836c28">remove</span><span style="color:#000">(</span><span style="color:#000">key</span><span style="color:#000">);</span>
<span style="color:#000">}</span> <span style="color:#a90d91">else</span> <span style="color:#000">{</span>
   <span style="color:#a90d91">if</span> <span style="color:#000">(</span><span style="color:#000">newValue</span> <span style="color:#000">!=</span> <span style="color:#a90d91">null</span><span style="color:#000">)</span>
      <span style="color:#000">map</span><span style="color:#000">.</span><span style="color:#836c28">put</span><span style="color:#000">(</span><span style="color:#000">key</span><span style="color:#000">,</span> <span style="color:#000">newValue</span><span style="color:#000">);</span>
   <span style="color:#a90d91">else</span>
      <span style="color:#a90d91">return</span> <span style="color:#a90d91">null</span><span style="color:#000">;</span>
<span style="color:#000">}</span>
</code></pre></div><p>默认实现不保证此方法的同步或原子性。任何提供原子性保证的实现都必须重写此方法并记录其并发属性。特别是，子接口<code>java.util.concurrent.ConcurrentMap</code>的所有实现都必须记录该函数是否仅在该值不存在时以原子方式应用一次。</p>
<p>源码如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">default</span> <span style="color:#000">V</span> <span style="color:#000">compute</span><span style="color:#000">(</span><span style="color:#000">K</span> <span style="color:#000">key</span><span style="color:#000">,</span>
        <span style="color:#000">BiFunction</span><span style="color:#000">&lt;?</span> <span style="color:#a90d91">super</span> <span style="color:#000">K</span><span style="color:#000">,</span> <span style="color:#000">?</span> <span style="color:#a90d91">super</span> <span style="color:#000">V</span><span style="color:#000">,</span> <span style="color:#000">?</span> <span style="color:#a90d91">extends</span> <span style="color:#000">V</span><span style="color:#000">&gt;</span> <span style="color:#000">remappingFunction</span><span style="color:#000">)</span> <span style="color:#000">{</span>
    <span style="color:#000">Objects</span><span style="color:#000">.</span><span style="color:#836c28">requireNonNull</span><span style="color:#000">(</span><span style="color:#000">remappingFunction</span><span style="color:#000">);</span>
    <span style="color:#177500">// 先取出当前key对应的旧值
</span><span style="color:#177500"></span>    <span style="color:#000">V</span> <span style="color:#000">oldValue</span> <span style="color:#000">=</span> <span style="color:#000">get</span><span style="color:#000">(</span><span style="color:#000">key</span><span style="color:#000">);</span>

    <span style="color:#177500">// 对当前key和对应的旧值执行给定重映射函数，得到一个新值
</span><span style="color:#177500"></span>    <span style="color:#000">V</span> <span style="color:#000">newValue</span> <span style="color:#000">=</span> <span style="color:#000">remappingFunction</span><span style="color:#000">.</span><span style="color:#836c28">apply</span><span style="color:#000">(</span><span style="color:#000">key</span><span style="color:#000">,</span> <span style="color:#000">oldValue</span><span style="color:#000">);</span>
    <span style="color:#177500">// 判断新值是否为空
</span><span style="color:#177500"></span>    <span style="color:#a90d91">if</span> <span style="color:#000">(</span><span style="color:#000">newValue</span> <span style="color:#000">==</span> <span style="color:#a90d91">null</span><span style="color:#000">)</span> <span style="color:#000">{</span>
        <span style="color:#177500">// 新值为空，则判断旧值或者当前map中是否存在当前key
</span><span style="color:#177500"></span>        <span style="color:#177500">// delete mapping
</span><span style="color:#177500"></span>        <span style="color:#a90d91">if</span> <span style="color:#000">(</span><span style="color:#000">oldValue</span> <span style="color:#000">!=</span> <span style="color:#a90d91">null</span> <span style="color:#000">||</span> <span style="color:#000">containsKey</span><span style="color:#000">(</span><span style="color:#000">key</span><span style="color:#000">))</span> <span style="color:#000">{</span>
            <span style="color:#177500">// 重映射函数计算出的新值为空，并且当前map包含当前key，此时删除该key
</span><span style="color:#177500"></span>            <span style="color:#177500">// something to remove
</span><span style="color:#177500"></span>            <span style="color:#000">remove</span><span style="color:#000">(</span><span style="color:#000">key</span><span style="color:#000">);</span>
            <span style="color:#a90d91">return</span> <span style="color:#a90d91">null</span><span style="color:#000">;</span>
        <span style="color:#000">}</span> <span style="color:#a90d91">else</span> <span style="color:#000">{</span>
            <span style="color:#177500">// 当前map不包含当前key，则什么都不用做
</span><span style="color:#177500"></span>            <span style="color:#177500">// nothing to do. Leave things as they were.
</span><span style="color:#177500"></span>            <span style="color:#a90d91">return</span> <span style="color:#a90d91">null</span><span style="color:#000">;</span>
        <span style="color:#000">}</span>
    <span style="color:#000">}</span> <span style="color:#a90d91">else</span> <span style="color:#000">{</span>
        <span style="color:#177500">// 计算出的新值不为空，则新增或者替换调原有映射
</span><span style="color:#177500"></span>        <span style="color:#177500">// add or replace old mapping
</span><span style="color:#177500"></span>        <span style="color:#000">put</span><span style="color:#000">(</span><span style="color:#000">key</span><span style="color:#000">,</span> <span style="color:#000">newValue</span><span style="color:#000">);</span>
        <span style="color:#177500">// 返回新值
</span><span style="color:#177500"></span>        <span style="color:#a90d91">return</span> <span style="color:#000">newValue</span><span style="color:#000">;</span>
    <span style="color:#000">}</span>
<span style="color:#000">}</span>
</code></pre></div><hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="26-default-v-mergek-key-v-value-bifunction-super-v--super-v--extends-v-remappingfunction">
        26. default V merge(K key, V value, BiFunction&lt;? super V, ? super V, ? extends V&gt; remappingFunction)
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/Map/#26-default-v-mergek-key-v-value-bifunction-super-v--super-v--extends-v-remappingfunction" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 26. default V merge(K key, V value, BiFunction&lt;? super V, ? super V, ? extends V&gt; remappingFunction)" href="#26-default-v-mergek-key-v-value-bifunction-super-v--super-v--extends-v-remappingfunction">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>如果指定的键未关联到一个值，或者关联到<code>null</code>，则把该键关联到给定的非空值。否则，用指定的重映射函数计算出的结果来替换该键关联到的值，如果计算出的结果为<code>null</code>则删除该键。当将一个键的多个映射值组合到一起时，可以使用此方法。</p>
<p>例如，创建或拼接一个<code>String</code>类型的<code>msg</code>到值映射：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#000">map</span><span style="color:#000">.</span><span style="color:#836c28">merge</span><span style="color:#000">(</span><span style="color:#000">key</span><span style="color:#000">,</span> <span style="color:#000">msg</span><span style="color:#000">,</span> <span style="color:#000">String</span><span style="color:#000">::</span><span style="color:#000">concat</span><span style="color:#000">)</span>
</code></pre></div><p>如果函数返回<code>null</code>，则当前映射会被删除。如果函数本身抛出了（不受检查）异常，则当前方法会将异常重新抛出，并且当前异常保持不变。</p>
<p>该默认实现等同于对该map执行如下步骤的操作，然后返回当前值或者<code>null</code>（如果不存在）：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#000">V</span> <span style="color:#000">oldValue</span> <span style="color:#000">=</span> <span style="color:#000">map</span><span style="color:#000">.</span><span style="color:#836c28">get</span><span style="color:#000">(</span><span style="color:#000">key</span><span style="color:#000">);</span>
<span style="color:#000">V</span> <span style="color:#000">newValue</span> <span style="color:#000">=</span> <span style="color:#000">(</span><span style="color:#000">oldValue</span> <span style="color:#000">==</span> <span style="color:#a90d91">null</span><span style="color:#000">)</span> <span style="color:#000">?</span> <span style="color:#000">value</span> <span style="color:#000">:</span>
             <span style="color:#000">remappingFunction</span><span style="color:#000">.</span><span style="color:#836c28">apply</span><span style="color:#000">(</span><span style="color:#000">oldValue</span><span style="color:#000">,</span> <span style="color:#000">value</span><span style="color:#000">);</span>
<span style="color:#a90d91">if</span> <span style="color:#000">(</span><span style="color:#000">newValue</span> <span style="color:#000">==</span> <span style="color:#a90d91">null</span><span style="color:#000">)</span>
    <span style="color:#000">map</span><span style="color:#000">.</span><span style="color:#836c28">remove</span><span style="color:#000">(</span><span style="color:#000">key</span><span style="color:#000">);</span>
<span style="color:#a90d91">else</span>
    <span style="color:#000">map</span><span style="color:#000">.</span><span style="color:#836c28">put</span><span style="color:#000">(</span><span style="color:#000">key</span><span style="color:#000">,</span> <span style="color:#000">newValue</span><span style="color:#000">);</span>
</code></pre></div><p>默认实现不保证此方法的同步或原子性。任何提供原子性保证的实现都必须重写此方法并记录其并发属性。特别是，子接口<code>java.util.concurrent.ConcurrentMap</code>的所有实现都必须记录该函数是否仅在该值不存在时以原子方式应用一次。</p>
<p>源码如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">default</span> <span style="color:#000">V</span> <span style="color:#000">merge</span><span style="color:#000">(</span><span style="color:#000">K</span> <span style="color:#000">key</span><span style="color:#000">,</span> <span style="color:#000">V</span> <span style="color:#000">value</span><span style="color:#000">,</span>
        <span style="color:#000">BiFunction</span><span style="color:#000">&lt;?</span> <span style="color:#a90d91">super</span> <span style="color:#000">V</span><span style="color:#000">,</span> <span style="color:#000">?</span> <span style="color:#a90d91">super</span> <span style="color:#000">V</span><span style="color:#000">,</span> <span style="color:#000">?</span> <span style="color:#a90d91">extends</span> <span style="color:#000">V</span><span style="color:#000">&gt;</span> <span style="color:#000">remappingFunction</span><span style="color:#000">)</span> <span style="color:#000">{</span>
    <span style="color:#177500">// 执行非空校验
</span><span style="color:#177500"></span>    <span style="color:#000">Objects</span><span style="color:#000">.</span><span style="color:#836c28">requireNonNull</span><span style="color:#000">(</span><span style="color:#000">remappingFunction</span><span style="color:#000">);</span>
    <span style="color:#000">Objects</span><span style="color:#000">.</span><span style="color:#836c28">requireNonNull</span><span style="color:#000">(</span><span style="color:#000">value</span><span style="color:#000">);</span>
    <span style="color:#177500">// 先获取到指定键关联到的旧值
</span><span style="color:#177500"></span>    <span style="color:#000">V</span> <span style="color:#000">oldValue</span> <span style="color:#000">=</span> <span style="color:#000">get</span><span style="color:#000">(</span><span style="color:#000">key</span><span style="color:#000">);</span>
    <span style="color:#177500">// 如果旧值为空，则新值就取参数列表中指定的值value
</span><span style="color:#177500"></span>    <span style="color:#177500">// 否则，使用旧值和参数中给定的值value执行参数中指定的重映射函数 计算出新值
</span><span style="color:#177500"></span>    <span style="color:#000">V</span> <span style="color:#000">newValue</span> <span style="color:#000">=</span> <span style="color:#000">(</span><span style="color:#000">oldValue</span> <span style="color:#000">==</span> <span style="color:#a90d91">null</span><span style="color:#000">)</span> <span style="color:#000">?</span> <span style="color:#000">value</span> <span style="color:#000">:</span>
               <span style="color:#000">remappingFunction</span><span style="color:#000">.</span><span style="color:#836c28">apply</span><span style="color:#000">(</span><span style="color:#000">oldValue</span><span style="color:#000">,</span> <span style="color:#000">value</span><span style="color:#000">);</span>
    <span style="color:#a90d91">if</span><span style="color:#000">(</span><span style="color:#000">newValue</span> <span style="color:#000">==</span> <span style="color:#a90d91">null</span><span style="color:#000">)</span> <span style="color:#000">{</span>
        <span style="color:#177500">// 新值为空，则删除指定的键
</span><span style="color:#177500"></span>        <span style="color:#000">remove</span><span style="color:#000">(</span><span style="color:#000">key</span><span style="color:#000">);</span>
    <span style="color:#000">}</span> <span style="color:#a90d91">else</span> <span style="color:#000">{</span>
        <span style="color:#177500">// 新值不为空，则将该新值映射到指定的键上
</span><span style="color:#177500"></span>        <span style="color:#000">put</span><span style="color:#000">(</span><span style="color:#000">key</span><span style="color:#000">,</span> <span style="color:#000">newValue</span><span style="color:#000">);</span>
    <span style="color:#000">}</span>
    <span style="color:#177500">// 返回新值
</span><span style="color:#177500"></span>    <span style="color:#a90d91">return</span> <span style="color:#000">newValue</span><span style="color:#000">;</span>
<span style="color:#000">}</span>
</code></pre></div>

    </article>

                








    
    

    
        
        

        
        
            
            
            

            

            

            
        

        
        
            
    
    

    
        
        

        
        
            
            
            

            

            

            
        

        
        
            
    
    

    
        
        

        
        
            
            
            

            

            

            
        

        
        
    
        
        

        
        
            
            
            

            

            

            
        

        
        
    
        
        

        
        
            
            
            

            

            

            
        

        
        
    
        
        

        
        
            
            
            

            

            

            
        

        
        
    
        
        

        
        
            
            
            

            

            

            
        

        
        
    
        
        

        
        
            
            
            

            

            

            
        

        
        
    
        
        

        
        
            
            
            

            

            

            
        

        
        
    
        
        

        
        
            
            
            

            

            

            
        

        
        
    
        
        

        
        
            
            
            

            

            

            
        

        
        
    
        
        

        
        
            
            
            

            

            

            
        

        
        
    
        
        

        
        
            
            
            

            

            
                
                
            

            
        

        
        
    
        
        

        
        
            
            
            

            
                
                
            

            

            
        

        
        
    
        
        

        
        
            
            
            

            

            

            
        

        
        
    
        
        

        
        
            
            
            

            

            

            
        

        
        
    

        
    

        
    





<div class="gdoc-page__footer flex flex-wrap justify-between">
    
    
        <span class="gdoc-page__nav">
            
                <a class="gdoc-page__nav--prev flex align-center" href="/jdk8-src-note/java/util/ListIterator/" title="ListIterator"> ListIterator</a>
            
        </span>
        <span class="gdoc-page__nav">
            
                <a class="gdoc-page__nav--next flex align-center" href="/jdk8-src-note/java/util/Queue/" title="Queue">Queue </a>
            
        </span>
    
</div>

            </div>
        </main>

        <footer class="gdoc-footer">
    <div class="container flex flex-wrap">
        <span class="gdoc-footer__item">
            Built with <a href="https://gohugo.io/" class="gdoc-footer__link">Hugo</a> and
            <svg class="icon gdoc_heart"><use xlink:href="#gdoc_heart"></use></svg>
        </span>
        
        
    </div>
</footer>

    </div>

    




<script defer src="/jdk8-src-note/js/zh-cn.search.min.66b6c7df3c6f2d0291b704e6db2fe9e9a92262e2fc4e3539b6304773a4fed5a6.js"></script>



<script defer src="/jdk8-src-note/js/clipboard-27784b7376.min.js"></script>
<script defer src="/jdk8-src-note/js/clipboard-loader-f0b5fbd5f6.min.js"></script>


</body>
</html>
