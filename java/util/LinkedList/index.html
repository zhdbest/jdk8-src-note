<!DOCTYPE html>
<html lang="zh-cn" class="color-toggle-hidden">

<head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light dark" />





    <meta name="description" content="1. transient int size = 0; 2. transient Nodefirst; 3. transient Nodelast; 4. public LinkedList() 5. public LinkedList(Collection&lt;? extends E&gt; c) 6. private void linkFirst(E e) 7. void linkLast(E e) 8. void linkBefore(E e, Nodesucc) 9. private E unlinkFirst(Nodef) 10. private E unlinkLast(Nodel) 11. E unlink(Nodex) 12. public E getFirst() 13. public E getLast() 14. public E removeFirst() 15. public E removeLast() 16. public void addFirst(E e) 17. public void addLast(E e) 18.">



    <title>LinkedList | JDK8源码阅读笔记</title>

    <link rel="icon" href="/jdk8-src-note/favicon/favicon-32x32.png" type="image/x-icon">

    <script src="/jdk8-src-note/js/darkmode-ce906ea916.min.js"></script>

<link rel="preload" as="font" href="/jdk8-src-note/fonts/Metropolis.woff2" type="font/woff2" crossorigin="anonymous">
<link rel="preload" as="font" href="/jdk8-src-note/fonts/LiberationSans.woff2" type="font/woff2" crossorigin="anonymous">

<link rel="preload" href="/jdk8-src-note/main-cc3cbe901b.min.css" as="style">
<link rel="stylesheet" href="/jdk8-src-note/main-cc3cbe901b.min.css" media="all">

<link rel="preload" href="/jdk8-src-note/mobile-249b801e7d.min.css" as="style">
<link rel="stylesheet" href="/jdk8-src-note/mobile-249b801e7d.min.css" media="screen and (max-width: 45rem)">

<link rel="preload" href="/jdk8-src-note/print-f79fc3e5d7.min.css" as="style">
<link rel="stylesheet" href="/jdk8-src-note/print-f79fc3e5d7.min.css" media="print">

<link rel="preload" href="/jdk8-src-note/custom.css" as="style">
<link rel="stylesheet" href="/jdk8-src-note/custom.css" media="all">



<!-- Made with Geekdoc theme https://github.com/thegeeklab/hugo-geekdoc -->

    

</head>

<body itemscope itemtype="https://schema.org/WebPage">
    
<!-- geekdoc include: sprites/abstractClass.svg -->
<svg  id="abstractClass" class="svg-sprite" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 16 16">
  <defs>
    <rect id="abstractclass-a" width="8" height="14"/>
  </defs>
  <g fill="none" fill-rule="evenodd">
    <path fill="#9AA7B0" fill-opacity=".8" d="M3 3.1055C1.764 4.3685 1 6.0935 1 8.0005 1 9.9065 1.764 11.6315 3 12.8945L3 3.1055zM13 3.1055L13 12.8945C14.236 11.6315 15 9.9065 15 8.0005 15 6.0935 14.236 4.3675 13 3.1055"/>
    <g transform="translate(4 1)">
      <mask id="abstractclass-b" fill="#fff">
        <use xlink:href="#abstractclass-a"/>
      </mask>
      <g mask="url(#abstractclass-b)">
        <g transform="translate(-4 -1)">
          <path fill="#40B6E0" fill-opacity=".6" d="M15,8 C15,11.866 11.866,15 8,15 C4.134,15 1,11.866 1,8 C1,4.134 4.134,1 8,1 C11.866,1 15,4.134 15,8"/>
          <path fill="#231F20" fill-opacity=".7" d="M5,4.28253174 C4.53,4.74153174 4.028,4.978 3.1,5 C2.061,5.022 1,4.2794 1,3.0004 C1,1.7124 1.971,1 3.1,1 C3.94833171,1 4.54833171,1.18475342 4.9,1.55426025 L5.5162,0.836730957 C4.8293999,0.270175195 4.28826904,0.0004 3.0982,0.0004 C1.3402,0.0004 0.0002,1.3584 0.0002,3.0004 C0.0002,4.6824 1.3642,6.0004 3.0022,6.0004 C4.29284668,6.0004 5.0232,5.5934 5.6162,4.9814 C5.2054,4.51548783 5,4.28253174 5,4.28253174 Z" transform="translate(5 5)"/>
        </g>
      </g>
    </g>
  </g>
</svg>


<!-- geekdoc include: sprites/class.svg -->
<svg id="class" class="svg-sprite" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">
  <g fill="none" fill-rule="evenodd">
    <path fill="#40B6E0" fill-opacity=".6" d="M15,8 C15,11.866 11.866,15 8,15 C4.134,15 1,11.866 1,8 C1,4.134 4.134,1 8,1 C11.866,1 15,4.134 15,8"/>
    <path fill="#231F20" fill-opacity=".7" d="M5,4.28253174 C4.53,4.74153174 4.028,4.978 3.1,5 C2.061,5.022 1,4.2794 1,3.0004 C1,1.7124 1.971,1 3.1,1 C3.94833171,1 4.54833171,1.18475342 4.9,1.55426025 L5.5162,0.836730957 C4.8293999,0.270175195 4.28826904,0.0004 3.0982,0.0004 C1.3402,0.0004 0.0002,1.3584 0.0002,3.0004 C0.0002,4.6824 1.3642,6.0004 3.0022,6.0004 C4.29284668,6.0004 5.0232,5.5934 5.6162,4.9814 C5.2054,4.51548783 5,4.28253174 5,4.28253174 Z" transform="translate(5 5)"/>
  </g>
</svg>


<!-- geekdoc include: sprites/interface.svg -->
<svg  id="interface" class="svg-sprite" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">
  <g fill="none" fill-rule="evenodd">
    <path fill="#62B543" fill-opacity=".6" d="M15,8 C15,11.866 11.866,15 8,15 C4.134,15 1,11.866 1,8 C1,4.134 4.134,1 8,1 C11.866,1 15,4.134 15,8"/>
    <polygon fill="#231F20" fill-opacity=".7" points="8.5 10 8.5 6 9.5 5.664 9.5 5 6.5 5 6.5 5.664 7.5 6 7.5 10 6.5 10.344 6.5 11 9.5 11 9.5 10.344"/>
  </g>
</svg>


<!-- geekdoc include: sprites/package.svg -->
<svg id="package" class="svg-sprite" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">
  <path fill="#9AA7B0" fill-opacity=".8" fill-rule="evenodd" d="M6,10.4951 C4.896,10.4951 4.001,9.6001 4,8.4981 C3.999,7.3941 4.894,6.5001 5.997,6.5001 C7.102,6.5001 7.997,7.3941 7.998,8.4981 C7.999,9.6001 7.104,10.4951 6,10.4951 Z M7.984,4.0001 L6.696,2.7111 C6.305,2.3201 5.532,2.0001 4.979,2.0001 L1.051,2.0001 C1.023,2.0001 1,2.0231 1,2.0511 L1,13.0001 L15,13.0001 L15,4.0001 L7.984,4.0001 Z"/>
</svg>


<!-- geekdoc include: sprites/geekdoc.svg -->
<svg class="svg-sprite" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><symbol viewBox="-2.29 -2.29 28.57 28.57" id="gdoc_arrow_back" xmlns="http://www.w3.org/2000/svg"><path d="M24 10.526v2.947H5.755l8.351 8.421-2.105 2.105-12-12 12-12 2.105 2.105-8.351 8.421H24z"/></symbol><symbol viewBox="-2.29 -2.29 28.57 28.57" id="gdoc_arrow_left_alt" xmlns="http://www.w3.org/2000/svg"><path d="M5.965 10.526V6.035L0 12l5.965 5.965v-4.491H24v-2.947H5.965z"/></symbol><symbol viewBox="-2.29 -2.29 28.57 28.57" id="gdoc_arrow_right_alt" xmlns="http://www.w3.org/2000/svg"><path d="M18.035 10.526V6.035L24 12l-5.965 5.965v-4.491H0v-2.947h18.035z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_bitbucket" xmlns="http://www.w3.org/2000/svg"><path d="M15.905 13.355c.189 1.444-1.564 2.578-2.784 1.839-1.375-.602-1.375-2.784-.034-3.403 1.151-.705 2.818.223 2.818 1.564zm1.907-.361c-.309-2.44-3.076-4.056-5.328-3.042-1.426.636-2.389 2.148-2.32 3.747.086 2.097 2.08 3.815 4.176 3.626s3.729-2.234 3.472-4.331zm4.108-9.315c-.756-.997-2.045-1.169-3.179-1.358-3.214-.516-6.513-.533-9.727.034-1.066.172-2.269.361-2.939 1.323 1.1 1.031 2.664 1.186 4.073 1.358 2.544.327 5.156.344 7.699.017 1.426-.172 3.008-.309 4.073-1.375zm.979 17.788c-.481 1.684-.206 3.953-1.994 4.932-3.076 1.701-6.806 1.89-10.191 1.289-1.787-.327-3.884-.894-4.864-2.578-.43-1.65-.705-3.334-.98-5.018l.103-.275.309-.155c5.121 3.386 12.288 3.386 17.427 0 .808.241.206 1.22.189 1.805zM26.01 4.951c-.584 3.764-1.255 7.51-1.908 11.257-.189 1.1-1.255 1.719-2.148 2.183-3.214 1.615-6.96 1.89-10.483 1.512-2.389-.258-4.829-.894-6.771-2.389-.911-.705-.911-1.908-1.083-2.922-.602-3.523-1.289-7.046-1.719-10.604.206-1.547 1.942-2.217 3.231-2.698C6.848.654 8.686.362 10.508.19c3.884-.378 7.854-.241 11.618.859 1.341.395 2.784.945 3.695 2.097.412.533.275 1.203.189 1.805z"/></symbol><symbol viewBox="-2.29 -2.29 28.57 28.57" id="gdoc_bookmark" xmlns="http://www.w3.org/2000/svg"><path d="M15.268 4.392q.868 0 1.532.638t.664 1.506v17.463l-7.659-3.268-7.608 3.268V6.536q0-.868.664-1.506t1.532-.638h10.876zm4.34 14.144V4.392q0-.868-.638-1.532t-1.506-.664H6.537q0-.868.664-1.532T8.733 0h10.876q.868 0 1.532.664t.664 1.532v17.412z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_brightness_auto" xmlns="http://www.w3.org/2000/svg"><path d="M16.846 18.938h2.382L15.22 7.785h-2.44L8.772 18.938h2.382l.871-2.44h3.95zm7.087-9.062L27.999 14l-4.066 4.124v5.809h-5.809L14 27.999l-4.124-4.066H4.067v-5.809L.001 14l4.066-4.124V4.067h5.809L14 .001l4.124 4.066h5.809v5.809zm-11.385 4.937L14 10.282l1.452 4.531h-2.904z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_brightness_dark" xmlns="http://www.w3.org/2000/svg"><path d="M14 21.435q3.079 0 5.257-2.178T21.435 14t-2.178-5.257T14 6.565q-1.51 0-3.079.697 1.917.871 3.108 2.701T15.22 14t-1.191 4.037-3.108 2.701q1.568.697 3.079.697zm9.933-11.559L27.999 14l-4.066 4.124v5.809h-5.809L14 27.999l-4.124-4.066H4.067v-5.809L.001 14l4.066-4.124V4.067h5.809L14 .001l4.124 4.066h5.809v5.809z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_brightness_light" xmlns="http://www.w3.org/2000/svg"><path d="M14 21.435q3.079 0 5.257-2.178T21.435 14t-2.178-5.257T14 6.565 8.743 8.743 6.565 14t2.178 5.257T14 21.435zm9.933-3.311v5.809h-5.809L14 27.999l-4.124-4.066H4.067v-5.809L.001 14l4.066-4.124V4.067h5.809L14 .001l4.124 4.066h5.809v5.809L27.999 14z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_cloud_off" xmlns="http://www.w3.org/2000/svg"><path d="M9.023 10.5H7q-1.914 0-3.281 1.395t-1.367 3.309 1.367 3.281T7 19.852h11.375zM3.5 4.976l1.477-1.477L24.5 23.022l-1.477 1.477-2.352-2.297H6.999q-2.898 0-4.949-2.051t-2.051-4.949q0-2.844 1.969-4.867t4.758-2.133zm19.086 5.578q2.242.164 3.828 1.832T28 16.351q0 3.008-2.461 4.758l-1.695-1.695q1.805-.984 1.805-3.063 0-1.422-1.039-2.461t-2.461-1.039h-1.75v-.602q0-2.68-1.859-4.539t-4.539-1.859q-1.531 0-2.953.711l-1.75-1.695Q11.431 3.5 14.001 3.5q2.953 0 5.496 2.078t3.09 4.977z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_code" xmlns="http://www.w3.org/2000/svg"><path d="M9.917 24.5a1.75 1.75 0 10-3.501.001 1.75 1.75 0 003.501-.001zm0-21a1.75 1.75 0 10-3.501.001A1.75 1.75 0 009.917 3.5zm11.666 2.333a1.75 1.75 0 10-3.501.001 1.75 1.75 0 003.501-.001zm1.75 0a3.502 3.502 0 01-1.75 3.026c-.055 6.581-4.721 8.039-7.82 9.023-2.898.911-3.846 1.349-3.846 3.117v.474a3.502 3.502 0 011.75 3.026c0 1.932-1.568 3.5-3.5 3.5s-3.5-1.568-3.5-3.5c0-1.294.711-2.424 1.75-3.026V6.526A3.502 3.502 0 014.667 3.5c0-1.932 1.568-3.5 3.5-3.5s3.5 1.568 3.5 3.5a3.502 3.502 0 01-1.75 3.026v9.06c.93-.456 1.914-.766 2.807-1.039 3.391-1.075 5.323-1.878 5.359-5.687a3.502 3.502 0 01-1.75-3.026c0-1.932 1.568-3.5 3.5-3.5s3.5 1.568 3.5 3.5z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_date" xmlns="http://www.w3.org/2000/svg"><path d="M27.192 28.844V11.192H4.808v17.652h22.384zm0-25.689q1.277 0 2.253.976t.976 2.253v22.459q0 1.277-.976 2.216t-2.253.939H4.808q-1.352 0-2.291-.901t-.939-2.253V6.385q0-1.277.939-2.253t2.291-.976h1.577V.001h3.23v3.155h12.769V.001h3.23v3.155h1.577zm-3.155 11.267v3.155h-3.23v-3.155h3.23zm-6.46 0v3.155h-3.155v-3.155h3.155zm-6.384 0v3.155h-3.23v-3.155h3.23z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_download" xmlns="http://www.w3.org/2000/svg"><path d="M2.866 28.209h26.269v3.79H2.866v-3.79zm26.268-16.925L16 24.418 2.866 11.284h7.493V.001h11.283v11.283h7.493z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_email" xmlns="http://www.w3.org/2000/svg"><path d="M28.845 9.615v-3.23L16 14.422 3.155 6.385v3.23L16 17.577zm0-6.46q1.277 0 2.216.977T32 6.385v19.23q0 1.277-.939 2.253t-2.216.977H3.155q-1.277 0-2.216-.977T0 25.615V6.385q0-1.277.939-2.253t2.216-.977h25.69z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_git" xmlns="http://www.w3.org/2000/svg"><path d="M27.472 12.753L15.247.529a1.803 1.803 0 00-2.55 0l-2.84 2.84 2.137 2.137a2.625 2.625 0 013.501 3.501l3.499 3.499a2.625 2.625 0 11-1.237 1.237l-3.499-3.499c-.083.04-.169.075-.257.106v7.3a2.626 2.626 0 11-1.75 0v-7.3a2.626 2.626 0 01-1.494-3.607L8.62 4.606l-8.09 8.09a1.805 1.805 0 000 2.551l12.225 12.224a1.803 1.803 0 002.55 0l12.168-12.168a1.805 1.805 0 000-2.551z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_github" xmlns="http://www.w3.org/2000/svg"><path d="M16 .394c8.833 0 15.999 7.166 15.999 15.999 0 7.062-4.583 13.062-10.937 15.187-.813.146-1.104-.354-1.104-.771 0-.521.021-2.25.021-4.396 0-1.5-.5-2.458-1.083-2.958 3.562-.396 7.312-1.75 7.312-7.896 0-1.75-.625-3.167-1.646-4.291.167-.417.708-2.042-.167-4.25-1.333-.417-4.396 1.646-4.396 1.646a15.032 15.032 0 00-8 0S8.937 6.602 7.603 7.018c-.875 2.208-.333 3.833-.167 4.25-1.021 1.125-1.646 2.542-1.646 4.291 0 6.125 3.729 7.5 7.291 7.896-.458.417-.875 1.125-1.021 2.146-.917.417-3.25 1.125-4.646-1.333-.875-1.521-2.458-1.646-2.458-1.646-1.562-.021-.104.979-.104.979 1.042.479 1.771 2.333 1.771 2.333.938 2.854 5.396 1.896 5.396 1.896 0 1.333.021 2.583.021 2.979 0 .417-.292.917-1.104.771C4.582 29.455-.001 23.455-.001 16.393-.001 7.56 7.165.394 15.998.394zM6.063 23.372c.042-.083-.021-.187-.146-.25-.125-.042-.229-.021-.271.042-.042.083.021.187.146.25.104.062.229.042.271-.042zm.646.709c.083-.062.062-.208-.042-.333-.104-.104-.25-.146-.333-.062-.083.062-.062.208.042.333.104.104.25.146.333.062zm.625.937c.104-.083.104-.25 0-.396-.083-.146-.25-.208-.354-.125-.104.062-.104.229 0 .375s.271.208.354.146zm.875.875c.083-.083.042-.271-.083-.396-.146-.146-.333-.167-.417-.062-.104.083-.062.271.083.396.146.146.333.167.417.062zm1.187.521c.042-.125-.083-.271-.271-.333-.167-.042-.354.021-.396.146s.083.271.271.312c.167.062.354 0 .396-.125zm1.313.104c0-.146-.167-.25-.354-.229-.187 0-.333.104-.333.229 0 .146.146.25.354.229.187 0 .333-.104.333-.229zm1.208-.208c-.021-.125-.187-.208-.375-.187-.187.042-.312.167-.292.312.021.125.187.208.375.167s.312-.167.292-.292z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_gitlab" xmlns="http://www.w3.org/2000/svg"><path d="M1.629 11.034L14 26.888.442 17.048a1.09 1.09 0 01-.39-1.203l1.578-4.811zm7.217 0h10.309l-5.154 15.854zM5.753 1.475l3.093 9.559H1.63l3.093-9.559a.548.548 0 011.031 0zm20.618 9.559l1.578 4.811c.141.437-.016.922-.39 1.203l-13.558 9.84 12.371-15.854zm0 0h-7.216l3.093-9.559a.548.548 0 011.031 0z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_heart" xmlns="http://www.w3.org/2000/svg"><path d="M16 29.714a1.11 1.11 0 01-.786-.321L4.072 18.643c-.143-.125-4.071-3.714-4.071-8 0-5.232 3.196-8.357 8.535-8.357 3.125 0 6.053 2.464 7.464 3.857 1.411-1.393 4.339-3.857 7.464-3.857 5.339 0 8.535 3.125 8.535 8.357 0 4.286-3.928 7.875-4.089 8.035L16.785 29.392c-.214.214-.5.321-.786.321z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_keyborad_arrow_down" xmlns="http://www.w3.org/2000/svg"><path d="M3.281 5.36L14 16.079 24.719 5.36 28 8.641l-14 14-14-14z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_keyborad_arrow_left" xmlns="http://www.w3.org/2000/svg"><path d="M25.875 28.25L22.125 32 6.126 16.001 22.125.002l3.75 3.75-12.25 12.25z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_keyborad_arrow_right" xmlns="http://www.w3.org/2000/svg"><path d="M6.125 28.25L18.375 16 6.125 3.75 9.875 0l15.999 15.999L9.875 31.998z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_link" xmlns="http://www.w3.org/2000/svg"><path d="M24.037 7.963q3.305 0 5.634 2.366T32 16t-2.329 5.671-5.634 2.366h-6.46v-3.08h6.46q2.028 0 3.493-1.465t1.465-3.493-1.465-3.493-3.493-1.465h-6.46v-3.08h6.46zM9.615 17.578v-3.155h12.77v3.155H9.615zM3.005 16q0 2.028 1.465 3.493t3.493 1.465h6.46v3.08h-6.46q-3.305 0-5.634-2.366T0 16.001t2.329-5.671 5.634-2.366h6.46v3.08h-6.46q-2.028 0-3.493 1.465t-1.465 3.493z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_menu" xmlns="http://www.w3.org/2000/svg"><path d="M.001 5.334h31.998v3.583H.001V5.334zm0 12.416v-3.5h31.998v3.5H.001zm0 8.916v-3.583h31.998v3.583H.001z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_notification" xmlns="http://www.w3.org/2000/svg"><path d="M22.615 19.384l2.894 2.894v1.413H2.49v-1.413l2.894-2.894V12.25q0-3.365 1.716-5.856t4.745-3.231v-1.01q0-.875.606-1.514T13.999 0t1.548.639.606 1.514v1.01q3.029.74 4.745 3.231t1.716 5.856v7.134zM14 27.999q-1.211 0-2.053-.808t-.841-2.019h5.788q0 1.144-.875 1.986T14 27.999z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_path" xmlns="http://www.w3.org/2000/svg"><path d="M28 12.62h-9.793V8.414h-2.826v11.173h2.826v-4.206H28V26.62h-9.793v-4.206H12.62v-14H9.794v4.206H.001V1.381h9.793v4.206h8.413V1.381H28V12.62z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_person" xmlns="http://www.w3.org/2000/svg"><path d="M16 20.023q5.052 0 10.526 2.199t5.473 5.754v4.023H0v-4.023q0-3.555 5.473-5.754t10.526-2.199zM16 16q-3.275 0-5.614-2.339T8.047 8.047t2.339-5.661T16 0t5.614 2.386 2.339 5.661-2.339 5.614T16 16z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_search" xmlns="http://www.w3.org/2000/svg"><path d="M11.925 20.161q3.432 0 5.834-2.402t2.402-5.834-2.402-5.834-5.834-2.402-5.834 2.402-2.402 5.834 2.402 5.834 5.834 2.402zm10.981 0L32 29.255 29.255 32l-9.094-9.094v-1.458l-.515-.515q-3.26 2.831-7.721 2.831-4.976 0-8.45-3.432T.001 11.925t3.474-8.45 8.45-3.474 8.407 3.474 3.432 8.45q0 1.802-.858 4.075t-1.973 3.646l.515.515h1.458z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_shield" xmlns="http://www.w3.org/2000/svg"><path d="M22.167 15.166V3.5h-8.166v20.726c.93-.492 2.424-1.349 3.883-2.497 1.95-1.531 4.284-3.919 4.284-6.562zm3.499-13.999v14c0 7.674-10.737 12.523-11.192 12.724-.146.073-.31.109-.474.109s-.328-.036-.474-.109c-.456-.201-11.192-5.049-11.192-12.724v-14C2.334.529 2.863 0 3.501 0H24.5c.638 0 1.167.529 1.167 1.167z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_tags" xmlns="http://www.w3.org/2000/svg"><path d="M6.606 7.549c0-1.047-.84-1.887-1.887-1.887s-1.887.84-1.887 1.887.84 1.887 1.887 1.887 1.887-.84 1.887-1.887zm15.732 8.493c0 .501-.206.988-.546 1.327l-7.239 7.254c-.354.339-.84.546-1.342.546s-.988-.206-1.327-.546L1.342 14.066C.59 13.329 0 11.899 0 10.852V4.718a1.9 1.9 0 011.887-1.887h6.134c1.047 0 2.477.59 3.229 1.342L21.792 14.7c.339.354.546.84.546 1.342zm5.661 0c0 .501-.206.988-.546 1.327l-7.239 7.254c-.354.339-.84.546-1.342.546-.767 0-1.15-.354-1.651-.87l6.93-6.93c.339-.339.546-.826.546-1.327s-.206-.988-.546-1.342L13.609 4.173c-.752-.752-2.182-1.342-3.229-1.342h3.303c1.047 0 2.477.59 3.229 1.342L27.454 14.7c.339.354.546.84.546 1.342z"/></symbol></svg>



    <div class="wrapper ">
        <input type="checkbox" class="hidden" id="menu-control" />
        
        <header class="gdoc-header">
    <div class="container flex align-center justify-between">
        
        <label for="menu-control" class="gdoc-nav__control">
            <svg class="icon gdoc_menu"><use xlink:href="#gdoc_menu"></use></svg>
            <svg class="icon gdoc_arrow_back"><use xlink:href="#gdoc_arrow_back"></use></svg>
        </label>
        
        <a class="gdoc-header__link" href="https://hongmao.run/jdk8-src-note/">
            <span class="gdoc-brand flex align-center">
                <img class="gdoc-brand__img" src="/jdk8-src-note/brand.svg" alt="">
                JDK8源码阅读笔记
            </span>
        </a>
        <span id="gdoc-dark-mode">
            <svg class="icon gdoc_brightness_dark"><use xlink:href="#gdoc_brightness_dark"></use></svg>
            <svg class="icon gdoc_brightness_light"><use xlink:href="#gdoc_brightness_light"></use></svg>
            <svg class="icon gdoc_brightness_auto"><use xlink:href="#gdoc_brightness_auto"></use></svg>
        </span>
    </div>
</header>


        <main class="container flex flex-even">
            
            <aside class="gdoc-nav">
                <nav>
    
    <div class="gdoc-search">
        <svg class="icon gdoc_search"><use xlink:href="#gdoc_search"></use></svg>
        <input type="text" id="gdoc-search-input" class="gdoc-search__input" placeholder="Search..."
            aria-label="Search" maxlength="64" />
        <div class="gdoc-search__spinner spinner hidden"></div>
        <ul id="gdoc-search-results" class="gdoc-search__list"></ul>
    </div>



    <section class="gdoc-nav--main">
        <h2>Navigation</h2>
        
            




<ul class="gdoc-nav__list">

    
    

    <li>
        
        
            
            
            
            
            
            
            
            
            

            
            <span class="flex">
                <svg class="icon package"><use xlink:href="#package"></use></svg>
                <a href="/jdk8-src-note/java/"
                    class="gdoc-nav__entry ">
                    java
                </a>
            </span>
            
        

        
            



<ul class="gdoc-nav__list">

    
    

    <li>
        
        
            
            
            
            
            
            
            
            
            

            
            <span class="flex">
                <svg class="icon package"><use xlink:href="#package"></use></svg>
                <a href="/jdk8-src-note/java/util/"
                    class="gdoc-nav__entry ">
                    util
                </a>
            </span>
            
        

        
            



<ul class="gdoc-nav__list">

    
    

    <li>
        
        
            
            
            
            
            
            
            
            
            

            
            <span class="flex">
                <svg class="icon abstractClass"><use xlink:href="#abstractClass"></use></svg>
                <a href="/jdk8-src-note/java/util/AbstractCollection/"
                    class="gdoc-nav__entry ">
                    AbstractCollection
                </a>
            </span>
            
        

        
    </li>


    
    

    <li>
        
        
            
            
            
            
            
            
            
            
            

            
            <span class="flex">
                <svg class="icon abstractClass"><use xlink:href="#abstractClass"></use></svg>
                <a href="/jdk8-src-note/java/util/AbstractList/"
                    class="gdoc-nav__entry ">
                    AbstractList
                </a>
            </span>
            
        

        
    </li>


    
    

    <li>
        
        
            
            
            
            
            
            
            
            
            

            
            <span class="flex">
                <svg class="icon abstractClass"><use xlink:href="#abstractClass"></use></svg>
                <a href="/jdk8-src-note/java/util/AbstractSequentialList/"
                    class="gdoc-nav__entry ">
                    AbstractSequentialList
                </a>
            </span>
            
        

        
    </li>


    
    

    <li>
        
        
            
            
            
            
            
            
            
            
            

            
            <span class="flex">
                <svg class="icon class"><use xlink:href="#class"></use></svg>
                <a href="/jdk8-src-note/java/util/ArrayList/"
                    class="gdoc-nav__entry ">
                    ArrayList
                </a>
            </span>
            
        

        
    </li>


    
    

    <li>
        
        
            
            
            
            
            
            
            
            
            

            
            <span class="flex">
                <svg class="icon interface"><use xlink:href="#interface"></use></svg>
                <a href="/jdk8-src-note/java/util/Collection/"
                    class="gdoc-nav__entry ">
                    Collection
                </a>
            </span>
            
        

        
    </li>


    
    

    <li>
        
        
            
            
            
            
            
            
            
            
            

            
            <span class="flex">
                <svg class="icon interface"><use xlink:href="#interface"></use></svg>
                <a href="/jdk8-src-note/java/util/Deque/"
                    class="gdoc-nav__entry ">
                    Deque
                </a>
            </span>
            
        

        
    </li>


    
    

    <li>
        
        
            
            
            
            
            
            
            
            
            

            
            <span class="flex">
                <svg class="icon interface"><use xlink:href="#interface"></use></svg>
                <a href="/jdk8-src-note/java/util/Iterator/"
                    class="gdoc-nav__entry ">
                    Iterator
                </a>
            </span>
            
        

        
    </li>


    
    

    <li>
        
        
            
            
            
            
            
            
            
            
            

            
            <span class="flex">
                <svg class="icon class"><use xlink:href="#class"></use></svg>
                <a href="/jdk8-src-note/java/util/LinkedList/"
                    class="gdoc-nav__entry is-active">
                    LinkedList
                </a>
            </span>
            
        

        
    </li>


    
    

    <li>
        
        
            
            
            
            
            
            
            
            
            

            
            <span class="flex">
                <svg class="icon interface"><use xlink:href="#interface"></use></svg>
                <a href="/jdk8-src-note/java/util/List/"
                    class="gdoc-nav__entry ">
                    List
                </a>
            </span>
            
        

        
    </li>


    
    

    <li>
        
        
            
            
            
            
            
            
            
            
            

            
            <span class="flex">
                <svg class="icon interface"><use xlink:href="#interface"></use></svg>
                <a href="/jdk8-src-note/java/util/ListIterator/"
                    class="gdoc-nav__entry ">
                    ListIterator
                </a>
            </span>
            
        

        
    </li>


    
    

    <li>
        
        
            
            
            
            
            
            
            
            
            

            
            <span class="flex">
                <svg class="icon interface"><use xlink:href="#interface"></use></svg>
                <a href="/jdk8-src-note/java/util/Map/"
                    class="gdoc-nav__entry ">
                    Map
                </a>
            </span>
            
        

        
    </li>


    
    

    <li>
        
        
            
            
            
            
            
            
            
            
            

            
            <span class="flex">
                <svg class="icon interface"><use xlink:href="#interface"></use></svg>
                <a href="/jdk8-src-note/java/util/Queue/"
                    class="gdoc-nav__entry ">
                    Queue
                </a>
            </span>
            
        

        
    </li>


    
    

    <li>
        
        
            
            
            
            
            
            
            
            
            

            
            <span class="flex">
                <svg class="icon interface"><use xlink:href="#interface"></use></svg>
                <a href="/jdk8-src-note/java/util/RandomAccess/"
                    class="gdoc-nav__entry ">
                    RandomAccess
                </a>
            </span>
            
        

        
    </li>


    
    

    <li>
        
        
            
            
            
            
            
            
            
            
            

            
            <span class="flex">
                <svg class="icon class"><use xlink:href="#class"></use></svg>
                <a href="/jdk8-src-note/java/util/Vector/"
                    class="gdoc-nav__entry ">
                    Vector
                </a>
            </span>
            
        

        
    </li>


</ul>

        
    </li>


</ul>

        
    </li>


</ul>





        
    </section>

    <section class="gdoc-nav--more">
        
    </section>
</nav>

            </aside>
            

            <div class="gdoc-page">
                
    


    






<div class="gdoc-page__header flex flex-wrap
     justify-between 
     hidden-mobile 
    " itemprop="breadcrumb">
    
    <div>
        <svg class="icon gdoc_path hidden-mobile"><use xlink:href="#gdoc_path"></use></svg>
        <ol class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList">
            
            
            
            
    
    
        
        
        
        
    
    
        
        
        
        
    
    
        
        
        
        
    
    
        <li itemprop='itemListElement' itemscope itemtype='https://schema.org/ListItem'><a itemscope itemtype='https://schema.org/WebPage' itemprop='item' itemid='/jdk8-src-note/' href='/jdk8-src-note/'><span itemprop='name'>JDK8源码阅读笔记</span></a><meta itemprop='position' content='2' /></li><li> / </li><li itemprop='itemListElement' itemscope itemtype='https://schema.org/ListItem'><a itemscope itemtype='https://schema.org/WebPage' itemprop='item' itemid='/jdk8-src-note/java/' href='/jdk8-src-note/java/'><span itemprop='name'>java</span></a><meta itemprop='position' content='3' /></li><li> / </li><li itemprop='itemListElement' itemscope itemtype='https://schema.org/ListItem'><a itemscope itemtype='https://schema.org/WebPage' itemprop='item' itemid='/jdk8-src-note/java/util/' href='/jdk8-src-note/java/util/'><span itemprop='name'>util</span></a><meta itemprop='position' content='4' /></li><li> / </li><li itemprop='itemListElement' itemscope itemtype='https://schema.org/ListItem'><span itemprop='name'>LinkedList</span><meta itemprop='position' content='5' /></li>
    

    

    

    

        </ol>
    </div>
    
    
</div>


    <article class="gdoc-markdown gdoc-markdown__align--left">
        <h1>LinkedList</h1>
        <hr>



  <div class="gdoc-toc gdoc-toc__level--6"><nav id="TableOfContents">
  <ul>
    <li><a href="#1-transient-int-size--0">1. transient int size = 0;</a></li>
    <li><a href="#2-transient-nodee-first">2. transient Node<!-- raw HTML omitted --> first;</a></li>
    <li><a href="#3-transient-nodee-last">3. transient Node<!-- raw HTML omitted --> last;</a></li>
    <li><a href="#4-public-linkedlist">4. public LinkedList()</a></li>
    <li><a href="#5-public-linkedlistcollection-extends-e-c">5. public LinkedList(Collection&lt;? extends E&gt; c)</a></li>
    <li><a href="#6-private-void-linkfirste-e">6. private void linkFirst(E e)</a></li>
    <li><a href="#7-void-linklaste-e">7. void linkLast(E e)</a></li>
    <li><a href="#8-void-linkbeforee-e-nodee-succ">8. void linkBefore(E e, Node<!-- raw HTML omitted --> succ)</a></li>
    <li><a href="#9-private-e-unlinkfirstnodee-f">9. private E unlinkFirst(Node<!-- raw HTML omitted --> f)</a></li>
    <li><a href="#10-private-e-unlinklastnodee-l">10. private E unlinkLast(Node<!-- raw HTML omitted --> l)</a></li>
    <li><a href="#11-e-unlinknodee-x">11. E unlink(Node<!-- raw HTML omitted --> x)</a></li>
    <li><a href="#12-public-e-getfirst">12. public E getFirst()</a></li>
    <li><a href="#13-public-e-getlast">13. public E getLast()</a></li>
    <li><a href="#14-public-e-removefirst">14. public E removeFirst()</a></li>
    <li><a href="#15-public-e-removelast">15. public E removeLast()</a></li>
    <li><a href="#16-public-void-addfirste-e">16. public void addFirst(E e)</a></li>
    <li><a href="#17-public-void-addlaste-e">17. public void addLast(E e)</a></li>
    <li><a href="#18-public-boolean-containsobject-o">18. public boolean contains(Object o)</a></li>
    <li><a href="#19-public-int-size">19. public int size()</a></li>
    <li><a href="#20-public-boolean-adde-e">20. public boolean add(E e)</a></li>
    <li><a href="#21-public-boolean-removeobject-o">21. public boolean remove(Object o)</a></li>
    <li><a href="#22-public-boolean-addallcollection-extends-e-c">22. public boolean addAll(Collection&lt;? extends E&gt; c)</a></li>
    <li><a href="#23-public-boolean-addallint-index-collection-extends-e-c">23. public boolean addAll(int index, Collection&lt;? extends E&gt; c)</a></li>
    <li><a href="#24-public-void-clear">24. public void clear()</a></li>
    <li><a href="#25-public-e-getint-index">25. public E get(int index)</a></li>
    <li><a href="#26-public-e-setint-index-e-element">26. public E set(int index, E element)</a></li>
    <li><a href="#27-public-void-addint-index-e-element">27. public void add(int index, E element)</a></li>
    <li><a href="#28-public-e-removeint-index">28. public E remove(int index)</a></li>
    <li><a href="#29-private-boolean-iselementindexint-index">29. private boolean isElementIndex(int index)</a></li>
    <li><a href="#30-private-boolean-ispositionindexint-index">30. private boolean isPositionIndex(int index)</a></li>
    <li><a href="#31-private-string-outofboundsmsgint-index">31. private String outOfBoundsMsg(int index)</a></li>
    <li><a href="#32-private-void-checkelementindexint-index">32. private void checkElementIndex(int index)</a></li>
    <li><a href="#33-private-void-checkpositionindexint-index">33. private void checkPositionIndex(int index)</a></li>
    <li><a href="#34-nodee-nodeint-index">34. Node<!-- raw HTML omitted --> node(int index)</a></li>
    <li><a href="#35-public-int-indexofobject-o">35. public int indexOf(Object o)</a></li>
    <li><a href="#36-public-int-lastindexofobject-o">36. public int lastIndexOf(Object o)</a></li>
    <li><a href="#37-public-e-peek">37. public E peek()</a></li>
    <li><a href="#38-public-e-element">38. public E element()</a></li>
    <li><a href="#39-public-e-poll">39. public E poll()</a></li>
    <li><a href="#40-public-e-remove">40. public E remove()</a></li>
    <li><a href="#41-public-boolean-offere-e">41. public boolean offer(E e)</a></li>
    <li><a href="#42-public-boolean-offerfirste-e">42. public boolean offerFirst(E e)</a></li>
    <li><a href="#43-public-boolean-offerlaste-e">43. public boolean offerLast(E e)</a></li>
    <li><a href="#44-public-e-peekfirst">44. public E peekFirst()</a></li>
    <li><a href="#45-public-e-peeklast">45. public E peekLast()</a></li>
    <li><a href="#46-public-e-pollfirst">46. public E pollFirst()</a></li>
    <li><a href="#47-public-e-polllast">47. public E pollLast()</a></li>
    <li><a href="#48-public-void-pushe-e">48. public void push(E e)</a></li>
    <li><a href="#49-public-e-pop">49. public E pop()</a></li>
    <li><a href="#50-public-boolean-removefirstoccurrenceobject-o">50. public boolean removeFirstOccurrence(Object o)</a></li>
    <li><a href="#51-public-boolean-removelastoccurrenceobject-o">51. public boolean removeLastOccurrence(Object o)</a></li>
    <li><a href="#52-public-listiteratore-listiteratorint-index">52. public ListIterator<!-- raw HTML omitted --> listIterator(int index)</a></li>
    <li><a href="#53-private-class-listitr-implements-listiteratore">53. private class ListItr implements ListIterator<!-- raw HTML omitted --></a>
      <ul>
        <li><a href="#531-private-nodee-lastreturned">53.1 private Node<!-- raw HTML omitted --> lastReturned;</a></li>
        <li><a href="#532-private-nodee-next">53.2 private Node<!-- raw HTML omitted --> next;</a></li>
        <li><a href="#533-private-int-nextindex">53.3 private int nextIndex;</a></li>
        <li><a href="#534-private-int-expectedmodcount--modcount">53.4 private int expectedModCount = modCount;</a></li>
        <li><a href="#535-listitrint-index">53.5 ListItr(int index)</a></li>
        <li><a href="#536-public-boolean-hasnext">53.6 public boolean hasNext()</a></li>
        <li><a href="#537-public-e-next">53.7 public E next()</a></li>
        <li><a href="#538-public-boolean-hasprevious">53.8 public boolean hasPrevious()</a></li>
        <li><a href="#539-public-e-previous">53.9 public E previous()</a></li>
        <li><a href="#5310-public-int-nextindex">53.10 public int nextIndex()</a></li>
        <li><a href="#5311-public-int-previousindex">53.11 public int previousIndex()</a></li>
        <li><a href="#5312-public-void-remove">53.12 public void remove()</a></li>
        <li><a href="#5313-public-void-sete-e">53.13 public void set(E e)</a></li>
        <li><a href="#5314-public-void-adde-e">53.14 public void add(E e)</a></li>
        <li><a href="#5315-public-void-foreachremainingconsumer-super-e-action">53.15 public void forEachRemaining(Consumer&lt;? super E&gt; action)</a></li>
        <li><a href="#5316-final-void-checkforcomodification">53.16 final void checkForComodification()</a></li>
      </ul>
    </li>
    <li><a href="#54-private-static-class-nodee">54. private static class Node<!-- raw HTML omitted --></a>
      <ul>
        <li><a href="#541-e-item">54.1 E item;</a></li>
        <li><a href="#542-nodee-next">54.2 Node<!-- raw HTML omitted --> next;</a></li>
        <li><a href="#543-nodee-prev">54.3 Node<!-- raw HTML omitted --> prev;</a></li>
        <li><a href="#544-nodenodee-prev-e-element-nodee-next">54.4 Node(Node<!-- raw HTML omitted --> prev, E element, Node<!-- raw HTML omitted --> next)</a></li>
      </ul>
    </li>
    <li><a href="#55-public-iteratore-descendingiterator">55. public Iterator<!-- raw HTML omitted --> descendingIterator()</a></li>
    <li><a href="#56-private-class-descendingiterator-implements-iteratore">56. private class DescendingIterator implements Iterator<!-- raw HTML omitted --></a>
      <ul>
        <li><a href="#561-private-final-listitr-itr--new-listitrsize">56.1 private final ListItr itr = new ListItr(size());</a></li>
        <li><a href="#562-public-boolean-hasnext">56.2 public boolean hasNext()</a></li>
        <li><a href="#563-public-e-next">56.3 public E next()</a></li>
        <li><a href="#564-public-void-remove">56.4 public void remove()</a></li>
      </ul>
    </li>
    <li><a href="#57-private-linkedliste-superclone">57. private LinkedList<!-- raw HTML omitted --> superClone()</a></li>
    <li><a href="#58-public-object-clone">58. public Object clone()</a></li>
    <li><a href="#59-public-object-toarray">59. public Object[] toArray()</a></li>
    <li><a href="#60-public-t-t-toarrayt-a">60. public <!-- raw HTML omitted --> T[] toArray(T[] a)</a></li>
    <li><a href="#61-private-static-final-long-serialversionuid--876323262645176354l">61. private static final long serialVersionUID = 876323262645176354L;</a></li>
    <li><a href="#62-private-void-writeobjectjavaioobjectoutputstream-s-throws-javaioioexception">62. private void writeObject(java.io.ObjectOutputStream s) throws java.io.IOException</a></li>
    <li><a href="#63-private-void-readobjectjavaioobjectinputstream-s-throws-javaioioexception-classnotfoundexception">63. private void readObject(java.io.ObjectInputStream s) throws java.io.IOException, ClassNotFoundException</a></li>
    <li><a href="#64-public-spliteratore-spliterator">64. public Spliterator<!-- raw HTML omitted --> spliterator()</a></li>
    <li><a href="#65-static-final-class-llspliteratore-implements-spliteratore">65. static final class LLSpliterator<!-- raw HTML omitted --> implements Spliterator<!-- raw HTML omitted --></a>
      <ul>
        <li><a href="#651-static-final-int-batch_unit--1--10">65.1 static final int BATCH_UNIT = 1 &laquo; 10;</a></li>
        <li><a href="#652-static-final-int-max_batch--1--25">65.2 static final int MAX_BATCH = 1 &laquo; 25;</a></li>
        <li><a href="#653-final-linkedliste-list">65.3 final LinkedList<!-- raw HTML omitted --> list;</a></li>
        <li><a href="#654-nodee-current">65.4 Node<!-- raw HTML omitted --> current;</a></li>
        <li><a href="#655-int-est">65.5 int est;</a></li>
        <li><a href="#656-int-expectedmodcount">65.6 int expectedModCount;</a></li>
        <li><a href="#656-int-batch">65.6 int batch;</a></li>
        <li><a href="#657-llspliteratorlinkedliste-list-int-est-int-expectedmodcount">65.7 LLSpliterator(LinkedList<!-- raw HTML omitted --> list, int est, int expectedModCount)</a></li>
        <li><a href="#658-final-int-getest">65.8 final int getEst()</a></li>
        <li><a href="#659-public-long-estimatesize">65.9 public long estimateSize()</a></li>
        <li><a href="#6510-public-spliteratore-trysplit">65.10 public Spliterator<!-- raw HTML omitted --> trySplit()</a></li>
        <li><a href="#6511-public-void-foreachremainingconsumer-super-e-action">65.11 public void forEachRemaining(Consumer&lt;? super E&gt; action)</a></li>
        <li><a href="#6512-public-boolean-tryadvanceconsumer-super-e-action">65.12 public boolean tryAdvance(Consumer&lt;? super E&gt; action)</a></li>
        <li><a href="#6513-public-int-characteristics">65.13 public int characteristics()</a></li>
      </ul></nav><hr></div>



<div style='text-align: center'>
    <img src='https://img.hongmao.run/blog/2021/09/LinkedList.png' width='70%' alt=''>
</div>


<hr>
<p><code>List</code>和<code>Deque</code>接口的双向链表实现。实现所有可选的列表操作，并允许所有元素（包括<code>null</code>）。</p>
<p>所有操作均按双向链表的预期执行。索引到列表中的操作将从列表的开头或结尾开始遍历列表，从开头遍历还是从结尾遍历主要看哪个更接近指定索引的位置。</p>
<p>请注意，此实现是不同步的。如果多个线程同时访问一个链表，并且至少一个线程在结构上修改了链表，则它必须在外部保证同步。（结构修改是添加或删除一个或多个元素的任何操作；仅设置元素的值不是结构修改。）通常，通过在自然封装列表的某个对象上进行同步来完成此操作。</p>
<p>如果不存在这样的对象，则应使用<code>Collections.synchronizedList</code>方法“包装”列表。最好在创建时完成此操作，以防止意外的不同步访问列表：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#000">List</span> <span style="color:#000">list</span> <span style="color:#000">=</span> <span style="color:#000">Collections</span><span style="color:#000">.</span><span style="color:#836c28">synchronizedList</span><span style="color:#000">(</span><span style="color:#a90d91">new</span> <span style="color:#000">LinkedList</span><span style="color:#000">(...));</span>
</code></pre></div><p>此类的<code>iterator</code>和<code>listIterator</code>方法返回的迭代器是“快速失败”的：如果在创建迭代器后的任何时间除了通过迭代器自己的<code>remove</code>或<code>add</code>方法之外对列表进行结构修改，则迭代器将抛出<code>ConcurrentModificationException</code>。因此，面对并发修改，迭代器会快速干净地失败，而不会在未来的不确定时间内冒任意、不确定行为的风险。</p>
<p>请注意，迭代器的快速失败行为无法得到保证，因为通常来说，在存在不同步的并发修改的情况下，不可能做出任何严格的保证。快速失败的迭代器会尽最大努力抛出<code>ConcurrentModificationException</code>。因此，编写依赖于此异常以确保其正确性的程序是错误的：迭代器的快速失败行为应仅用于检测错误。</p>
<p>该类是Java集合框架的成员。</p>
<hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="1-transient-int-size--0">
        1. transient int size = 0;
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#1-transient-int-size--0" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 1. transient int size = 0;" href="#1-transient-int-size--0">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>列表元素的数量。</p>
<hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="2-transient-nodee-first">
        2. transient Node<!-- raw HTML omitted --> first;
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#2-transient-nodee-first" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 2. transient Node first;" href="#2-transient-nodee-first">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>指向第一个结点的指针。</p>
<p>恒成立：<code>(first == null &amp;&amp; last == null) || (first.prev == null &amp;&amp; first.item != null)</code></p>
<hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="3-transient-nodee-last">
        3. transient Node<!-- raw HTML omitted --> last;
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#3-transient-nodee-last" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 3. transient Node last;" href="#3-transient-nodee-last">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>指向最后一个结点的指针。</p>
<p>恒成立：<code>(first == null &amp;&amp; last == null) || (last.next == null &amp;&amp; last.item != null)</code></p>
<hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="4-public-linkedlist">
        4. public LinkedList()
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#4-public-linkedlist" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 4. public LinkedList()" href="#4-public-linkedlist">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>构造一个空列表。</p>
<hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="5-public-linkedlistcollection-extends-e-c">
        5. public LinkedList(Collection&lt;? extends E&gt; c)
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#5-public-linkedlistcollection-extends-e-c" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 5. public LinkedList(Collection&lt;? extends E&gt; c)" href="#5-public-linkedlistcollection-extends-e-c">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>构造一个列表，该列表包含给定集合的元素，其顺序为该集合的迭代器返回顺序。</p>
<p>先调用无参构造函数，再调用 <code>addAll</code> 将参数中指定集合的元素添加进当前链表。</p>
<hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="6-private-void-linkfirste-e">
        6. private void linkFirst(E e)
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#6-private-void-linkfirste-e" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 6. private void linkFirst(E e)" href="#6-private-void-linkfirste-e">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>将参数中给定的元素 <code>e</code> 作为当前链表的第一个元素。</p>
<p>操作方法如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">private</span> <span style="color:#a90d91">void</span> <span style="color:#000">linkFirst</span><span style="color:#000">(</span><span style="color:#000">E</span> <span style="color:#000">e</span><span style="color:#000">)</span> <span style="color:#000">{</span>
		<span style="color:#177500">// 取出链表的第一结点
</span><span style="color:#177500"></span>    <span style="color:#a90d91">final</span> <span style="color:#000">Node</span><span style="color:#000">&lt;</span><span style="color:#000">E</span><span style="color:#000">&gt;</span> <span style="color:#000">f</span> <span style="color:#000">=</span> <span style="color:#000">first</span><span style="color:#000">;</span>
		<span style="color:#177500">// 构造一个新的结点，该新结点的前驱结点为null、持有元素为e、后继结点为原第一结点
</span><span style="color:#177500"></span>    <span style="color:#a90d91">final</span> <span style="color:#000">Node</span><span style="color:#000">&lt;</span><span style="color:#000">E</span><span style="color:#000">&gt;</span> <span style="color:#000">newNode</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">Node</span><span style="color:#000">&lt;&gt;(</span><span style="color:#a90d91">null</span><span style="color:#000">,</span> <span style="color:#000">e</span><span style="color:#000">,</span> <span style="color:#000">f</span><span style="color:#000">);</span>
		<span style="color:#177500">// 设置新结点为第一结点
</span><span style="color:#177500"></span>    <span style="color:#000">first</span> <span style="color:#000">=</span> <span style="color:#000">newNode</span><span style="color:#000">;</span>
    <span style="color:#a90d91">if</span> <span style="color:#000">(</span><span style="color:#000">f</span> <span style="color:#000">==</span> <span style="color:#a90d91">null</span><span style="color:#000">)</span>
				<span style="color:#177500">// 原第一结点为空，也即原链表是空的，并无结点，此时也设置当前列表的最后结点为上述新结点
</span><span style="color:#177500"></span>        <span style="color:#000">last</span> <span style="color:#000">=</span> <span style="color:#000">newNode</span><span style="color:#000">;</span>
    <span style="color:#a90d91">else</span>
				<span style="color:#177500">// 原第一结点不为空，说明原链表非空，此时需调整原第一结点的前驱结点为上述结点
</span><span style="color:#177500"></span>        <span style="color:#000">f</span><span style="color:#000">.</span><span style="color:#836c28">prev</span> <span style="color:#000">=</span> <span style="color:#000">newNode</span><span style="color:#000">;</span>
    <span style="color:#000">size</span><span style="color:#000">++;</span>
    <span style="color:#000">modCount</span><span style="color:#000">++;</span>
<span style="color:#000">}</span>
</code></pre></div><hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="7-void-linklaste-e">
        7. void linkLast(E e)
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#7-void-linklaste-e" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 7. void linkLast(E e)" href="#7-void-linklaste-e">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>将参数中给定的元素 <code>e</code> 作为当前链表的最后一个元素。</p>
<p>操作方法与 <code>linkFirst</code> 类似，只不过该方法是在链表的尾部进行操作。</p>
<hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="8-void-linkbeforee-e-nodee-succ">
        8. void linkBefore(E e, Node<!-- raw HTML omitted --> succ)
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#8-void-linkbeforee-e-nodee-succ" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 8. void linkBefore(E e, Node succ)" href="#8-void-linkbeforee-e-nodee-succ">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>在非<code>null</code>结点<code>succ</code>之前插入元素<code>e</code>。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">void</span> <span style="color:#000">linkBefore</span><span style="color:#000">(</span><span style="color:#000">E</span> <span style="color:#000">e</span><span style="color:#000">,</span> <span style="color:#000">Node</span><span style="color:#000">&lt;</span><span style="color:#000">E</span><span style="color:#000">&gt;</span> <span style="color:#000">succ</span><span style="color:#000">)</span> <span style="color:#000">{</span>
		<span style="color:#177500">// 此处未对succ进行判空，但要求其必须非空，否则会抛出NPE
</span><span style="color:#177500"></span>    <span style="color:#177500">// assert succ != null;
</span><span style="color:#177500"></span>		<span style="color:#177500">// 取出给定结点的前驱结点
</span><span style="color:#177500"></span>    <span style="color:#a90d91">final</span> <span style="color:#000">Node</span><span style="color:#000">&lt;</span><span style="color:#000">E</span><span style="color:#000">&gt;</span> <span style="color:#000">pred</span> <span style="color:#000">=</span> <span style="color:#000">succ</span><span style="color:#000">.</span><span style="color:#836c28">prev</span><span style="color:#000">;</span>
		<span style="color:#177500">// 构造一个新结点，以达成在给定结点与给定结点的前驱结点之间，将给定元素插入
</span><span style="color:#177500"></span>		<span style="color:#177500">// 该新结点的前驱结点为参数中给定结点的前驱结点
</span><span style="color:#177500"></span>		<span style="color:#177500">// 该新结点持有的元素为参数中给定的元素
</span><span style="color:#177500"></span>		<span style="color:#177500">// 该新结点的后继结点为参数中给定的结点
</span><span style="color:#177500"></span>    <span style="color:#a90d91">final</span> <span style="color:#000">Node</span><span style="color:#000">&lt;</span><span style="color:#000">E</span><span style="color:#000">&gt;</span> <span style="color:#000">newNode</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">Node</span><span style="color:#000">&lt;&gt;(</span><span style="color:#000">pred</span><span style="color:#000">,</span> <span style="color:#000">e</span><span style="color:#000">,</span> <span style="color:#000">succ</span><span style="color:#000">);</span>
		<span style="color:#177500">// 将该新结点设置为给定结点的前驱结点
</span><span style="color:#177500"></span>    <span style="color:#000">succ</span><span style="color:#000">.</span><span style="color:#836c28">prev</span> <span style="color:#000">=</span> <span style="color:#000">newNode</span><span style="color:#000">;</span>
    <span style="color:#a90d91">if</span> <span style="color:#000">(</span><span style="color:#000">pred</span> <span style="color:#000">==</span> <span style="color:#a90d91">null</span><span style="color:#000">)</span>
				<span style="color:#177500">// 如果给定结点的前驱结点为空，也即给定结点就是当前链表的第一结点，则设置链表的第一结点为该新结点
</span><span style="color:#177500"></span>        <span style="color:#000">first</span> <span style="color:#000">=</span> <span style="color:#000">newNode</span><span style="color:#000">;</span>
    <span style="color:#a90d91">else</span>
				<span style="color:#177500">// 如果给定结点的前驱结点不为空，则需要设置该前驱结点的后继结点为该新结点
</span><span style="color:#177500"></span>        <span style="color:#000">pred</span><span style="color:#000">.</span><span style="color:#836c28">next</span> <span style="color:#000">=</span> <span style="color:#000">newNode</span><span style="color:#000">;</span>
    <span style="color:#000">size</span><span style="color:#000">++;</span>
    <span style="color:#000">modCount</span><span style="color:#000">++;</span>
<span style="color:#000">}</span>
</code></pre></div><hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="9-private-e-unlinkfirstnodee-f">
        9. private E unlinkFirst(Node<!-- raw HTML omitted --> f)
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#9-private-e-unlinkfirstnodee-f" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 9. private E unlinkFirst(Node f)" href="#9-private-e-unlinkfirstnodee-f">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>取消到非空的第一结点<code>f</code>的链接。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">private</span> <span style="color:#000">E</span> <span style="color:#000">unlinkFirst</span><span style="color:#000">(</span><span style="color:#000">Node</span><span style="color:#000">&lt;</span><span style="color:#000">E</span><span style="color:#000">&gt;</span> <span style="color:#000">f</span><span style="color:#000">)</span> <span style="color:#000">{</span>
		<span style="color:#177500">// 给定的结点f需要是头结点并且不为空
</span><span style="color:#177500"></span>    <span style="color:#177500">// assert f == first &amp;&amp; f != null;
</span><span style="color:#177500"></span>		<span style="color:#177500">// 取出给定结点所持有的元素
</span><span style="color:#177500"></span>    <span style="color:#a90d91">final</span> <span style="color:#000">E</span> <span style="color:#000">element</span> <span style="color:#000">=</span> <span style="color:#000">f</span><span style="color:#000">.</span><span style="color:#836c28">item</span><span style="color:#000">;</span>
		<span style="color:#177500">// 取出给定结点的后继结点
</span><span style="color:#177500"></span>    <span style="color:#a90d91">final</span> <span style="color:#000">Node</span><span style="color:#000">&lt;</span><span style="color:#000">E</span><span style="color:#000">&gt;</span> <span style="color:#000">next</span> <span style="color:#000">=</span> <span style="color:#000">f</span><span style="color:#000">.</span><span style="color:#836c28">next</span><span style="color:#000">;</span>
		<span style="color:#177500">// 将给定结点所持有的元素置为空
</span><span style="color:#177500"></span>    <span style="color:#000">f</span><span style="color:#000">.</span><span style="color:#836c28">item</span> <span style="color:#000">=</span> <span style="color:#a90d91">null</span><span style="color:#000">;</span>
		<span style="color:#177500">// 将给定结点的后继结点置为null，帮助垃圾回收
</span><span style="color:#177500"></span>    <span style="color:#000">f</span><span style="color:#000">.</span><span style="color:#836c28">next</span> <span style="color:#000">=</span> <span style="color:#a90d91">null</span><span style="color:#000">;</span> <span style="color:#177500">// help GC
</span><span style="color:#177500"></span>		<span style="color:#177500">// 将上述取出的给定结点的后继结点设置为当前列表的头结点
</span><span style="color:#177500"></span>    <span style="color:#000">first</span> <span style="color:#000">=</span> <span style="color:#000">next</span><span style="color:#000">;</span>
    <span style="color:#a90d91">if</span> <span style="color:#000">(</span><span style="color:#000">next</span> <span style="color:#000">==</span> <span style="color:#a90d91">null</span><span style="color:#000">)</span>
				<span style="color:#177500">// 如果给定结点的后继结点为空，也即原链表仅一个结点，此时将链表的最后结点设置为null
</span><span style="color:#177500"></span>        <span style="color:#000">last</span> <span style="color:#000">=</span> <span style="color:#a90d91">null</span><span style="color:#000">;</span>
    <span style="color:#a90d91">else</span>
				<span style="color:#177500">// 如果给定结点的后继结点不为空，此时将该后继结点的前驱结点置为null，因为该后继结点已经成为链表的头结点了
</span><span style="color:#177500"></span>        <span style="color:#000">next</span><span style="color:#000">.</span><span style="color:#836c28">prev</span> <span style="color:#000">=</span> <span style="color:#a90d91">null</span><span style="color:#000">;</span>
    <span style="color:#000">size</span><span style="color:#000">--;</span>
    <span style="color:#000">modCount</span><span style="color:#000">++;</span>
    <span style="color:#a90d91">return</span> <span style="color:#000">element</span><span style="color:#000">;</span>
<span style="color:#000">}</span>
</code></pre></div><hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="10-private-e-unlinklastnodee-l">
        10. private E unlinkLast(Node<!-- raw HTML omitted --> l)
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#10-private-e-unlinklastnodee-l" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 10. private E unlinkLast(Node l)" href="#10-private-e-unlinklastnodee-l">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>取消到非空的尾结点<code>l</code>的链接。</p>
<p>该方法与<code>unlinkFirst</code>类似，只不过在链表的尾部进行操作。</p>
<hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="11-e-unlinknodee-x">
        11. E unlink(Node<!-- raw HTML omitted --> x)
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#11-e-unlinknodee-x" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 11. E unlink(Node x)" href="#11-e-unlinknodee-x">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>取消到非<code>null</code>结点<code>x</code>链接。</p>
<p>本方法主要用于在链表中拆掉某个结点，其本质就是改变链表中该结点及其前驱和后继结点的关系，源码如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#000">E</span> <span style="color:#000">unlink</span><span style="color:#000">(</span><span style="color:#000">Node</span><span style="color:#000">&lt;</span><span style="color:#000">E</span><span style="color:#000">&gt;</span> <span style="color:#000">x</span><span style="color:#000">)</span> <span style="color:#000">{</span>
		<span style="color:#177500">// 结点x不可为空，否则会抛出NPE
</span><span style="color:#177500"></span>    <span style="color:#177500">// assert x != null;
</span><span style="color:#177500"></span>		<span style="color:#177500">// 取出结点x所持有的元素
</span><span style="color:#177500"></span>    <span style="color:#a90d91">final</span> <span style="color:#000">E</span> <span style="color:#000">element</span> <span style="color:#000">=</span> <span style="color:#000">x</span><span style="color:#000">.</span><span style="color:#836c28">item</span><span style="color:#000">;</span>
		<span style="color:#177500">// 取出结点x的后继结点
</span><span style="color:#177500"></span>    <span style="color:#a90d91">final</span> <span style="color:#000">Node</span><span style="color:#000">&lt;</span><span style="color:#000">E</span><span style="color:#000">&gt;</span> <span style="color:#000">next</span> <span style="color:#000">=</span> <span style="color:#000">x</span><span style="color:#000">.</span><span style="color:#836c28">next</span><span style="color:#000">;</span>
		<span style="color:#177500">// 取出结点x的前驱结点
</span><span style="color:#177500"></span>    <span style="color:#a90d91">final</span> <span style="color:#000">Node</span><span style="color:#000">&lt;</span><span style="color:#000">E</span><span style="color:#000">&gt;</span> <span style="color:#000">prev</span> <span style="color:#000">=</span> <span style="color:#000">x</span><span style="color:#000">.</span><span style="color:#836c28">prev</span><span style="color:#000">;</span>

		<span style="color:#177500">// 修改前驱关系
</span><span style="color:#177500"></span>    <span style="color:#a90d91">if</span> <span style="color:#000">(</span><span style="color:#000">prev</span> <span style="color:#000">==</span> <span style="color:#a90d91">null</span><span style="color:#000">)</span> <span style="color:#000">{</span>
				<span style="color:#177500">// 前驱结点为空，说明给定的结点x是链表的头结点
</span><span style="color:#177500"></span>				<span style="color:#177500">// 此时将头结点设置给结点x的后继结点，这样就相当于从链表中拆掉了结点x
</span><span style="color:#177500"></span>        <span style="color:#000">first</span> <span style="color:#000">=</span> <span style="color:#000">next</span><span style="color:#000">;</span>
    <span style="color:#000">}</span> <span style="color:#a90d91">else</span> <span style="color:#000">{</span>
				<span style="color:#177500">// 前驱结点不为空，说明给定的结点x并非链表的头结点
</span><span style="color:#177500"></span>				<span style="color:#177500">// 此时将此前驱结点的后继结点设置为结点x的后继结点
</span><span style="color:#177500"></span>        <span style="color:#000">prev</span><span style="color:#000">.</span><span style="color:#836c28">next</span> <span style="color:#000">=</span> <span style="color:#000">next</span><span style="color:#000">;</span>
				<span style="color:#177500">// 同时将结点x的前驱结点设置为空
</span><span style="color:#177500"></span>        <span style="color:#000">x</span><span style="color:#000">.</span><span style="color:#836c28">prev</span> <span style="color:#000">=</span> <span style="color:#a90d91">null</span><span style="color:#000">;</span>
    <span style="color:#000">}</span>

		<span style="color:#177500">// 修改后继关系
</span><span style="color:#177500"></span>    <span style="color:#a90d91">if</span> <span style="color:#000">(</span><span style="color:#000">next</span> <span style="color:#000">==</span> <span style="color:#a90d91">null</span><span style="color:#000">)</span> <span style="color:#000">{</span>
				<span style="color:#177500">// 后继结点为空，说明给定的结点x是链表的尾结点
</span><span style="color:#177500"></span>				<span style="color:#177500">// 此时将链表的最后结点设置为结点x的前驱结点，相当于从链表中拆掉了结点x
</span><span style="color:#177500"></span>        <span style="color:#000">last</span> <span style="color:#000">=</span> <span style="color:#000">prev</span><span style="color:#000">;</span>
    <span style="color:#000">}</span> <span style="color:#a90d91">else</span> <span style="color:#000">{</span>
				<span style="color:#177500">// 后继结点不为空，说明给定结点x并非链表的尾结点
</span><span style="color:#177500"></span>				<span style="color:#177500">// 此时，将结点x的后继结点的前驱结点设置为结点x的前驱结点
</span><span style="color:#177500"></span>        <span style="color:#000">next</span><span style="color:#000">.</span><span style="color:#836c28">prev</span> <span style="color:#000">=</span> <span style="color:#000">prev</span><span style="color:#000">;</span>
				<span style="color:#177500">// 同时将结点x的后继结点置为空
</span><span style="color:#177500"></span>        <span style="color:#000">x</span><span style="color:#000">.</span><span style="color:#836c28">next</span> <span style="color:#000">=</span> <span style="color:#a90d91">null</span><span style="color:#000">;</span>
    <span style="color:#000">}</span>

    <span style="color:#000">x</span><span style="color:#000">.</span><span style="color:#836c28">item</span> <span style="color:#000">=</span> <span style="color:#a90d91">null</span><span style="color:#000">;</span>
    <span style="color:#000">size</span><span style="color:#000">--;</span>
    <span style="color:#000">modCount</span><span style="color:#000">++;</span>
    <span style="color:#a90d91">return</span> <span style="color:#000">element</span><span style="color:#000">;</span>
<span style="color:#000">}</span>
</code></pre></div><hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="12-public-e-getfirst">
        12. public E getFirst()
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#12-public-e-getfirst" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 12. public E getFirst()" href="#12-public-e-getfirst">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>返回此列表中的第一个元素。</p>
<p>直接获取该链表的头结点 <code>first</code> ，如果该结点为空，则抛出 <code>NoSuchElementException</code> ，否则返回该结点所持有的元素。</p>
<hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="13-public-e-getlast">
        13. public E getLast()
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#13-public-e-getlast" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 13. public E getLast()" href="#13-public-e-getlast">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>返回此列表中的最后一个元素。</p>
<p>与 <code>getFirst()</code> 方法类似，只不过操作的是尾结点。</p>
<hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="14-public-e-removefirst">
        14. public E removeFirst()
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#14-public-e-removefirst" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 14. public E removeFirst()" href="#14-public-e-removefirst">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>从此列表中删除并返回第一个元素。</p>
<p>该方法首先获取该链表的头结点 <code>first</code> ，如果该结点为空，则抛出 <code>NoSuchElementException</code> ，否则调用 <code>unlinkFirst</code> 方法拆除当前链表的头结点，该拆除方法将返回头结点所持有的元素，然后也作为本方法的返回值返回。</p>
<hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="15-public-e-removelast">
        15. public E removeLast()
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#15-public-e-removelast" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 15. public E removeLast()" href="#15-public-e-removelast">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>从此列表中删除并返回最后一个元素。</p>
<p>该方法与 <code>removeLast</code> 方法类似，只不过操作的是尾结点，调用的拆除方法是 <code>unlinkLast</code> 。</p>
<hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="16-public-void-addfirste-e">
        16. public void addFirst(E e)
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#16-public-void-addfirste-e" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 16. public void addFirst(E e)" href="#16-public-void-addfirste-e">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>将给定的元素插入到此列表的开头。</p>
<p>该方法直接调用 <code>linkFirst</code> 方法。</p>
<hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="17-public-void-addlaste-e">
        17. public void addLast(E e)
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#17-public-void-addlaste-e" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 17. public void addLast(E e)" href="#17-public-void-addlaste-e">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>将给定的元素追加到此列表的末尾。</p>
<p>该方法直接调用 <code>linkLast</code> 方法。</p>
<hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="18-public-boolean-containsobject-o">
        18. public boolean contains(Object o)
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#18-public-boolean-containsobject-o" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 18. public boolean contains(Object o)" href="#18-public-boolean-containsobject-o">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>如果当前列表包含给定的元素 <code>o</code> 则返回 <code>true</code> 。更准确的说，当且仅当当前列表包含至少一个元素 <code>o</code> 满足 <code>(o==null ? e==null : o.equals(e))</code> 时返回 <code>true</code> 。</p>
<p>该方法的主要逻辑是：通过 <code>indexOf</code> 方法判断得到的返回值是否为 <code>-1</code> ，如果为 <code>-1</code> 则说明不包含该元素。</p>
<hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="19-public-int-size">
        19. public int size()
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#19-public-int-size" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 19. public int size()" href="#19-public-int-size">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>返回此列表中的元素数。也就是返回当前列表的属性 <code>size</code> 。</p>
<hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="20-public-boolean-adde-e">
        20. public boolean add(E e)
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#20-public-boolean-adde-e" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 20. public boolean add(E e)" href="#20-public-boolean-adde-e">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>将指定的元素追加到此列表的末尾。</p>
<p>直接调用 <code>linkLast</code> 方法，然后返回 <code>true</code> 。</p>
<hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="21-public-boolean-removeobject-o">
        21. public boolean remove(Object o)
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#21-public-boolean-removeobject-o" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 21. public boolean remove(Object o)" href="#21-public-boolean-removeobject-o">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>如果列表中存在指定元素，则从该列表中删除该元素的第一次出现。如果此列表不包含该元素，则它保持不变。更准确地说，删除满足 <code>(o==null ? get(i)==null : o.equals(get(i)))</code> 的最小索引 <code>i</code> 位置的元素（如果存在的话）。如果此列表包含指定的元素（或者等效地，如果此列表由于当前方法被调用而更改），则返回<code>true</code>。</p>
<p>该方法的源码如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">public</span> <span style="color:#a90d91">boolean</span> <span style="color:#000">remove</span><span style="color:#000">(</span><span style="color:#000">Object</span> <span style="color:#000">o</span><span style="color:#000">)</span> <span style="color:#000">{</span>
    <span style="color:#a90d91">if</span> <span style="color:#000">(</span><span style="color:#000">o</span> <span style="color:#000">==</span> <span style="color:#a90d91">null</span><span style="color:#000">)</span> <span style="color:#000">{</span>
				<span style="color:#177500">// 当给定元素为null时，从头开始遍历链表，找到第一个元素为null的结点，然后调用unlink方法将其从链表中拆除
</span><span style="color:#177500"></span>        <span style="color:#a90d91">for</span> <span style="color:#000">(</span><span style="color:#000">Node</span><span style="color:#000">&lt;</span><span style="color:#000">E</span><span style="color:#000">&gt;</span> <span style="color:#000">x</span> <span style="color:#000">=</span> <span style="color:#000">first</span><span style="color:#000">;</span> <span style="color:#000">x</span> <span style="color:#000">!=</span> <span style="color:#a90d91">null</span><span style="color:#000">;</span> <span style="color:#000">x</span> <span style="color:#000">=</span> <span style="color:#000">x</span><span style="color:#000">.</span><span style="color:#836c28">next</span><span style="color:#000">)</span> <span style="color:#000">{</span>
            <span style="color:#a90d91">if</span> <span style="color:#000">(</span><span style="color:#000">x</span><span style="color:#000">.</span><span style="color:#836c28">item</span> <span style="color:#000">==</span> <span style="color:#a90d91">null</span><span style="color:#000">)</span> <span style="color:#000">{</span>
                <span style="color:#000">unlink</span><span style="color:#000">(</span><span style="color:#000">x</span><span style="color:#000">);</span>
                <span style="color:#a90d91">return</span> <span style="color:#a90d91">true</span><span style="color:#000">;</span>
            <span style="color:#000">}</span>
        <span style="color:#000">}</span>
    <span style="color:#000">}</span> <span style="color:#a90d91">else</span> <span style="color:#000">{</span>
				<span style="color:#177500">// 给定元素不为null时，从头开始遍历链表，找到第一个元素与给定元素equals的结点，调用unlink将其拆除
</span><span style="color:#177500"></span>        <span style="color:#a90d91">for</span> <span style="color:#000">(</span><span style="color:#000">Node</span><span style="color:#000">&lt;</span><span style="color:#000">E</span><span style="color:#000">&gt;</span> <span style="color:#000">x</span> <span style="color:#000">=</span> <span style="color:#000">first</span><span style="color:#000">;</span> <span style="color:#000">x</span> <span style="color:#000">!=</span> <span style="color:#a90d91">null</span><span style="color:#000">;</span> <span style="color:#000">x</span> <span style="color:#000">=</span> <span style="color:#000">x</span><span style="color:#000">.</span><span style="color:#836c28">next</span><span style="color:#000">)</span> <span style="color:#000">{</span>
            <span style="color:#a90d91">if</span> <span style="color:#000">(</span><span style="color:#000">o</span><span style="color:#000">.</span><span style="color:#836c28">equals</span><span style="color:#000">(</span><span style="color:#000">x</span><span style="color:#000">.</span><span style="color:#836c28">item</span><span style="color:#000">))</span> <span style="color:#000">{</span>
                <span style="color:#000">unlink</span><span style="color:#000">(</span><span style="color:#000">x</span><span style="color:#000">);</span>
                <span style="color:#a90d91">return</span> <span style="color:#a90d91">true</span><span style="color:#000">;</span>
            <span style="color:#000">}</span>
        <span style="color:#000">}</span>
    <span style="color:#000">}</span>
		<span style="color:#177500">// 未找到给定元素，返回false
</span><span style="color:#177500"></span>    <span style="color:#a90d91">return</span> <span style="color:#a90d91">false</span><span style="color:#000">;</span>
<span style="color:#000">}</span>
</code></pre></div><hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="22-public-boolean-addallcollection-extends-e-c">
        22. public boolean addAll(Collection&lt;? extends E&gt; c)
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#22-public-boolean-addallcollection-extends-e-c" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 22. public boolean addAll(Collection&lt;? extends E&gt; c)" href="#22-public-boolean-addallcollection-extends-e-c">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>按照给定集合的迭代器返回的顺序，将给定集合中的所有元素追加到此列表的末尾。如果在操作进行过程中修改了给定的集合，则此操作的行为是不确定的。 （请注意，如果给定的集合是此列表，并且是非空的，则将发生这种情况。）</p>
<p>该方法的源码如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">public</span> <span style="color:#a90d91">boolean</span> <span style="color:#000">addAll</span><span style="color:#000">(</span><span style="color:#000">Collection</span><span style="color:#000">&lt;?</span> <span style="color:#a90d91">extends</span> <span style="color:#000">E</span><span style="color:#000">&gt;</span> <span style="color:#000">c</span><span style="color:#000">)</span> <span style="color:#000">{</span>
		<span style="color:#177500">// 调用可指定插入位置的addAll方法，指定的位置为列表的末尾
</span><span style="color:#177500"></span>		<span style="color:#177500">// 这也意味着，默认的addAll是将给定集合的元素拼接到链表的结尾的，除非用户指定插入位置
</span><span style="color:#177500"></span>    <span style="color:#a90d91">return</span> <span style="color:#000">addAll</span><span style="color:#000">(</span><span style="color:#000">size</span><span style="color:#000">,</span> <span style="color:#000">c</span><span style="color:#000">);</span>
<span style="color:#000">}</span>
</code></pre></div><hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="23-public-boolean-addallint-index-collection-extends-e-c">
        23. public boolean addAll(int index, Collection&lt;? extends E&gt; c)
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#23-public-boolean-addallint-index-collection-extends-e-c" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 23. public boolean addAll(int index, Collection&lt;? extends E&gt; c)" href="#23-public-boolean-addallint-index-collection-extends-e-c">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>从指定位置开始，将指定集合中的所有元素插入此列表。将当前在该位置的元素（如果有）和任何后续元素右移（增加其索引）。新元素将按指定集合的迭代器返回的顺序出现在列表中。</p>
<p>源码如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">public</span> <span style="color:#a90d91">boolean</span> <span style="color:#000">addAll</span><span style="color:#000">(</span><span style="color:#a90d91">int</span> <span style="color:#000">index</span><span style="color:#000">,</span> <span style="color:#000">Collection</span><span style="color:#000">&lt;?</span> <span style="color:#a90d91">extends</span> <span style="color:#000">E</span><span style="color:#000">&gt;</span> <span style="color:#000">c</span><span style="color:#000">)</span> <span style="color:#000">{</span>
		<span style="color:#177500">// 判断给定的索引位置是否合理，需要大于等于0并小于等于size
</span><span style="color:#177500"></span>    <span style="color:#000">checkPositionIndex</span><span style="color:#000">(</span><span style="color:#000">index</span><span style="color:#000">);</span>

		<span style="color:#177500">// 将指定的集合转化为数组
</span><span style="color:#177500"></span>    <span style="color:#000">Object</span><span style="color:#000">[]</span> <span style="color:#000">a</span> <span style="color:#000">=</span> <span style="color:#000">c</span><span style="color:#000">.</span><span style="color:#836c28">toArray</span><span style="color:#000">();</span>
    <span style="color:#a90d91">int</span> <span style="color:#000">numNew</span> <span style="color:#000">=</span> <span style="color:#000">a</span><span style="color:#000">.</span><span style="color:#836c28">length</span><span style="color:#000">;</span>
		<span style="color:#177500">// 如果数组长度为0，也即指定的集合为空集合，此时返回false
</span><span style="color:#177500"></span>    <span style="color:#a90d91">if</span> <span style="color:#000">(</span><span style="color:#000">numNew</span> <span style="color:#000">==</span> <span style="color:#000">0</span><span style="color:#000">)</span>
        <span style="color:#a90d91">return</span> <span style="color:#a90d91">false</span><span style="color:#000">;</span>

		<span style="color:#177500">// 定义两个结点，一个前驱结点、一个后继结点，这一步主要是找到将指定集合中元素编入链表的位置
</span><span style="color:#177500"></span>		<span style="color:#177500">// 指定集合的所有元素将放置在该前驱结点和后继结点之间
</span><span style="color:#177500"></span>    <span style="color:#000">Node</span><span style="color:#000">&lt;</span><span style="color:#000">E</span><span style="color:#000">&gt;</span> <span style="color:#000">pred</span><span style="color:#000">,</span> <span style="color:#000">succ</span><span style="color:#000">;</span>
    <span style="color:#a90d91">if</span> <span style="color:#000">(</span><span style="color:#000">index</span> <span style="color:#000">==</span> <span style="color:#000">size</span><span style="color:#000">)</span> <span style="color:#000">{</span>
				<span style="color:#177500">// index等于size，也就意味着此次是将指定集合的元素插入到列表的末尾
</span><span style="color:#177500"></span>				<span style="color:#177500">// 后继结点置空，
</span><span style="color:#177500"></span>        <span style="color:#000">succ</span> <span style="color:#000">=</span> <span style="color:#a90d91">null</span><span style="color:#000">;</span>
				<span style="color:#177500">// 前驱结点置为当前链表的尾结点
</span><span style="color:#177500"></span>        <span style="color:#000">pred</span> <span style="color:#000">=</span> <span style="color:#000">last</span><span style="color:#000">;</span>
    <span style="color:#000">}</span> <span style="color:#a90d91">else</span> <span style="color:#000">{</span>
				<span style="color:#177500">// 取出指定索引位置index处的结点作为后继结点
</span><span style="color:#177500"></span>        <span style="color:#000">succ</span> <span style="color:#000">=</span> <span style="color:#000">node</span><span style="color:#000">(</span><span style="color:#000">index</span><span style="color:#000">);</span>
				<span style="color:#177500">// 取出指定索引位置index处的前驱结点作为前驱结点
</span><span style="color:#177500"></span>        <span style="color:#000">pred</span> <span style="color:#000">=</span> <span style="color:#000">succ</span><span style="color:#000">.</span><span style="color:#836c28">prev</span><span style="color:#000">;</span>
    <span style="color:#000">}</span>

		<span style="color:#177500">// 遍历指定的集合所转化的数组a，将其中的元素逐个编入链表
</span><span style="color:#177500"></span>    <span style="color:#a90d91">for</span> <span style="color:#000">(</span><span style="color:#000">Object</span> <span style="color:#000">o</span> <span style="color:#000">:</span> <span style="color:#000">a</span><span style="color:#000">)</span> <span style="color:#000">{</span>
				<span style="color:#177500">// 将数组a中的元素强转为当前列表所持有的类型
</span><span style="color:#177500"></span>        <span style="color:#000">@SuppressWarnings</span><span style="color:#000">(</span><span style="color:#c41a16">&#34;unchecked&#34;</span><span style="color:#000">)</span> <span style="color:#000">E</span> <span style="color:#000">e</span> <span style="color:#000">=</span> <span style="color:#000">(</span><span style="color:#000">E</span><span style="color:#000">)</span> <span style="color:#000">o</span><span style="color:#000">;</span>
				<span style="color:#177500">// 创建一个新结点，持有当前遍历到的元素
</span><span style="color:#177500"></span>        <span style="color:#000">Node</span><span style="color:#000">&lt;</span><span style="color:#000">E</span><span style="color:#000">&gt;</span> <span style="color:#000">newNode</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">Node</span><span style="color:#000">&lt;&gt;(</span><span style="color:#000">pred</span><span style="color:#000">,</span> <span style="color:#000">e</span><span style="color:#000">,</span> <span style="color:#a90d91">null</span><span style="color:#000">);</span>
        <span style="color:#a90d91">if</span> <span style="color:#000">(</span><span style="color:#000">pred</span> <span style="color:#000">==</span> <span style="color:#a90d91">null</span><span style="color:#000">)</span>
						<span style="color:#177500">// 如果前驱结点为null，说明是当前结点是头结点
</span><span style="color:#177500"></span>            <span style="color:#000">first</span> <span style="color:#000">=</span> <span style="color:#000">newNode</span><span style="color:#000">;</span>
        <span style="color:#a90d91">else</span>
						<span style="color:#177500">// 前驱结点不为null，则设置该前驱结点的后继结点为当前结点，从而实现将当前结点编入链表中
</span><span style="color:#177500"></span>            <span style="color:#000">pred</span><span style="color:#000">.</span><span style="color:#836c28">next</span> <span style="color:#000">=</span> <span style="color:#000">newNode</span><span style="color:#000">;</span>
				<span style="color:#177500">// 设置前驱结点变量为当前结点，作为下一个结点的前驱结点
</span><span style="color:#177500"></span>        <span style="color:#000">pred</span> <span style="color:#000">=</span> <span style="color:#000">newNode</span><span style="color:#000">;</span>
    <span style="color:#000">}</span>

		<span style="color:#177500">// 这一步主要是将原链表指定索引位置index以后的结点挂在指定集合最后一个元素所在结点的后面
</span><span style="color:#177500"></span>    <span style="color:#a90d91">if</span> <span style="color:#000">(</span><span style="color:#000">succ</span> <span style="color:#000">==</span> <span style="color:#a90d91">null</span><span style="color:#000">)</span> <span style="color:#000">{</span>
				<span style="color:#177500">// 后继结点为空，说明指定集合的元素是拼接到链表尾部的，则设置链表的尾部为当前结点（即指定结合最后元素所在的结点）
</span><span style="color:#177500"></span>        <span style="color:#000">last</span> <span style="color:#000">=</span> <span style="color:#000">pred</span><span style="color:#000">;</span>
    <span style="color:#000">}</span> <span style="color:#a90d91">else</span> <span style="color:#000">{</span>
				<span style="color:#177500">// 后继结点不为空，则设置当前结点（即指定结合最后元素所在的结点）的后继结点为该后继结点
</span><span style="color:#177500"></span>        <span style="color:#000">pred</span><span style="color:#000">.</span><span style="color:#836c28">next</span> <span style="color:#000">=</span> <span style="color:#000">succ</span><span style="color:#000">;</span>
				<span style="color:#177500">// 设置该后继结点的前驱结点为当前结点（即指定结合最后元素所在的结点）
</span><span style="color:#177500"></span>        <span style="color:#000">succ</span><span style="color:#000">.</span><span style="color:#836c28">prev</span> <span style="color:#000">=</span> <span style="color:#000">pred</span><span style="color:#000">;</span>
    <span style="color:#000">}</span>

    <span style="color:#000">size</span> <span style="color:#000">+=</span> <span style="color:#000">numNew</span><span style="color:#000">;</span>
    <span style="color:#000">modCount</span><span style="color:#000">++;</span>
    <span style="color:#a90d91">return</span> <span style="color:#a90d91">true</span><span style="color:#000">;</span>
<span style="color:#000">}</span>
</code></pre></div><hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="24-public-void-clear">
        24. public void clear()
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#24-public-void-clear" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 24. public void clear()" href="#24-public-void-clear">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>从此列表中删除所有元素。此调用返回后，该列表将为空。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">public</span> <span style="color:#a90d91">void</span> <span style="color:#000">clear</span><span style="color:#000">()</span> <span style="color:#000">{</span>
    <span style="color:#177500">// Clearing all of the links between nodes is &#34;unnecessary&#34;, but:
</span><span style="color:#177500"></span>    <span style="color:#177500">// - helps a generational GC if the discarded nodes inhabit
</span><span style="color:#177500"></span>    <span style="color:#177500">//   more than one generation
</span><span style="color:#177500"></span>    <span style="color:#177500">// - is sure to free memory even if there is a reachable Iterator
</span><span style="color:#177500"></span>		<span style="color:#177500">// 从头开始遍历链表
</span><span style="color:#177500"></span>    <span style="color:#a90d91">for</span> <span style="color:#000">(</span><span style="color:#000">Node</span><span style="color:#000">&lt;</span><span style="color:#000">E</span><span style="color:#000">&gt;</span> <span style="color:#000">x</span> <span style="color:#000">=</span> <span style="color:#000">first</span><span style="color:#000">;</span> <span style="color:#000">x</span> <span style="color:#000">!=</span> <span style="color:#a90d91">null</span><span style="color:#000">;</span> <span style="color:#000">)</span> <span style="color:#000">{</span>
				<span style="color:#177500">// 先把当前结点的后继结点取出
</span><span style="color:#177500"></span>        <span style="color:#000">Node</span><span style="color:#000">&lt;</span><span style="color:#000">E</span><span style="color:#000">&gt;</span> <span style="color:#000">next</span> <span style="color:#000">=</span> <span style="color:#000">x</span><span style="color:#000">.</span><span style="color:#836c28">next</span><span style="color:#000">;</span>
				<span style="color:#177500">// 然后将当前结点的元素、前驱结点、后继结点置为空
</span><span style="color:#177500"></span>        <span style="color:#000">x</span><span style="color:#000">.</span><span style="color:#836c28">item</span> <span style="color:#000">=</span> <span style="color:#a90d91">null</span><span style="color:#000">;</span>
        <span style="color:#000">x</span><span style="color:#000">.</span><span style="color:#836c28">next</span> <span style="color:#000">=</span> <span style="color:#a90d91">null</span><span style="color:#000">;</span>
        <span style="color:#000">x</span><span style="color:#000">.</span><span style="color:#836c28">prev</span> <span style="color:#000">=</span> <span style="color:#a90d91">null</span><span style="color:#000">;</span>
        <span style="color:#000">x</span> <span style="color:#000">=</span> <span style="color:#000">next</span><span style="color:#000">;</span>
    <span style="color:#000">}</span>
		<span style="color:#177500">// 将链表的头部结点、尾部结点置为null
</span><span style="color:#177500"></span>    <span style="color:#000">first</span> <span style="color:#000">=</span> <span style="color:#000">last</span> <span style="color:#000">=</span> <span style="color:#a90d91">null</span><span style="color:#000">;</span>
    <span style="color:#000">size</span> <span style="color:#000">=</span> <span style="color:#000">0</span><span style="color:#000">;</span>
    <span style="color:#000">modCount</span><span style="color:#000">++;</span>
<span style="color:#000">}</span>
</code></pre></div><hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="25-public-e-getint-index">
        25. public E get(int index)
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#25-public-e-getint-index" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 25. public E get(int index)" href="#25-public-e-getint-index">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>返回此列表中指定位置的元素。</p>
<p>源码如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">public</span> <span style="color:#000">E</span> <span style="color:#000">get</span><span style="color:#000">(</span><span style="color:#a90d91">int</span> <span style="color:#000">index</span><span style="color:#000">)</span> <span style="color:#000">{</span>
		<span style="color:#177500">// 校验元素索引
</span><span style="color:#177500"></span>    <span style="color:#000">checkElementIndex</span><span style="color:#000">(</span><span style="color:#000">index</span><span style="color:#000">);</span>
		<span style="color:#177500">// 使用node方法取出指定索引位置的结点，然后返回该结点所持有的元素
</span><span style="color:#177500"></span>    <span style="color:#a90d91">return</span> <span style="color:#000">node</span><span style="color:#000">(</span><span style="color:#000">index</span><span style="color:#000">).</span><span style="color:#836c28">item</span><span style="color:#000">;</span>
<span style="color:#000">}</span>
</code></pre></div><hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="26-public-e-setint-index-e-element">
        26. public E set(int index, E element)
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#26-public-e-setint-index-e-element" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 26. public E set(int index, E element)" href="#26-public-e-setint-index-e-element">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>用指定的元素替换此列表中指定位置的元素。</p>
<p>元素如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">public</span> <span style="color:#000">E</span> <span style="color:#000">set</span><span style="color:#000">(</span><span style="color:#a90d91">int</span> <span style="color:#000">index</span><span style="color:#000">,</span> <span style="color:#000">E</span> <span style="color:#000">element</span><span style="color:#000">)</span> <span style="color:#000">{</span>
		<span style="color:#177500">// 检查指定索引是否是当前列表元素的索引
</span><span style="color:#177500"></span>    <span style="color:#000">checkElementIndex</span><span style="color:#000">(</span><span style="color:#000">index</span><span style="color:#000">);</span>
		<span style="color:#177500">// 取出指定索引位置的结点
</span><span style="color:#177500"></span>    <span style="color:#000">Node</span><span style="color:#000">&lt;</span><span style="color:#000">E</span><span style="color:#000">&gt;</span> <span style="color:#000">x</span> <span style="color:#000">=</span> <span style="color:#000">node</span><span style="color:#000">(</span><span style="color:#000">index</span><span style="color:#000">);</span>
		<span style="color:#177500">// 取出指定位置结点的元素
</span><span style="color:#177500"></span>    <span style="color:#000">E</span> <span style="color:#000">oldVal</span> <span style="color:#000">=</span> <span style="color:#000">x</span><span style="color:#000">.</span><span style="color:#836c28">item</span><span style="color:#000">;</span>
		<span style="color:#177500">// 替换指定位置结点的元素为指定的元素
</span><span style="color:#177500"></span>    <span style="color:#000">x</span><span style="color:#000">.</span><span style="color:#836c28">item</span> <span style="color:#000">=</span> <span style="color:#000">element</span><span style="color:#000">;</span>
		<span style="color:#177500">// 返回当前结点原来的元素
</span><span style="color:#177500"></span>    <span style="color:#a90d91">return</span> <span style="color:#000">oldVal</span><span style="color:#000">;</span>
<span style="color:#000">}</span>
</code></pre></div><hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="27-public-void-addint-index-e-element">
        27. public void add(int index, E element)
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#27-public-void-addint-index-e-element" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 27. public void add(int index, E element)" href="#27-public-void-addint-index-e-element">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>将指定的元素插入此列表中的指定位置。将当前在该位置的元素（如果有）和任何后续元素右移（将其索引添加一个）。</p>
<p>源码如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">public</span> <span style="color:#a90d91">void</span> <span style="color:#000">add</span><span style="color:#000">(</span><span style="color:#a90d91">int</span> <span style="color:#000">index</span><span style="color:#000">,</span> <span style="color:#000">E</span> <span style="color:#000">element</span><span style="color:#000">)</span> <span style="color:#000">{</span>
		<span style="color:#177500">// 判断参数是否是迭代器或添加操作的有效位置的索引
</span><span style="color:#177500"></span>    <span style="color:#000">checkPositionIndex</span><span style="color:#000">(</span><span style="color:#000">index</span><span style="color:#000">);</span>

    <span style="color:#a90d91">if</span> <span style="color:#000">(</span><span style="color:#000">index</span> <span style="color:#000">==</span> <span style="color:#000">size</span><span style="color:#000">)</span>
				<span style="color:#177500">// 如果index等于size，则说明指定元素需要拼接到结尾
</span><span style="color:#177500"></span>        <span style="color:#000">linkLast</span><span style="color:#000">(</span><span style="color:#000">element</span><span style="color:#000">);</span>
    <span style="color:#a90d91">else</span>
				<span style="color:#177500">// index不等于size，则先使用node方法取出指定位置的结点
</span><span style="color:#177500"></span>				<span style="color:#177500">// 然后调用linkBefore将指定元素插入到该结点之前
</span><span style="color:#177500"></span>        <span style="color:#000">linkBefore</span><span style="color:#000">(</span><span style="color:#000">element</span><span style="color:#000">,</span> <span style="color:#000">node</span><span style="color:#000">(</span><span style="color:#000">index</span><span style="color:#000">));</span>
<span style="color:#000">}</span>
</code></pre></div><hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="28-public-e-removeint-index">
        28. public E remove(int index)
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#28-public-e-removeint-index" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 28. public E remove(int index)" href="#28-public-e-removeint-index">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>删除当前列表中指定位置的元素。然后将后面的元素左移（即索引减1）。返回被删除的元素。</p>
<p>源码如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">public</span> <span style="color:#000">E</span> <span style="color:#000">remove</span><span style="color:#000">(</span><span style="color:#a90d91">int</span> <span style="color:#000">index</span><span style="color:#000">)</span> <span style="color:#000">{</span>
		<span style="color:#177500">// 先判断指定索引是否是当前列表元素的索引
</span><span style="color:#177500"></span>    <span style="color:#000">checkElementIndex</span><span style="color:#000">(</span><span style="color:#000">index</span><span style="color:#000">);</span>
		<span style="color:#177500">// 先调用node方法获取指定索引位置的结点，再调用unlink方法将此结点从当前链表中拆除
</span><span style="color:#177500"></span>    <span style="color:#a90d91">return</span> <span style="color:#000">unlink</span><span style="color:#000">(</span><span style="color:#000">node</span><span style="color:#000">(</span><span style="color:#000">index</span><span style="color:#000">));</span>
<span style="color:#000">}</span>
</code></pre></div><hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="29-private-boolean-iselementindexint-index">
        29. private boolean isElementIndex(int index)
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#29-private-boolean-iselementindexint-index" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 29. private boolean isElementIndex(int index)" href="#29-private-boolean-iselementindexint-index">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>判断参数是否为现有元素的索引。要求索引大于等于0并且小于<code>size</code>。</p>
<p>源码如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">private</span> <span style="color:#a90d91">boolean</span> <span style="color:#000">isElementIndex</span><span style="color:#000">(</span><span style="color:#a90d91">int</span> <span style="color:#000">index</span><span style="color:#000">)</span> <span style="color:#000">{</span>
    <span style="color:#a90d91">return</span> <span style="color:#000">index</span> <span style="color:#000">&gt;=</span> <span style="color:#000">0</span> <span style="color:#000">&amp;&amp;</span> <span style="color:#000">index</span> <span style="color:#000">&lt;</span> <span style="color:#000">size</span><span style="color:#000">;</span>
<span style="color:#000">}</span>
</code></pre></div><hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="30-private-boolean-ispositionindexint-index">
        30. private boolean isPositionIndex(int index)
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#30-private-boolean-ispositionindexint-index" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 30. private boolean isPositionIndex(int index)" href="#30-private-boolean-ispositionindexint-index">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>判断参数是否是迭代器或添加操作的有效位置的索引。</p>
<p>其源码如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">private</span> <span style="color:#a90d91">boolean</span> <span style="color:#000">isPositionIndex</span><span style="color:#000">(</span><span style="color:#a90d91">int</span> <span style="color:#000">index</span><span style="color:#000">)</span> <span style="color:#000">{</span>
		<span style="color:#177500">// index必须大于等于0，并且小于等于列表的size
</span><span style="color:#177500"></span>		<span style="color:#177500">// 此处给定的索引位置等于size也可以是因为该方法还用于插入元素时的索引判断，而插入时可以插入到列表的末尾，此时的插入位置正好为size
</span><span style="color:#177500"></span>    <span style="color:#a90d91">return</span> <span style="color:#000">index</span> <span style="color:#000">&gt;=</span> <span style="color:#000">0</span> <span style="color:#000">&amp;&amp;</span> <span style="color:#000">index</span> <span style="color:#000">&lt;=</span> <span style="color:#000">size</span><span style="color:#000">;</span>
<span style="color:#000">}</span>
</code></pre></div><hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="31-private-string-outofboundsmsgint-index">
        31. private String outOfBoundsMsg(int index)
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#31-private-string-outofboundsmsgint-index" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 31. private String outOfBoundsMsg(int index)" href="#31-private-string-outofboundsmsgint-index">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>构造一个 <code>IndexOutOfBoundsException</code> 异常的详细信息。在许多可能的错误处理代码重构中，这种“概述”在服务器和客户机vm中都表现得最好。</p>
<hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="32-private-void-checkelementindexint-index">
        32. private void checkElementIndex(int index)
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#32-private-void-checkelementindexint-index" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 32. private void checkElementIndex(int index)" href="#32-private-void-checkelementindexint-index">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>检查指定索引是否是当前列表元素的索引，不满足的话则抛出数组越界异常。</p>
<p>源码如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">private</span> <span style="color:#a90d91">void</span> <span style="color:#000">checkElementIndex</span><span style="color:#000">(</span><span style="color:#a90d91">int</span> <span style="color:#000">index</span><span style="color:#000">)</span> <span style="color:#000">{</span>
    <span style="color:#a90d91">if</span> <span style="color:#000">(!</span><span style="color:#000">isElementIndex</span><span style="color:#000">(</span><span style="color:#000">index</span><span style="color:#000">))</span>
        <span style="color:#a90d91">throw</span> <span style="color:#a90d91">new</span> <span style="color:#000">IndexOutOfBoundsException</span><span style="color:#000">(</span><span style="color:#000">outOfBoundsMsg</span><span style="color:#000">(</span><span style="color:#000">index</span><span style="color:#000">));</span>
<span style="color:#000">}</span>
</code></pre></div><hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="33-private-void-checkpositionindexint-index">
        33. private void checkPositionIndex(int index)
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#33-private-void-checkpositionindexint-index" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 33. private void checkPositionIndex(int index)" href="#33-private-void-checkpositionindexint-index">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>检查位置索引，其源码如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">private</span> <span style="color:#a90d91">void</span> <span style="color:#000">checkPositionIndex</span><span style="color:#000">(</span><span style="color:#a90d91">int</span> <span style="color:#000">index</span><span style="color:#000">)</span> <span style="color:#000">{</span>
		<span style="color:#177500">// 此处调用位置索引判断方法，如果是非合理索引位置，则抛出数组越界异常
</span><span style="color:#177500"></span>    <span style="color:#a90d91">if</span> <span style="color:#000">(!</span><span style="color:#000">isPositionIndex</span><span style="color:#000">(</span><span style="color:#000">index</span><span style="color:#000">))</span>
        <span style="color:#a90d91">throw</span> <span style="color:#a90d91">new</span> <span style="color:#000">IndexOutOfBoundsException</span><span style="color:#000">(</span><span style="color:#000">outOfBoundsMsg</span><span style="color:#000">(</span><span style="color:#000">index</span><span style="color:#000">));</span>
<span style="color:#000">}</span>
</code></pre></div><hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="34-nodee-nodeint-index">
        34. Node<!-- raw HTML omitted --> node(int index)
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#34-nodee-nodeint-index" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 34. Node node(int index)" href="#34-nodee-nodeint-index">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>返回指定元素索引处的（非空）结点。</p>
<p>源码如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#000">Node</span><span style="color:#000">&lt;</span><span style="color:#000">E</span><span style="color:#000">&gt;</span> <span style="color:#000">node</span><span style="color:#000">(</span><span style="color:#a90d91">int</span> <span style="color:#000">index</span><span style="color:#000">)</span> <span style="color:#000">{</span>
    <span style="color:#177500">// assert isElementIndex(index);
</span><span style="color:#177500"></span>
		<span style="color:#177500">// size &gt;&gt; 1，对size做右移1位的操作，类似于对其做除以2的操作，但不会四舍五入而是直接舍弃
</span><span style="color:#177500"></span>		<span style="color:#177500">// 此处判断指定的索引index是更靠近链表的开头还是结尾，从更靠近index的一端开始遍历可以节省开销
</span><span style="color:#177500"></span>    <span style="color:#a90d91">if</span> <span style="color:#000">(</span><span style="color:#000">index</span> <span style="color:#000">&lt;</span> <span style="color:#000">(</span><span style="color:#000">size</span> <span style="color:#000">&gt;&gt;</span> <span style="color:#000">1</span><span style="color:#000">))</span> <span style="color:#000">{</span>
				<span style="color:#177500">// 从头部开始遍历
</span><span style="color:#177500"></span>        <span style="color:#000">Node</span><span style="color:#000">&lt;</span><span style="color:#000">E</span><span style="color:#000">&gt;</span> <span style="color:#000">x</span> <span style="color:#000">=</span> <span style="color:#000">first</span><span style="color:#000">;</span>
				<span style="color:#177500">// 一直找到指定索引位置的结点，然后返回
</span><span style="color:#177500"></span>        <span style="color:#a90d91">for</span> <span style="color:#000">(</span><span style="color:#a90d91">int</span> <span style="color:#000">i</span> <span style="color:#000">=</span> <span style="color:#000">0</span><span style="color:#000">;</span> <span style="color:#000">i</span> <span style="color:#000">&lt;</span> <span style="color:#000">index</span><span style="color:#000">;</span> <span style="color:#000">i</span><span style="color:#000">++)</span>
            <span style="color:#000">x</span> <span style="color:#000">=</span> <span style="color:#000">x</span><span style="color:#000">.</span><span style="color:#836c28">next</span><span style="color:#000">;</span>
        <span style="color:#a90d91">return</span> <span style="color:#000">x</span><span style="color:#000">;</span>
    <span style="color:#000">}</span> <span style="color:#a90d91">else</span> <span style="color:#000">{</span>
				<span style="color:#177500">// 从尾部开始遍历
</span><span style="color:#177500"></span>        <span style="color:#000">Node</span><span style="color:#000">&lt;</span><span style="color:#000">E</span><span style="color:#000">&gt;</span> <span style="color:#000">x</span> <span style="color:#000">=</span> <span style="color:#000">last</span><span style="color:#000">;</span>
				<span style="color:#177500">// 一直找到指定索引位置的结点，然后返回
</span><span style="color:#177500"></span>        <span style="color:#a90d91">for</span> <span style="color:#000">(</span><span style="color:#a90d91">int</span> <span style="color:#000">i</span> <span style="color:#000">=</span> <span style="color:#000">size</span> <span style="color:#000">-</span> <span style="color:#000">1</span><span style="color:#000">;</span> <span style="color:#000">i</span> <span style="color:#000">&gt;</span> <span style="color:#000">index</span><span style="color:#000">;</span> <span style="color:#000">i</span><span style="color:#000">--)</span>
            <span style="color:#000">x</span> <span style="color:#000">=</span> <span style="color:#000">x</span><span style="color:#000">.</span><span style="color:#836c28">prev</span><span style="color:#000">;</span>
        <span style="color:#a90d91">return</span> <span style="color:#000">x</span><span style="color:#000">;</span>
    <span style="color:#000">}</span>
<span style="color:#000">}</span>
</code></pre></div><hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="35-public-int-indexofobject-o">
        35. public int indexOf(Object o)
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#35-public-int-indexofobject-o" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 35. public int indexOf(Object o)" href="#35-public-int-indexofobject-o">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>返回给定的元素在当前列表中第一次出现的索引位置，或者如果该元素在当前列表中不存在的话返回 <code>-1</code> 。更准确的说，返回满足 <code>(o==null ? get(i)==null : o.equals(get(i)))</code> 的最小索引 <code>i</code> ，或者无此索引的话返回 <code>-1</code> 。</p>
<p>索引，更像是基于数组的存储结构中才有的。其实， <code>indexOf</code> 是 <code>List</code> 接口中定义的方法，所以， <code>LinkedList</code> 中也实现了该方法，其并不能像基于数组的存储结构中那样，直接返回该元素在数组中的索引，而是从头开始遍历链表，从0开始计数，每经过一个结点，该计数值加1，命中的时候直接返回该计数值，源码如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">public</span> <span style="color:#a90d91">int</span> <span style="color:#000">indexOf</span><span style="color:#000">(</span><span style="color:#000">Object</span> <span style="color:#000">o</span><span style="color:#000">)</span> <span style="color:#000">{</span>
		<span style="color:#177500">// 从0开始计数
</span><span style="color:#177500"></span>    <span style="color:#a90d91">int</span> <span style="color:#000">index</span> <span style="color:#000">=</span> <span style="color:#000">0</span><span style="color:#000">;</span>
    <span style="color:#a90d91">if</span> <span style="color:#000">(</span><span style="color:#000">o</span> <span style="color:#000">==</span> <span style="color:#a90d91">null</span><span style="color:#000">)</span> <span style="color:#000">{</span>
				<span style="color:#177500">// 给定对象为空时，判断结点持有的元素是否为空，为空则命中
</span><span style="color:#177500"></span>				<span style="color:#177500">// 从头开始遍历当前链表
</span><span style="color:#177500"></span>        <span style="color:#a90d91">for</span> <span style="color:#000">(</span><span style="color:#000">Node</span><span style="color:#000">&lt;</span><span style="color:#000">E</span><span style="color:#000">&gt;</span> <span style="color:#000">x</span> <span style="color:#000">=</span> <span style="color:#000">first</span><span style="color:#000">;</span> <span style="color:#000">x</span> <span style="color:#000">!=</span> <span style="color:#a90d91">null</span><span style="color:#000">;</span> <span style="color:#000">x</span> <span style="color:#000">=</span> <span style="color:#000">x</span><span style="color:#000">.</span><span style="color:#836c28">next</span><span style="color:#000">)</span> <span style="color:#000">{</span>
						<span style="color:#177500">// 判断结点持有的元素是否为空，若是，则返回当前计数值
</span><span style="color:#177500"></span>            <span style="color:#a90d91">if</span> <span style="color:#000">(</span><span style="color:#000">x</span><span style="color:#000">.</span><span style="color:#836c28">item</span> <span style="color:#000">==</span> <span style="color:#a90d91">null</span><span style="color:#000">)</span>
                <span style="color:#a90d91">return</span> <span style="color:#000">index</span><span style="color:#000">;</span>
						<span style="color:#177500">// 当前结点未命中，计数值加1
</span><span style="color:#177500"></span>            <span style="color:#000">index</span><span style="color:#000">++;</span>
        <span style="color:#000">}</span>
    <span style="color:#000">}</span> <span style="color:#a90d91">else</span> <span style="color:#000">{</span>
				<span style="color:#177500">// 给定对象不为空空时，通过equals判断结点持有的元素与给定元素是否相等，相等则命中
</span><span style="color:#177500"></span>				<span style="color:#177500">// 从头开始遍历当前链表
</span><span style="color:#177500"></span>        <span style="color:#a90d91">for</span> <span style="color:#000">(</span><span style="color:#000">Node</span><span style="color:#000">&lt;</span><span style="color:#000">E</span><span style="color:#000">&gt;</span> <span style="color:#000">x</span> <span style="color:#000">=</span> <span style="color:#000">first</span><span style="color:#000">;</span> <span style="color:#000">x</span> <span style="color:#000">!=</span> <span style="color:#a90d91">null</span><span style="color:#000">;</span> <span style="color:#000">x</span> <span style="color:#000">=</span> <span style="color:#000">x</span><span style="color:#000">.</span><span style="color:#836c28">next</span><span style="color:#000">)</span> <span style="color:#000">{</span>
						<span style="color:#177500">// 通过equals判断结点持有的元素与给定元素是否相等，若是，则返回当前计数值
</span><span style="color:#177500"></span>            <span style="color:#a90d91">if</span> <span style="color:#000">(</span><span style="color:#000">o</span><span style="color:#000">.</span><span style="color:#836c28">equals</span><span style="color:#000">(</span><span style="color:#000">x</span><span style="color:#000">.</span><span style="color:#836c28">item</span><span style="color:#000">))</span>
                <span style="color:#a90d91">return</span> <span style="color:#000">index</span><span style="color:#000">;</span>
						<span style="color:#177500">// 当前结点未命中，计数值加1
</span><span style="color:#177500"></span>            <span style="color:#000">index</span><span style="color:#000">++;</span>
        <span style="color:#000">}</span>
    <span style="color:#000">}</span>
		<span style="color:#177500">// 当前列表中未匹配到给定的元素，返回-1
</span><span style="color:#177500"></span>    <span style="color:#a90d91">return</span> <span style="color:#000">-</span><span style="color:#000">1</span><span style="color:#000">;</span>
<span style="color:#000">}</span>
</code></pre></div><hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="36-public-int-lastindexofobject-o">
        36. public int lastIndexOf(Object o)
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#36-public-int-lastindexofobject-o" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 36. public int lastIndexOf(Object o)" href="#36-public-int-lastindexofobject-o">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>返回当前列表中指定元素的最后一次出现的索引位置，或者如果指定元素在当前列表中不存在的话返回-1。更准确地说，返回满足 <code>(o==null ? get(i)==null : o.equals(get(i)))</code> 的最大索引 <code>i</code> 或者指定元素不存在的话返回-1。</p>
<p>该方法与 <code>indexOf</code> 类似，只不过当前方法是从链表的尾部开始向前遍历。</p>
<hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="37-public-e-peek">
        37. public E peek()
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#37-public-e-peek" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 37. public E peek()" href="#37-public-e-peek">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>检索但不删除列表的头部元素（第一个元素）。</p>
<p>该方法的源码如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">public</span> <span style="color:#000">E</span> <span style="color:#000">peek</span><span style="color:#000">()</span> <span style="color:#000">{</span>
		<span style="color:#177500">// 首先取到头部结点
</span><span style="color:#177500"></span>    <span style="color:#a90d91">final</span> <span style="color:#000">Node</span><span style="color:#000">&lt;</span><span style="color:#000">E</span><span style="color:#000">&gt;</span> <span style="color:#000">f</span> <span style="color:#000">=</span> <span style="color:#000">first</span><span style="color:#000">;</span>
		<span style="color:#177500">// 如果头部结点为空，则返回空，否则返回头部结点所持有的元素
</span><span style="color:#177500"></span>    <span style="color:#a90d91">return</span> <span style="color:#000">(</span><span style="color:#000">f</span> <span style="color:#000">==</span> <span style="color:#a90d91">null</span><span style="color:#000">)</span> <span style="color:#000">?</span> <span style="color:#a90d91">null</span> <span style="color:#000">:</span> <span style="color:#000">f</span><span style="color:#000">.</span><span style="color:#836c28">item</span><span style="color:#000">;</span>
<span style="color:#000">}</span>
</code></pre></div><hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="38-public-e-element">
        38. public E element()
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#38-public-e-element" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 38. public E element()" href="#38-public-e-element">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>检索但不删除列表的头部元素（第一个元素）。</p>
<p>该方法的源码如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">public</span> <span style="color:#000">E</span> <span style="color:#000">element</span><span style="color:#000">()</span> <span style="color:#000">{</span>
		<span style="color:#177500">// 直接调用getFirst方法
</span><span style="color:#177500"></span>    <span style="color:#a90d91">return</span> <span style="color:#000">getFirst</span><span style="color:#000">();</span>
<span style="color:#000">}</span>
</code></pre></div><p>当前方法与 <code>peek</code> 的不同之处在于，当前方法在获取到的头部结点为空时，抛出 <code>NoSuchElementException</code> 。</p>
<hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="39-public-e-poll">
        39. public E poll()
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#39-public-e-poll" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 39. public E poll()" href="#39-public-e-poll">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>检索以及删除列表的头部元素（第一个元素）。</p>
<p>当前方法的源码如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">public</span> <span style="color:#000">E</span> <span style="color:#000">poll</span><span style="color:#000">()</span> <span style="color:#000">{</span>
		<span style="color:#177500">// 先取出列表的头部结点
</span><span style="color:#177500"></span>    <span style="color:#a90d91">final</span> <span style="color:#000">Node</span><span style="color:#000">&lt;</span><span style="color:#000">E</span><span style="color:#000">&gt;</span> <span style="color:#000">f</span> <span style="color:#000">=</span> <span style="color:#000">first</span><span style="color:#000">;</span>
		<span style="color:#177500">// 如果头部结点为空则返回空，否则调用unlinkFirst方法拆除当前头部结点
</span><span style="color:#177500"></span>    <span style="color:#a90d91">return</span> <span style="color:#000">(</span><span style="color:#000">f</span> <span style="color:#000">==</span> <span style="color:#a90d91">null</span><span style="color:#000">)</span> <span style="color:#000">?</span> <span style="color:#a90d91">null</span> <span style="color:#000">:</span> <span style="color:#000">unlinkFirst</span><span style="color:#000">(</span><span style="color:#000">f</span><span style="color:#000">);</span>
<span style="color:#000">}</span>
</code></pre></div><hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="40-public-e-remove">
        40. public E remove()
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#40-public-e-remove" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 40. public E remove()" href="#40-public-e-remove">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>检索以及删除列表的头部元素（第一个元素）。</p>
<p>当前方法的源码如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">public</span> <span style="color:#000">E</span> <span style="color:#000">remove</span><span style="color:#000">()</span> <span style="color:#000">{</span>
		<span style="color:#177500">// 直接调用removeFirst方法
</span><span style="color:#177500"></span>    <span style="color:#a90d91">return</span> <span style="color:#000">removeFirst</span><span style="color:#000">();</span>
<span style="color:#000">}</span>
</code></pre></div><p>该方法与 <code>poll</code> 方法的不同之处在于，该方法在获取到的头部结点为空时会抛出 <code>NoSuchElementException</code> 。</p>
<hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="41-public-boolean-offere-e">
        41. public boolean offer(E e)
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#41-public-boolean-offere-e" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 41. public boolean offer(E e)" href="#41-public-boolean-offere-e">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>将给定的元素添加到列表的尾部（最后一个元素）。</p>
<p>当前方法的源码如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">public</span> <span style="color:#a90d91">boolean</span> <span style="color:#000">offer</span><span style="color:#000">(</span><span style="color:#000">E</span> <span style="color:#000">e</span><span style="color:#000">)</span> <span style="color:#000">{</span>
		<span style="color:#177500">// 直接调用add方法
</span><span style="color:#177500"></span>    <span style="color:#a90d91">return</span> <span style="color:#000">add</span><span style="color:#000">(</span><span style="color:#000">e</span><span style="color:#000">);</span>
<span style="color:#000">}</span>
</code></pre></div><hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="42-public-boolean-offerfirste-e">
        42. public boolean offerFirst(E e)
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#42-public-boolean-offerfirste-e" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 42. public boolean offerFirst(E e)" href="#42-public-boolean-offerfirste-e">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>将指定的元素插入到列表的前面。</p>
<p>源码如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">public</span> <span style="color:#a90d91">boolean</span> <span style="color:#000">offerFirst</span><span style="color:#000">(</span><span style="color:#000">E</span> <span style="color:#000">e</span><span style="color:#000">)</span> <span style="color:#000">{</span>
		<span style="color:#177500">// 直接调用addFirst方法
</span><span style="color:#177500"></span>    <span style="color:#000">addFirst</span><span style="color:#000">(</span><span style="color:#000">e</span><span style="color:#000">);</span>
    <span style="color:#a90d91">return</span> <span style="color:#a90d91">true</span><span style="color:#000">;</span>
<span style="color:#000">}</span>
</code></pre></div><hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="43-public-boolean-offerlaste-e">
        43. public boolean offerLast(E e)
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#43-public-boolean-offerlaste-e" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 43. public boolean offerLast(E e)" href="#43-public-boolean-offerlaste-e">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>将指定的元素插入到列表的后面。</p>
<p>源码如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">public</span> <span style="color:#a90d91">boolean</span> <span style="color:#000">offerLast</span><span style="color:#000">(</span><span style="color:#000">E</span> <span style="color:#000">e</span><span style="color:#000">)</span> <span style="color:#000">{</span>
		<span style="color:#177500">// 直接调用addLast方法
</span><span style="color:#177500"></span>    <span style="color:#000">addLast</span><span style="color:#000">(</span><span style="color:#000">e</span><span style="color:#000">);</span>
    <span style="color:#a90d91">return</span> <span style="color:#a90d91">true</span><span style="color:#000">;</span>
<span style="color:#000">}</span>
</code></pre></div><hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="44-public-e-peekfirst">
        44. public E peekFirst()
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#44-public-e-peekfirst" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 44. public E peekFirst()" href="#44-public-e-peekfirst">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>检索但不删除列表的第一个元素，或者如果列表为空的话，返回 <code>null</code> 。</p>
<p>源码如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">public</span> <span style="color:#000">E</span> <span style="color:#000">peekFirst</span><span style="color:#000">()</span> <span style="color:#000">{</span>
    <span style="color:#a90d91">final</span> <span style="color:#000">Node</span><span style="color:#000">&lt;</span><span style="color:#000">E</span><span style="color:#000">&gt;</span> <span style="color:#000">f</span> <span style="color:#000">=</span> <span style="color:#000">first</span><span style="color:#000">;</span>
    <span style="color:#a90d91">return</span> <span style="color:#000">(</span><span style="color:#000">f</span> <span style="color:#000">==</span> <span style="color:#a90d91">null</span><span style="color:#000">)</span> <span style="color:#000">?</span> <span style="color:#a90d91">null</span> <span style="color:#000">:</span> <span style="color:#000">f</span><span style="color:#000">.</span><span style="color:#836c28">item</span><span style="color:#000">;</span>
<span style="color:#000">}</span>
</code></pre></div><hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="45-public-e-peeklast">
        45. public E peekLast()
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#45-public-e-peeklast" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 45. public E peekLast()" href="#45-public-e-peeklast">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>检索但不删除列表的第一个元素，或者如果列表为空的话，返回 <code>null</code> 。</p>
<p>源码如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">public</span> <span style="color:#000">E</span> <span style="color:#000">peekLast</span><span style="color:#000">()</span> <span style="color:#000">{</span>
    <span style="color:#a90d91">final</span> <span style="color:#000">Node</span><span style="color:#000">&lt;</span><span style="color:#000">E</span><span style="color:#000">&gt;</span> <span style="color:#000">l</span> <span style="color:#000">=</span> <span style="color:#000">last</span><span style="color:#000">;</span>
    <span style="color:#a90d91">return</span> <span style="color:#000">(</span><span style="color:#000">l</span> <span style="color:#000">==</span> <span style="color:#a90d91">null</span><span style="color:#000">)</span> <span style="color:#000">?</span> <span style="color:#a90d91">null</span> <span style="color:#000">:</span> <span style="color:#000">l</span><span style="color:#000">.</span><span style="color:#836c28">item</span><span style="color:#000">;</span>
<span style="color:#000">}</span>
</code></pre></div><hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="46-public-e-pollfirst">
        46. public E pollFirst()
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#46-public-e-pollfirst" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 46. public E pollFirst()" href="#46-public-e-pollfirst">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>检索并且删除列表的第一个元素，或者如果列表为空的话，返回 <code>null</code> 。</p>
<p>源码如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">public</span> <span style="color:#000">E</span> <span style="color:#000">pollFirst</span><span style="color:#000">()</span> <span style="color:#000">{</span>
    <span style="color:#a90d91">final</span> <span style="color:#000">Node</span><span style="color:#000">&lt;</span><span style="color:#000">E</span><span style="color:#000">&gt;</span> <span style="color:#000">f</span> <span style="color:#000">=</span> <span style="color:#000">first</span><span style="color:#000">;</span>
		<span style="color:#177500">// 与peekFirst的不同之处就在于此处不是直接返回头结点的元素，而是调用unlinkFirst方法拆除头结点
</span><span style="color:#177500"></span>    <span style="color:#a90d91">return</span> <span style="color:#000">(</span><span style="color:#000">f</span> <span style="color:#000">==</span> <span style="color:#a90d91">null</span><span style="color:#000">)</span> <span style="color:#000">?</span> <span style="color:#a90d91">null</span> <span style="color:#000">:</span> <span style="color:#000">unlinkFirst</span><span style="color:#000">(</span><span style="color:#000">f</span><span style="color:#000">);</span>
<span style="color:#000">}</span>
</code></pre></div><hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="47-public-e-polllast">
        47. public E pollLast()
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#47-public-e-polllast" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 47. public E pollLast()" href="#47-public-e-polllast">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>检索并删除列表的最后一个元素，或者如果列表为空的话，返回 <code>null</code> 。</p>
<p>源码如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">public</span> <span style="color:#000">E</span> <span style="color:#000">pollLast</span><span style="color:#000">()</span> <span style="color:#000">{</span>
    <span style="color:#a90d91">final</span> <span style="color:#000">Node</span><span style="color:#000">&lt;</span><span style="color:#000">E</span><span style="color:#000">&gt;</span> <span style="color:#000">l</span> <span style="color:#000">=</span> <span style="color:#000">last</span><span style="color:#000">;</span>
		<span style="color:#177500">// 调用unlinkLast拆除尾部结点
</span><span style="color:#177500"></span>    <span style="color:#a90d91">return</span> <span style="color:#000">(</span><span style="color:#000">l</span> <span style="color:#000">==</span> <span style="color:#a90d91">null</span><span style="color:#000">)</span> <span style="color:#000">?</span> <span style="color:#a90d91">null</span> <span style="color:#000">:</span> <span style="color:#000">unlinkLast</span><span style="color:#000">(</span><span style="color:#000">l</span><span style="color:#000">);</span>
<span style="color:#000">}</span>
</code></pre></div><hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="48-public-void-pushe-e">
        48. public void push(E e)
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#48-public-void-pushe-e" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 48. public void push(E e)" href="#48-public-void-pushe-e">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>将元素压入此列表所表示的堆栈。换句话说，将元素插入此列表的前面。</p>
<p>该方法直接调用了 <code>addFirst</code> 方法。</p>
<hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="49-public-e-pop">
        49. public E pop()
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#49-public-e-pop" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 49. public E pop()" href="#49-public-e-pop">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>从此列表所表示的堆栈中弹出一个元素。换句话说，删除并返回此列表的第一个元素。</p>
<p>该方法直接调用了 <code>removeFirst</code> 方法。</p>
<hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="50-public-boolean-removefirstoccurrenceobject-o">
        50. public boolean removeFirstOccurrence(Object o)
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#50-public-boolean-removefirstoccurrenceobject-o" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 50. public boolean removeFirstOccurrence(Object o)" href="#50-public-boolean-removefirstoccurrenceobject-o">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>删除此列表中第一次出现的指定元素（从头到尾遍历列表）。如果列表不包含该元素，则它保持不变。</p>
<p>该方法直接调用 <code>remove</code> 方法。</p>
<hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="51-public-boolean-removelastoccurrenceobject-o">
        51. public boolean removeLastOccurrence(Object o)
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#51-public-boolean-removelastoccurrenceobject-o" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 51. public boolean removeLastOccurrence(Object o)" href="#51-public-boolean-removelastoccurrenceobject-o">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>删除此列表中最后一次出现的指定元素（从头到尾遍历列表）。如果列表不包含该元素，则它保持不变。</p>
<p>该方法的源码如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">public</span> <span style="color:#a90d91">boolean</span> <span style="color:#000">removeLastOccurrence</span><span style="color:#000">(</span><span style="color:#000">Object</span> <span style="color:#000">o</span><span style="color:#000">)</span> <span style="color:#000">{</span>
		<span style="color:#177500">// 判断指定的对象是否为空，以区分是使用 == null 进行判断还是使用equals进行判断
</span><span style="color:#177500"></span>    <span style="color:#a90d91">if</span> <span style="color:#000">(</span><span style="color:#000">o</span> <span style="color:#000">==</span> <span style="color:#a90d91">null</span><span style="color:#000">)</span> <span style="color:#000">{</span>
				<span style="color:#177500">// 从尾部开始遍历，命中则使用unlink方法拆除结点
</span><span style="color:#177500"></span>        <span style="color:#a90d91">for</span> <span style="color:#000">(</span><span style="color:#000">Node</span><span style="color:#000">&lt;</span><span style="color:#000">E</span><span style="color:#000">&gt;</span> <span style="color:#000">x</span> <span style="color:#000">=</span> <span style="color:#000">last</span><span style="color:#000">;</span> <span style="color:#000">x</span> <span style="color:#000">!=</span> <span style="color:#a90d91">null</span><span style="color:#000">;</span> <span style="color:#000">x</span> <span style="color:#000">=</span> <span style="color:#000">x</span><span style="color:#000">.</span><span style="color:#836c28">prev</span><span style="color:#000">)</span> <span style="color:#000">{</span>
            <span style="color:#a90d91">if</span> <span style="color:#000">(</span><span style="color:#000">x</span><span style="color:#000">.</span><span style="color:#836c28">item</span> <span style="color:#000">==</span> <span style="color:#a90d91">null</span><span style="color:#000">)</span> <span style="color:#000">{</span>
                <span style="color:#000">unlink</span><span style="color:#000">(</span><span style="color:#000">x</span><span style="color:#000">);</span>
                <span style="color:#a90d91">return</span> <span style="color:#a90d91">true</span><span style="color:#000">;</span>
            <span style="color:#000">}</span>
        <span style="color:#000">}</span>
    <span style="color:#000">}</span> <span style="color:#a90d91">else</span> <span style="color:#000">{</span>
        <span style="color:#a90d91">for</span> <span style="color:#000">(</span><span style="color:#000">Node</span><span style="color:#000">&lt;</span><span style="color:#000">E</span><span style="color:#000">&gt;</span> <span style="color:#000">x</span> <span style="color:#000">=</span> <span style="color:#000">last</span><span style="color:#000">;</span> <span style="color:#000">x</span> <span style="color:#000">!=</span> <span style="color:#a90d91">null</span><span style="color:#000">;</span> <span style="color:#000">x</span> <span style="color:#000">=</span> <span style="color:#000">x</span><span style="color:#000">.</span><span style="color:#836c28">prev</span><span style="color:#000">)</span> <span style="color:#000">{</span>
            <span style="color:#a90d91">if</span> <span style="color:#000">(</span><span style="color:#000">o</span><span style="color:#000">.</span><span style="color:#836c28">equals</span><span style="color:#000">(</span><span style="color:#000">x</span><span style="color:#000">.</span><span style="color:#836c28">item</span><span style="color:#000">))</span> <span style="color:#000">{</span>
                <span style="color:#000">unlink</span><span style="color:#000">(</span><span style="color:#000">x</span><span style="color:#000">);</span>
                <span style="color:#a90d91">return</span> <span style="color:#a90d91">true</span><span style="color:#000">;</span>
            <span style="color:#000">}</span>
        <span style="color:#000">}</span>
    <span style="color:#000">}</span>
    <span style="color:#a90d91">return</span> <span style="color:#a90d91">false</span><span style="color:#000">;</span>
<span style="color:#000">}</span>
</code></pre></div><hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="52-public-listiteratore-listiteratorint-index">
        52. public ListIterator<!-- raw HTML omitted --> listIterator(int index)
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#52-public-listiteratore-listiteratorint-index" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 52. public ListIterator listIterator(int index)" href="#52-public-listiteratore-listiteratorint-index">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>从列表中的指定位置开始（按适当顺序）返回此列表中元素的列表迭代器。遵守<code>List.listIterator(int)</code>的通用规范。</p>
<p>该列表迭代器是“快速失败”的：如果在创建<code>Iterator</code>之后的任何时间对列表进行结构修改，除非是通过列表迭代器自己的<code>remove</code>或<code>add</code>方法，否则列表迭代器将抛出<code>ConcurrentModificationException</code>。因此，面对并发修改，迭代器会干净利落地失败，而不会在未来的不确定时间内冒任意不确定行为的风险。</p>
<p>该方法的源码如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">public</span> <span style="color:#000">ListIterator</span><span style="color:#000">&lt;</span><span style="color:#000">E</span><span style="color:#000">&gt;</span> <span style="color:#000">listIterator</span><span style="color:#000">(</span><span style="color:#a90d91">int</span> <span style="color:#000">index</span><span style="color:#000">)</span> <span style="color:#000">{</span>
		<span style="color:#177500">// 检查指定索引是否大于等于0且小于等于size
</span><span style="color:#177500"></span>    <span style="color:#000">checkPositionIndex</span><span style="color:#000">(</span><span style="color:#000">index</span><span style="color:#000">);</span>
		<span style="color:#177500">// 返回ListItr
</span><span style="color:#177500"></span>    <span style="color:#a90d91">return</span> <span style="color:#a90d91">new</span> <span style="color:#000">ListItr</span><span style="color:#000">(</span><span style="color:#000">index</span><span style="color:#000">);</span>
<span style="color:#000">}</span>
</code></pre></div><hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="53-private-class-listitr-implements-listiteratore">
        53. private class ListItr implements ListIterator<!-- raw HTML omitted -->
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#53-private-class-listitr-implements-listiteratore" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 53. private class ListItr implements ListIterator" href="#53-private-class-listitr-implements-listiteratore">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>该类是 <code>LinkedList</code> 的私有类，提供了 <code>ListIterator</code> 的实现。</p>
<div class="gdoc-page__anchorwrap">
    <h2 id="531-private-nodee-lastreturned">
        53.1 private Node<!-- raw HTML omitted --> lastReturned;
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#531-private-nodee-lastreturned" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 53.1 private Node lastReturned;" href="#531-private-nodee-lastreturned">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div><p>最后返回的结点。</p>
<div class="gdoc-page__anchorwrap">
    <h2 id="532-private-nodee-next">
        53.2 private Node<!-- raw HTML omitted --> next;
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#532-private-nodee-next" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 53.2 private Node next;" href="#532-private-nodee-next">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div><p>下一个要返回的结点。</p>
<div class="gdoc-page__anchorwrap">
    <h2 id="533-private-int-nextindex">
        53.3 private int nextIndex;
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#533-private-int-nextindex" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 53.3 private int nextIndex;" href="#533-private-int-nextindex">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div><p>下一个结点的索引位置。</p>
<div class="gdoc-page__anchorwrap">
    <h2 id="534-private-int-expectedmodcount--modcount">
        53.4 private int expectedModCount = modCount;
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#534-private-int-expectedmodcount--modcount" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 53.4 private int expectedModCount = modCount;" href="#534-private-int-expectedmodcount--modcount">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div><p>期望的修改次数。</p>
<div class="gdoc-page__anchorwrap">
    <h2 id="535-listitrint-index">
        53.5 ListItr(int index)
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#535-listitrint-index" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 53.5 ListItr(int index)" href="#535-listitrint-index">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div><p>当前类的唯一构造方法。</p>
<p>该方法的源码如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#000">ListItr</span><span style="color:#000">(</span><span style="color:#a90d91">int</span> <span style="color:#000">index</span><span style="color:#000">)</span> <span style="color:#000">{</span>
    <span style="color:#177500">// assert isPositionIndex(index);
</span><span style="color:#177500"></span>		<span style="color:#177500">// 如果指定的索引等于当前列表的元素个数，则设定下一个结点为null，否则就设置为指定索引位置的结点
</span><span style="color:#177500"></span>    <span style="color:#000">next</span> <span style="color:#000">=</span> <span style="color:#000">(</span><span style="color:#000">index</span> <span style="color:#000">==</span> <span style="color:#000">size</span><span style="color:#000">)</span> <span style="color:#000">?</span> <span style="color:#a90d91">null</span> <span style="color:#000">:</span> <span style="color:#000">node</span><span style="color:#000">(</span><span style="color:#000">index</span><span style="color:#000">);</span>
		<span style="color:#177500">// 设定下一个结点的索引为指定索引
</span><span style="color:#177500"></span>    <span style="color:#000">nextIndex</span> <span style="color:#000">=</span> <span style="color:#000">index</span><span style="color:#000">;</span>
<span style="color:#000">}</span>
</code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="536-public-boolean-hasnext">
        53.6 public boolean hasNext()
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#536-public-boolean-hasnext" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 53.6 public boolean hasNext()" href="#536-public-boolean-hasnext">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div><p>判断当前迭代器是否还有下一个元素。源码如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">public</span> <span style="color:#a90d91">boolean</span> <span style="color:#000">hasNext</span><span style="color:#000">()</span> <span style="color:#000">{</span>
		<span style="color:#177500">// 判断下一个结点的索引是否小于列表的元素个数，若小于则说明还有下一个元素
</span><span style="color:#177500"></span>    <span style="color:#a90d91">return</span> <span style="color:#000">nextIndex</span> <span style="color:#000">&lt;</span> <span style="color:#000">size</span><span style="color:#000">;</span>
<span style="color:#000">}</span>
</code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="537-public-e-next">
        53.7 public E next()
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#537-public-e-next" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 53.7 public E next()" href="#537-public-e-next">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div><p>获取下一个元素。源码如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">public</span> <span style="color:#000">E</span> <span style="color:#000">next</span><span style="color:#000">()</span> <span style="color:#000">{</span>
		<span style="color:#177500">// 检查是否存在并发修改，存在则抛出异常
</span><span style="color:#177500"></span>    <span style="color:#000">checkForComodification</span><span style="color:#000">();</span>
		<span style="color:#177500">// 判断是否有下一个元素，若没有则抛出异常
</span><span style="color:#177500"></span>    <span style="color:#a90d91">if</span> <span style="color:#000">(!</span><span style="color:#000">hasNext</span><span style="color:#000">())</span>
        <span style="color:#a90d91">throw</span> <span style="color:#a90d91">new</span> <span style="color:#000">NoSuchElementException</span><span style="color:#000">();</span>

		<span style="color:#177500">// 设置最后返回的结点为下一个结点
</span><span style="color:#177500"></span>    <span style="color:#000">lastReturned</span> <span style="color:#000">=</span> <span style="color:#000">next</span><span style="color:#000">;</span>
		<span style="color:#177500">// 设置下一个结点的下一个结点为下一个结点，类似于游标后移一位
</span><span style="color:#177500"></span>    <span style="color:#000">next</span> <span style="color:#000">=</span> <span style="color:#000">next</span><span style="color:#000">.</span><span style="color:#836c28">next</span><span style="color:#000">;</span>
		<span style="color:#177500">// 下一个结点索引加1
</span><span style="color:#177500"></span>    <span style="color:#000">nextIndex</span><span style="color:#000">++;</span>
		<span style="color:#177500">// 返回最后返回结点所持有的元素，其实该最后返回的结点正是之前的下一个结点（next）
</span><span style="color:#177500"></span>    <span style="color:#a90d91">return</span> <span style="color:#000">lastReturned</span><span style="color:#000">.</span><span style="color:#836c28">item</span><span style="color:#000">;</span>
<span style="color:#000">}</span>
</code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="538-public-boolean-hasprevious">
        53.8 public boolean hasPrevious()
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#538-public-boolean-hasprevious" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 53.8 public boolean hasPrevious()" href="#538-public-boolean-hasprevious">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div><p>判断前面是否还有元素。源码如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">public</span> <span style="color:#a90d91">boolean</span> <span style="color:#000">hasPrevious</span><span style="color:#000">()</span> <span style="color:#000">{</span>
		<span style="color:#177500">// 判断下一个索引是否大于0，若是，则认定为前面还有元素
</span><span style="color:#177500"></span>    <span style="color:#a90d91">return</span> <span style="color:#000">nextIndex</span> <span style="color:#000">&gt;</span> <span style="color:#000">0</span><span style="color:#000">;</span>
<span style="color:#000">}</span>
</code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="539-public-e-previous">
        53.9 public E previous()
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#539-public-e-previous" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 53.9 public E previous()" href="#539-public-e-previous">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div><p>获取当前迭代器的上一个元素，源码如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">public</span> <span style="color:#000">E</span> <span style="color:#000">previous</span><span style="color:#000">()</span> <span style="color:#000">{</span>
		<span style="color:#177500">// 进行并发修改检查
</span><span style="color:#177500"></span>    <span style="color:#000">checkForComodification</span><span style="color:#000">();</span>
		<span style="color:#177500">// 不存在上一个元素，则抛出异常
</span><span style="color:#177500"></span>    <span style="color:#a90d91">if</span> <span style="color:#000">(!</span><span style="color:#000">hasPrevious</span><span style="color:#000">())</span>
        <span style="color:#a90d91">throw</span> <span style="color:#a90d91">new</span> <span style="color:#000">NoSuchElementException</span><span style="color:#000">();</span>

		<span style="color:#177500">// 如果下一个结点为空，设定上一个返回的结点、下一个结点为列表的尾结点
</span><span style="color:#177500"></span>		<span style="color:#177500">// 如果下一个结点不为空，设定上一个返回的结点、下一个结点为下一个结点的前驱结点
</span><span style="color:#177500"></span>    <span style="color:#000">lastReturned</span> <span style="color:#000">=</span> <span style="color:#000">next</span> <span style="color:#000">=</span> <span style="color:#000">(</span><span style="color:#000">next</span> <span style="color:#000">==</span> <span style="color:#a90d91">null</span><span style="color:#000">)</span> <span style="color:#000">?</span> <span style="color:#000">last</span> <span style="color:#000">:</span> <span style="color:#000">next</span><span style="color:#000">.</span><span style="color:#836c28">prev</span><span style="color:#000">;</span>
		<span style="color:#177500">// 下一个结点的索引减1
</span><span style="color:#177500"></span>    <span style="color:#000">nextIndex</span><span style="color:#000">--;</span>
		<span style="color:#177500">// 返回最后返回结点所持有的元素
</span><span style="color:#177500"></span>    <span style="color:#a90d91">return</span> <span style="color:#000">lastReturned</span><span style="color:#000">.</span><span style="color:#836c28">item</span><span style="color:#000">;</span>
<span style="color:#000">}</span>
</code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="5310-public-int-nextindex">
        53.10 public int nextIndex()
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#5310-public-int-nextindex" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 53.10 public int nextIndex()" href="#5310-public-int-nextindex">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div><p>返回下一个元素的索引，源码如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">public</span> <span style="color:#a90d91">int</span> <span style="color:#000">nextIndex</span><span style="color:#000">()</span> <span style="color:#000">{</span>
    <span style="color:#a90d91">return</span> <span style="color:#000">nextIndex</span><span style="color:#000">;</span>
<span style="color:#000">}</span>
</code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="5311-public-int-previousindex">
        53.11 public int previousIndex()
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#5311-public-int-previousindex" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 53.11 public int previousIndex()" href="#5311-public-int-previousindex">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div><p>返回上一个元素的索引，源码如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">public</span> <span style="color:#a90d91">int</span> <span style="color:#000">previousIndex</span><span style="color:#000">()</span> <span style="color:#000">{</span>
		<span style="color:#177500">// 返回下一个元素的索引减1
</span><span style="color:#177500"></span>    <span style="color:#a90d91">return</span> <span style="color:#000">nextIndex</span> <span style="color:#000">-</span> <span style="color:#000">1</span><span style="color:#000">;</span>
<span style="color:#000">}</span>
</code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="5312-public-void-remove">
        53.12 public void remove()
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#5312-public-void-remove" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 53.12 public void remove()" href="#5312-public-void-remove">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div><p>删除当前遍历到的结点，也即最后返回的结点。源码如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">public</span> <span style="color:#a90d91">void</span> <span style="color:#000">remove</span><span style="color:#000">()</span> <span style="color:#000">{</span>
		<span style="color:#177500">// 进行并发修改检查
</span><span style="color:#177500"></span>    <span style="color:#000">checkForComodification</span><span style="color:#000">();</span>
		<span style="color:#177500">// 如果最后返回的结点为空，则抛出异常
</span><span style="color:#177500"></span>    <span style="color:#a90d91">if</span> <span style="color:#000">(</span><span style="color:#000">lastReturned</span> <span style="color:#000">==</span> <span style="color:#a90d91">null</span><span style="color:#000">)</span>
        <span style="color:#a90d91">throw</span> <span style="color:#a90d91">new</span> <span style="color:#000">IllegalStateException</span><span style="color:#000">();</span>

		<span style="color:#177500">// 取出最后返回结点的下一个结点
</span><span style="color:#177500"></span>    <span style="color:#000">Node</span><span style="color:#000">&lt;</span><span style="color:#000">E</span><span style="color:#000">&gt;</span> <span style="color:#000">lastNext</span> <span style="color:#000">=</span> <span style="color:#000">lastReturned</span><span style="color:#000">.</span><span style="color:#836c28">next</span><span style="color:#000">;</span>
		<span style="color:#177500">// 调用unlink方法拆除最后返回的结点
</span><span style="color:#177500"></span>    <span style="color:#000">unlink</span><span style="color:#000">(</span><span style="color:#000">lastReturned</span><span style="color:#000">);</span>
		<span style="color:#177500">// 如果迭代器的下一个结点和最后返回的结点是同一个，则设置下一个结点为最后返回结点的下一个结点
</span><span style="color:#177500"></span>		<span style="color:#177500">// 否则，下一个结点的索引减1
</span><span style="color:#177500"></span>    <span style="color:#a90d91">if</span> <span style="color:#000">(</span><span style="color:#000">next</span> <span style="color:#000">==</span> <span style="color:#000">lastReturned</span><span style="color:#000">)</span>
        <span style="color:#000">next</span> <span style="color:#000">=</span> <span style="color:#000">lastNext</span><span style="color:#000">;</span>
    <span style="color:#a90d91">else</span>
        <span style="color:#000">nextIndex</span><span style="color:#000">--;</span>
		<span style="color:#177500">// 设定最后返回结点为空
</span><span style="color:#177500"></span>    <span style="color:#000">lastReturned</span> <span style="color:#000">=</span> <span style="color:#a90d91">null</span><span style="color:#000">;</span>
		<span style="color:#177500">// 期望修改次数加1
</span><span style="color:#177500"></span>    <span style="color:#000">expectedModCount</span><span style="color:#000">++;</span>
<span style="color:#000">}</span>
</code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="5313-public-void-sete-e">
        53.13 public void set(E e)
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#5313-public-void-sete-e" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 53.13 public void set(E e)" href="#5313-public-void-sete-e">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div><p>替换最后一次返回的元素为参数中指定的元素。源码如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">public</span> <span style="color:#a90d91">void</span> <span style="color:#000">set</span><span style="color:#000">(</span><span style="color:#000">E</span> <span style="color:#000">e</span><span style="color:#000">)</span> <span style="color:#000">{</span>
		<span style="color:#177500">// 如果最后一次返回的结点为空，则抛出 IllegalStateException
</span><span style="color:#177500"></span>    <span style="color:#a90d91">if</span> <span style="color:#000">(</span><span style="color:#000">lastReturned</span> <span style="color:#000">==</span> <span style="color:#a90d91">null</span><span style="color:#000">)</span>
        <span style="color:#a90d91">throw</span> <span style="color:#a90d91">new</span> <span style="color:#000">IllegalStateException</span><span style="color:#000">();</span>
		<span style="color:#177500">// 检查是否存在并发修改
</span><span style="color:#177500"></span>    <span style="color:#000">checkForComodification</span><span style="color:#000">();</span>
		<span style="color:#177500">// 替换最后一次返回结点所持有的元素
</span><span style="color:#177500"></span>    <span style="color:#000">lastReturned</span><span style="color:#000">.</span><span style="color:#836c28">item</span> <span style="color:#000">=</span> <span style="color:#000">e</span><span style="color:#000">;</span>
<span style="color:#000">}</span>
</code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="5314-public-void-adde-e">
        53.14 public void add(E e)
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#5314-public-void-adde-e" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 53.14 public void add(E e)" href="#5314-public-void-adde-e">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div><p>在最后一次返回的元素之后添加指定的元素。源码如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">public</span> <span style="color:#a90d91">void</span> <span style="color:#000">add</span><span style="color:#000">(</span><span style="color:#000">E</span> <span style="color:#000">e</span><span style="color:#000">)</span> <span style="color:#000">{</span>
		<span style="color:#177500">// 进行并发修改检查
</span><span style="color:#177500"></span>    <span style="color:#000">checkForComodification</span><span style="color:#000">();</span>
		<span style="color:#177500">// 将最后返回的结点置为空
</span><span style="color:#177500"></span>    <span style="color:#000">lastReturned</span> <span style="color:#000">=</span> <span style="color:#a90d91">null</span><span style="color:#000">;</span>
		<span style="color:#177500">// 如果next为空，说明迭代器当前所在的结点即为尾结点，直接使用linkLast方法把指定元素凭借到尾部即可
</span><span style="color:#177500"></span>    <span style="color:#177500">// 如果next不为空，则把指定元素加到next结点之前
</span><span style="color:#177500"></span>		<span style="color:#a90d91">if</span> <span style="color:#000">(</span><span style="color:#000">next</span> <span style="color:#000">==</span> <span style="color:#a90d91">null</span><span style="color:#000">)</span>
        <span style="color:#000">linkLast</span><span style="color:#000">(</span><span style="color:#000">e</span><span style="color:#000">);</span>
    <span style="color:#a90d91">else</span>
        <span style="color:#000">linkBefore</span><span style="color:#000">(</span><span style="color:#000">e</span><span style="color:#000">,</span> <span style="color:#000">next</span><span style="color:#000">);</span>
		<span style="color:#177500">// 下一个元素索引加1
</span><span style="color:#177500"></span>    <span style="color:#000">nextIndex</span><span style="color:#000">++;</span>
		<span style="color:#177500">// 期望并发修改次数加1
</span><span style="color:#177500"></span>    <span style="color:#000">expectedModCount</span><span style="color:#000">++;</span>
<span style="color:#000">}</span>
</code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="5315-public-void-foreachremainingconsumer-super-e-action">
        53.15 public void forEachRemaining(Consumer&lt;? super E&gt; action)
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#5315-public-void-foreachremainingconsumer-super-e-action" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 53.15 public void forEachRemaining(Consumer&lt;? super E&gt; action)" href="#5315-public-void-foreachremainingconsumer-super-e-action">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div><p>对迭代器尚未遍历到的元素执行指定的操作。源码如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">public</span> <span style="color:#a90d91">void</span> <span style="color:#000">forEachRemaining</span><span style="color:#000">(</span><span style="color:#000">Consumer</span><span style="color:#000">&lt;?</span> <span style="color:#a90d91">super</span> <span style="color:#000">E</span><span style="color:#000">&gt;</span> <span style="color:#000">action</span><span style="color:#000">)</span> <span style="color:#000">{</span>
		<span style="color:#177500">// 指定的操作不可为空
</span><span style="color:#177500"></span>    <span style="color:#000">Objects</span><span style="color:#000">.</span><span style="color:#836c28">requireNonNull</span><span style="color:#000">(</span><span style="color:#000">action</span><span style="color:#000">);</span>
		<span style="color:#177500">// 在没有并发修改且尚有未遍历到的元素时进行遍历
</span><span style="color:#177500"></span>    <span style="color:#a90d91">while</span> <span style="color:#000">(</span><span style="color:#000">modCount</span> <span style="color:#000">==</span> <span style="color:#000">expectedModCount</span> <span style="color:#000">&amp;&amp;</span> <span style="color:#000">nextIndex</span> <span style="color:#000">&lt;</span> <span style="color:#000">size</span><span style="color:#000">)</span> <span style="color:#000">{</span>
				<span style="color:#177500">// 对当前遍历到的元素执行给定操作
</span><span style="color:#177500"></span>        <span style="color:#000">action</span><span style="color:#000">.</span><span style="color:#836c28">accept</span><span style="color:#000">(</span><span style="color:#000">next</span><span style="color:#000">.</span><span style="color:#836c28">item</span><span style="color:#000">);</span>
				<span style="color:#177500">// 设置最后返回结点为下一个结点
</span><span style="color:#177500"></span>        <span style="color:#000">lastReturned</span> <span style="color:#000">=</span> <span style="color:#000">next</span><span style="color:#000">;</span>
				<span style="color:#177500">// 设置下一个结点为下一个结点的下一个结点
</span><span style="color:#177500"></span>        <span style="color:#000">next</span> <span style="color:#000">=</span> <span style="color:#000">next</span><span style="color:#000">.</span><span style="color:#836c28">next</span><span style="color:#000">;</span>
				<span style="color:#177500">// 下一个元素索引加1
</span><span style="color:#177500"></span>        <span style="color:#000">nextIndex</span><span style="color:#000">++;</span>
    <span style="color:#000">}</span>
		<span style="color:#177500">// 检查是否存在并发修改
</span><span style="color:#177500"></span>    <span style="color:#000">checkForComodification</span><span style="color:#000">();</span>
<span style="color:#000">}</span>
</code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="5316-final-void-checkforcomodification">
        53.16 final void checkForComodification()
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#5316-final-void-checkforcomodification" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 53.16 final void checkForComodification()" href="#5316-final-void-checkforcomodification">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div><p>检查是否存在并发修改，存在则抛出异常。源码如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">final</span> <span style="color:#a90d91">void</span> <span style="color:#000">checkForComodification</span><span style="color:#000">()</span> <span style="color:#000">{</span>
		<span style="color:#177500">// 当前修改数与期望修改数不同，则抛出并发修改异常
</span><span style="color:#177500"></span>    <span style="color:#a90d91">if</span> <span style="color:#000">(</span><span style="color:#000">modCount</span> <span style="color:#000">!=</span> <span style="color:#000">expectedModCount</span><span style="color:#000">)</span>
        <span style="color:#a90d91">throw</span> <span style="color:#a90d91">new</span> <span style="color:#000">ConcurrentModificationException</span><span style="color:#000">();</span>
<span style="color:#000">}</span>
</code></pre></div><hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="54-private-static-class-nodee">
        54. private static class Node<!-- raw HTML omitted -->
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#54-private-static-class-nodee" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 54. private static class Node" href="#54-private-static-class-nodee">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>链表中的结点，其持有一个元素，并记录当前结点的前驱结点、后继结点。</p>
<div class="gdoc-page__anchorwrap">
    <h2 id="541-e-item">
        54.1 E item;
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#541-e-item" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 54.1 E item;" href="#541-e-item">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div><p>当前结点持有的元素。</p>
<div class="gdoc-page__anchorwrap">
    <h2 id="542-nodee-next">
        54.2 Node<!-- raw HTML omitted --> next;
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#542-nodee-next" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 54.2 Node next;" href="#542-nodee-next">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div><p>当前结点持有的后继结点，用于记录当前结点的下一个结点是哪个。</p>
<div class="gdoc-page__anchorwrap">
    <h2 id="543-nodee-prev">
        54.3 Node<!-- raw HTML omitted --> prev;
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#543-nodee-prev" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 54.3 Node prev;" href="#543-nodee-prev">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div><p>当前结点持有的前驱结点，用于记录当前结点的上一个结点是哪个。</p>
<div class="gdoc-page__anchorwrap">
    <h2 id="544-nodenodee-prev-e-element-nodee-next">
        54.4 Node(Node<!-- raw HTML omitted --> prev, E element, Node<!-- raw HTML omitted --> next)
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#544-nodenodee-prev-e-element-nodee-next" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 54.4 Node(Node prev, E element, Node next)" href="#544-nodenodee-prev-e-element-nodee-next">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div><p>当前结点类的构造函数，也是唯一一个构造函数，用于构造一个结点。参数包括了一个结点的所需的所有要素。</p>
<hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="55-public-iteratore-descendingiterator">
        55. public Iterator<!-- raw HTML omitted --> descendingIterator()
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#55-public-iteratore-descendingiterator" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 55. public Iterator descendingIterator()" href="#55-public-iteratore-descendingiterator">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>获取一个降序的迭代器，即从尾部向头部开始遍历。</p>
<p>该方法创建一个<code>DescendingIterator</code>实例并返回。</p>
<hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="56-private-class-descendingiterator-implements-iteratore">
        56. private class DescendingIterator implements Iterator<!-- raw HTML omitted -->
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#56-private-class-descendingiterator-implements-iteratore" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 56. private class DescendingIterator implements Iterator" href="#56-private-class-descendingiterator-implements-iteratore">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>通过<code>ListItr.previous</code>提供降序迭代器的适配器。</p>
<div class="gdoc-page__anchorwrap">
    <h2 id="561-private-final-listitr-itr--new-listitrsize">
        56.1 private final ListItr itr = new ListItr(size());
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#561-private-final-listitr-itr--new-listitrsize" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 56.1 private final ListItr itr = new ListItr(size());" href="#561-private-final-listitr-itr--new-listitrsize">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div><p><code>ListItr</code> 实例，本类基于此实例对外提供服务。遍历的位置初始化为列表的尾部。</p>
<div class="gdoc-page__anchorwrap">
    <h2 id="562-public-boolean-hasnext">
        56.2 public boolean hasNext()
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#562-public-boolean-hasnext" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 56.2 public boolean hasNext()" href="#562-public-boolean-hasnext">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div><p>判断是否还有下一个，因为此类提供的是反向的遍历。所以， <code>hasNext</code> 返回的是列表是否还有上一个元素。其源码如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">public</span> <span style="color:#a90d91">boolean</span> <span style="color:#000">hasNext</span><span style="color:#000">()</span> <span style="color:#000">{</span>
		<span style="color:#177500">// 遍历方向是从列表的尾部向头部，所以此处返回的是迭代器的hasPrevious()
</span><span style="color:#177500"></span>    <span style="color:#a90d91">return</span> <span style="color:#000">itr</span><span style="color:#000">.</span><span style="color:#836c28">hasPrevious</span><span style="color:#000">();</span>
<span style="color:#000">}</span>
</code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="563-public-e-next">
        56.3 public E next()
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#563-public-e-next" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 56.3 public E next()" href="#563-public-e-next">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div><p>获取下一个要遍历到的元素。此处也与上个方法相同， <code>next</code> 其实是列表的上一个元素。其源码如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">public</span> <span style="color:#000">E</span> <span style="color:#000">next</span><span style="color:#000">()</span> <span style="color:#000">{</span>
    <span style="color:#a90d91">return</span> <span style="color:#000">itr</span><span style="color:#000">.</span><span style="color:#836c28">previous</span><span style="color:#000">();</span>
<span style="color:#000">}</span>
</code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="564-public-void-remove">
        56.4 public void remove()
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#564-public-void-remove" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 56.4 public void remove()" href="#564-public-void-remove">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div><p>删除当前遍历到的结点。源码如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">public</span> <span style="color:#a90d91">void</span> <span style="color:#000">remove</span><span style="color:#000">()</span> <span style="color:#000">{</span>
    <span style="color:#000">itr</span><span style="color:#000">.</span><span style="color:#836c28">remove</span><span style="color:#000">();</span>
<span style="color:#000">}</span>
</code></pre></div><hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="57-private-linkedliste-superclone">
        57. private LinkedList<!-- raw HTML omitted --> superClone()
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#57-private-linkedliste-superclone" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 57. private LinkedList superClone()" href="#57-private-linkedliste-superclone">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>调用父类的 <code>clone</code> 方法，也即 <code>Object.clone</code> 方法，源码如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#000">@SuppressWarnings</span><span style="color:#000">(</span><span style="color:#c41a16">&#34;unchecked&#34;</span><span style="color:#000">)</span>
<span style="color:#a90d91">private</span> <span style="color:#000">LinkedList</span><span style="color:#000">&lt;</span><span style="color:#000">E</span><span style="color:#000">&gt;</span> <span style="color:#000">superClone</span><span style="color:#000">()</span> <span style="color:#000">{</span>
    <span style="color:#a90d91">try</span> <span style="color:#000">{</span>
				<span style="color:#177500">// 调用父类的clone方法
</span><span style="color:#177500"></span>        <span style="color:#a90d91">return</span> <span style="color:#000">(</span><span style="color:#000">LinkedList</span><span style="color:#000">&lt;</span><span style="color:#000">E</span><span style="color:#000">&gt;)</span> <span style="color:#a90d91">super</span><span style="color:#000">.</span><span style="color:#836c28">clone</span><span style="color:#000">();</span>
    <span style="color:#000">}</span> <span style="color:#a90d91">catch</span> <span style="color:#000">(</span><span style="color:#000">CloneNotSupportedException</span> <span style="color:#000">e</span><span style="color:#000">)</span> <span style="color:#000">{</span>
				<span style="color:#177500">// 如果捕获到不支持clone的异常，则包装成内部异常抛出
</span><span style="color:#177500"></span>        <span style="color:#a90d91">throw</span> <span style="color:#a90d91">new</span> <span style="color:#000">InternalError</span><span style="color:#000">(</span><span style="color:#000">e</span><span style="color:#000">);</span>
    <span style="color:#000">}</span>
<span style="color:#000">}</span>
</code></pre></div><hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="58-public-object-clone">
        58. public Object clone()
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#58-public-object-clone" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 58. public Object clone()" href="#58-public-object-clone">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>返回此<code>LinkedList</code>的浅复制副本。 （元素本身不会被克隆）</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">public</span> <span style="color:#000">Object</span> <span style="color:#000">clone</span><span style="color:#000">()</span> <span style="color:#000">{</span>
    <span style="color:#000">LinkedList</span><span style="color:#000">&lt;</span><span style="color:#000">E</span><span style="color:#000">&gt;</span> <span style="color:#000">clone</span> <span style="color:#000">=</span> <span style="color:#000">superClone</span><span style="color:#000">();</span>

		<span style="color:#177500">// 将clone对象置为初始状态
</span><span style="color:#177500"></span>    <span style="color:#177500">// Put clone into &#34;virgin&#34; state
</span><span style="color:#177500"></span>    <span style="color:#000">clone</span><span style="color:#000">.</span><span style="color:#836c28">first</span> <span style="color:#000">=</span> <span style="color:#000">clone</span><span style="color:#000">.</span><span style="color:#836c28">last</span> <span style="color:#000">=</span> <span style="color:#a90d91">null</span><span style="color:#000">;</span>
    <span style="color:#000">clone</span><span style="color:#000">.</span><span style="color:#836c28">size</span> <span style="color:#000">=</span> <span style="color:#000">0</span><span style="color:#000">;</span>
    <span style="color:#000">clone</span><span style="color:#000">.</span><span style="color:#836c28">modCount</span> <span style="color:#000">=</span> <span style="color:#000">0</span><span style="color:#000">;</span>

		<span style="color:#177500">// 为clone对象初始化元素
</span><span style="color:#177500"></span>    <span style="color:#177500">// Initialize clone with our elements
</span><span style="color:#177500"></span>    <span style="color:#a90d91">for</span> <span style="color:#000">(</span><span style="color:#000">Node</span><span style="color:#000">&lt;</span><span style="color:#000">E</span><span style="color:#000">&gt;</span> <span style="color:#000">x</span> <span style="color:#000">=</span> <span style="color:#000">first</span><span style="color:#000">;</span> <span style="color:#000">x</span> <span style="color:#000">!=</span> <span style="color:#a90d91">null</span><span style="color:#000">;</span> <span style="color:#000">x</span> <span style="color:#000">=</span> <span style="color:#000">x</span><span style="color:#000">.</span><span style="color:#836c28">next</span><span style="color:#000">)</span>
        <span style="color:#000">clone</span><span style="color:#000">.</span><span style="color:#836c28">add</span><span style="color:#000">(</span><span style="color:#000">x</span><span style="color:#000">.</span><span style="color:#836c28">item</span><span style="color:#000">);</span>

    <span style="color:#a90d91">return</span> <span style="color:#000">clone</span><span style="color:#000">;</span>
<span style="color:#000">}</span>
</code></pre></div><hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="59-public-object-toarray">
        59. public Object[] toArray()
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#59-public-object-toarray" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 59. public Object[] toArray()" href="#59-public-object-toarray">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>以正确的顺序（从第一个元素到最后一个元素）返回一个包含此列表中所有元素的数组。</p>
<p>返回的数组将是“安全的”，因为此列表不保留对其的引用。 （换句话说，此方法必须分配一个新数组）。因此，调用者可以自由修改返回的数组。</p>
<p>此方法充当基于数组的API和基于集合的API之间的桥梁。</p>
<p>源码如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">public</span> <span style="color:#000">Object</span><span style="color:#000">[]</span> <span style="color:#000">toArray</span><span style="color:#000">()</span> <span style="color:#000">{</span>
		<span style="color:#177500">// 创建一个数组
</span><span style="color:#177500"></span>    <span style="color:#000">Object</span><span style="color:#000">[]</span> <span style="color:#000">result</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">Object</span><span style="color:#000">[</span><span style="color:#000">size</span><span style="color:#000">];</span>
    <span style="color:#a90d91">int</span> <span style="color:#000">i</span> <span style="color:#000">=</span> <span style="color:#000">0</span><span style="color:#000">;</span>
		<span style="color:#177500">// 然后从头开始遍历列表，将每个元素放入数组
</span><span style="color:#177500"></span>    <span style="color:#a90d91">for</span> <span style="color:#000">(</span><span style="color:#000">Node</span><span style="color:#000">&lt;</span><span style="color:#000">E</span><span style="color:#000">&gt;</span> <span style="color:#000">x</span> <span style="color:#000">=</span> <span style="color:#000">first</span><span style="color:#000">;</span> <span style="color:#000">x</span> <span style="color:#000">!=</span> <span style="color:#a90d91">null</span><span style="color:#000">;</span> <span style="color:#000">x</span> <span style="color:#000">=</span> <span style="color:#000">x</span><span style="color:#000">.</span><span style="color:#836c28">next</span><span style="color:#000">)</span>
        <span style="color:#000">result</span><span style="color:#000">[</span><span style="color:#000">i</span><span style="color:#000">++]</span> <span style="color:#000">=</span> <span style="color:#000">x</span><span style="color:#000">.</span><span style="color:#836c28">item</span><span style="color:#000">;</span>
    <span style="color:#a90d91">return</span> <span style="color:#000">result</span><span style="color:#000">;</span>
<span style="color:#000">}</span>
</code></pre></div><hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="60-public-t-t-toarrayt-a">
        60. public <!-- raw HTML omitted --> T[] toArray(T[] a)
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#60-public-t-t-toarrayt-a" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 60. public  T[] toArray(T[] a)" href="#60-public-t-t-toarrayt-a">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>该方法返回一个数组，该数组按正确的顺序包含此列表中的所有元素（从第一个元素到最后一个元素）；返回数组的运行时类型是指定数组的运行时类型。如果列表适合指定的数组，则将其返回。否则，将使用指定数组的运行时类型和此列表的大小分配一个新数组。</p>
<p>如果列表适合指定的数组并有剩余空间（即，数组中的元素多于列表），则紧接列表末尾的数组中的元素将设置为<code>null</code>。 （如果调用者知道列表不包含任何<code>null</code>元素，则这对于确定列表的长度很有用。）</p>
<p>与<code>toArray()</code>方法类似，此方法充当基于数组的API和基于集合的API之间的桥梁。此外，此方法允许对输出数组的运行时类型进行精确控制，并且在某些情况下可以用来节省分配成本。</p>
<p>假设<code>x</code>是已知仅包含字符串的列表。以下代码可用于将列表转储到新分配的<code>String</code>数组中：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#000">String</span><span style="color:#000">[]</span> <span style="color:#000">y</span> <span style="color:#000">=</span> <span style="color:#000">x</span><span style="color:#000">.</span><span style="color:#836c28">toArray</span><span style="color:#000">(</span><span style="color:#a90d91">new</span> <span style="color:#000">String</span><span style="color:#000">[</span><span style="color:#000">0</span><span style="color:#000">]);</span>
</code></pre></div><p>请注意，<code>toArray(new Object[0])</code>在功能上与<code>toArray()</code>相同。</p>
<p>源码如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">public</span> <span style="color:#000">&lt;</span><span style="color:#000">T</span><span style="color:#000">&gt;</span> <span style="color:#000">T</span><span style="color:#000">[]</span> <span style="color:#000">toArray</span><span style="color:#000">(</span><span style="color:#000">T</span><span style="color:#000">[]</span> <span style="color:#000">a</span><span style="color:#000">)</span> <span style="color:#000">{</span>
		<span style="color:#177500">// 如果指定的数组a的长度小于当前列表的长度，则先对数组进行扩容，扩到size大小
</span><span style="color:#177500"></span>    <span style="color:#a90d91">if</span> <span style="color:#000">(</span><span style="color:#000">a</span><span style="color:#000">.</span><span style="color:#836c28">length</span> <span style="color:#000">&lt;</span> <span style="color:#000">size</span><span style="color:#000">)</span>
        <span style="color:#000">a</span> <span style="color:#000">=</span> <span style="color:#000">(</span><span style="color:#000">T</span><span style="color:#000">[])</span><span style="color:#000">java</span><span style="color:#000">.</span><span style="color:#836c28">lang</span><span style="color:#000">.</span><span style="color:#836c28">reflect</span><span style="color:#000">.</span><span style="color:#836c28">Array</span><span style="color:#000">.</span><span style="color:#836c28">newInstance</span><span style="color:#000">(</span>
                            <span style="color:#000">a</span><span style="color:#000">.</span><span style="color:#836c28">getClass</span><span style="color:#000">().</span><span style="color:#836c28">getComponentType</span><span style="color:#000">(),</span> <span style="color:#000">size</span><span style="color:#000">);</span>
    <span style="color:#a90d91">int</span> <span style="color:#000">i</span> <span style="color:#000">=</span> <span style="color:#000">0</span><span style="color:#000">;</span>
    <span style="color:#000">Object</span><span style="color:#000">[]</span> <span style="color:#000">result</span> <span style="color:#000">=</span> <span style="color:#000">a</span><span style="color:#000">;</span>
		<span style="color:#177500">// 从头开始遍历数组，将每个元素放到数组中
</span><span style="color:#177500"></span>    <span style="color:#a90d91">for</span> <span style="color:#000">(</span><span style="color:#000">Node</span><span style="color:#000">&lt;</span><span style="color:#000">E</span><span style="color:#000">&gt;</span> <span style="color:#000">x</span> <span style="color:#000">=</span> <span style="color:#000">first</span><span style="color:#000">;</span> <span style="color:#000">x</span> <span style="color:#000">!=</span> <span style="color:#a90d91">null</span><span style="color:#000">;</span> <span style="color:#000">x</span> <span style="color:#000">=</span> <span style="color:#000">x</span><span style="color:#000">.</span><span style="color:#836c28">next</span><span style="color:#000">)</span>
        <span style="color:#000">result</span><span style="color:#000">[</span><span style="color:#000">i</span><span style="color:#000">++]</span> <span style="color:#000">=</span> <span style="color:#000">x</span><span style="color:#000">.</span><span style="color:#836c28">item</span><span style="color:#000">;</span>

		<span style="color:#177500">// 如果数组a的长度大于列表的size，则设置数组列表元素的后面位置为null
</span><span style="color:#177500"></span>    <span style="color:#a90d91">if</span> <span style="color:#000">(</span><span style="color:#000">a</span><span style="color:#000">.</span><span style="color:#836c28">length</span> <span style="color:#000">&gt;</span> <span style="color:#000">size</span><span style="color:#000">)</span>
        <span style="color:#000">a</span><span style="color:#000">[</span><span style="color:#000">size</span><span style="color:#000">]</span> <span style="color:#000">=</span> <span style="color:#a90d91">null</span><span style="color:#000">;</span>

    <span style="color:#a90d91">return</span> <span style="color:#000">a</span><span style="color:#000">;</span>
<span style="color:#000">}</span>
</code></pre></div><hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="61-private-static-final-long-serialversionuid--876323262645176354l">
        61. private static final long serialVersionUID = 876323262645176354L;
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#61-private-static-final-long-serialversionuid--876323262645176354l" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 61. private static final long serialVersionUID = 876323262645176354L;" href="#61-private-static-final-long-serialversionuid--876323262645176354l">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>序列化版本ID。</p>
<hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="62-private-void-writeobjectjavaioobjectoutputstream-s-throws-javaioioexception">
        62. private void writeObject(java.io.ObjectOutputStream s) throws java.io.IOException
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#62-private-void-writeobjectjavaioobjectoutputstream-s-throws-javaioioexception" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 62. private void writeObject(java.io.ObjectOutputStream s) throws java.io.IOException" href="#62-private-void-writeobjectjavaioobjectoutputstream-s-throws-javaioioexception">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>将此<code>LinkedList</code>实例的状态保存到流中（即，对其进行序列化）。</p>
<p>源码如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">private</span> <span style="color:#a90d91">void</span> <span style="color:#000">writeObject</span><span style="color:#000">(</span><span style="color:#000">java</span><span style="color:#000">.</span><span style="color:#836c28">io</span><span style="color:#000">.</span><span style="color:#836c28">ObjectOutputStream</span> <span style="color:#000">s</span><span style="color:#000">)</span>
    <span style="color:#a90d91">throws</span> <span style="color:#000">java</span><span style="color:#000">.</span><span style="color:#836c28">io</span><span style="color:#000">.</span><span style="color:#836c28">IOException</span> <span style="color:#000">{</span>
		<span style="color:#177500">// 将当前类的非静态和非瞬态字段写入此流
</span><span style="color:#177500"></span>    <span style="color:#177500">// Write out any hidden serialization magic
</span><span style="color:#177500"></span>    <span style="color:#000">s</span><span style="color:#000">.</span><span style="color:#836c28">defaultWriteObject</span><span style="color:#000">();</span>

		<span style="color:#177500">// 写出size
</span><span style="color:#177500"></span>    <span style="color:#177500">// Write out size
</span><span style="color:#177500"></span>    <span style="color:#000">s</span><span style="color:#000">.</span><span style="color:#836c28">writeInt</span><span style="color:#000">(</span><span style="color:#000">size</span><span style="color:#000">);</span>

		<span style="color:#177500">// 写出所有元素
</span><span style="color:#177500"></span>    <span style="color:#177500">// Write out all elements in the proper order.
</span><span style="color:#177500"></span>    <span style="color:#a90d91">for</span> <span style="color:#000">(</span><span style="color:#000">Node</span><span style="color:#000">&lt;</span><span style="color:#000">E</span><span style="color:#000">&gt;</span> <span style="color:#000">x</span> <span style="color:#000">=</span> <span style="color:#000">first</span><span style="color:#000">;</span> <span style="color:#000">x</span> <span style="color:#000">!=</span> <span style="color:#a90d91">null</span><span style="color:#000">;</span> <span style="color:#000">x</span> <span style="color:#000">=</span> <span style="color:#000">x</span><span style="color:#000">.</span><span style="color:#836c28">next</span><span style="color:#000">)</span>
        <span style="color:#000">s</span><span style="color:#000">.</span><span style="color:#836c28">writeObject</span><span style="color:#000">(</span><span style="color:#000">x</span><span style="color:#000">.</span><span style="color:#836c28">item</span><span style="color:#000">);</span>
<span style="color:#000">}</span>
</code></pre></div><hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="63-private-void-readobjectjavaioobjectinputstream-s-throws-javaioioexception-classnotfoundexception">
        63. private void readObject(java.io.ObjectInputStream s) throws java.io.IOException, ClassNotFoundException
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#63-private-void-readobjectjavaioobjectinputstream-s-throws-javaioioexception-classnotfoundexception" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 63. private void readObject(java.io.ObjectInputStream s) throws java.io.IOException, ClassNotFoundException" href="#63-private-void-readobjectjavaioobjectinputstream-s-throws-javaioioexception-classnotfoundexception">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>从流中重新构造此<code>LinkedList</code>实例（即，将其反序列化）。</p>
<p>源码如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">private</span> <span style="color:#a90d91">void</span> <span style="color:#000">readObject</span><span style="color:#000">(</span><span style="color:#000">java</span><span style="color:#000">.</span><span style="color:#836c28">io</span><span style="color:#000">.</span><span style="color:#836c28">ObjectInputStream</span> <span style="color:#000">s</span><span style="color:#000">)</span>
    <span style="color:#a90d91">throws</span> <span style="color:#000">java</span><span style="color:#000">.</span><span style="color:#836c28">io</span><span style="color:#000">.</span><span style="color:#836c28">IOException</span><span style="color:#000">,</span> <span style="color:#000">ClassNotFoundException</span> <span style="color:#000">{</span>
    <span style="color:#177500">// 从此流中读取所有非静态、非瞬态的属性
</span><span style="color:#177500"></span>		<span style="color:#177500">// Read in any hidden serialization magic
</span><span style="color:#177500"></span>    <span style="color:#000">s</span><span style="color:#000">.</span><span style="color:#836c28">defaultReadObject</span><span style="color:#000">();</span>

		<span style="color:#177500">// 读取size
</span><span style="color:#177500"></span>    <span style="color:#177500">// Read in size
</span><span style="color:#177500"></span>    <span style="color:#a90d91">int</span> <span style="color:#000">size</span> <span style="color:#000">=</span> <span style="color:#000">s</span><span style="color:#000">.</span><span style="color:#836c28">readInt</span><span style="color:#000">();</span>

		<span style="color:#177500">// 读取所有元素
</span><span style="color:#177500"></span>    <span style="color:#177500">// Read in all elements in the proper order.
</span><span style="color:#177500"></span>    <span style="color:#a90d91">for</span> <span style="color:#000">(</span><span style="color:#a90d91">int</span> <span style="color:#000">i</span> <span style="color:#000">=</span> <span style="color:#000">0</span><span style="color:#000">;</span> <span style="color:#000">i</span> <span style="color:#000">&lt;</span> <span style="color:#000">size</span><span style="color:#000">;</span> <span style="color:#000">i</span><span style="color:#000">++)</span>
        <span style="color:#000">linkLast</span><span style="color:#000">((</span><span style="color:#000">E</span><span style="color:#000">)</span><span style="color:#000">s</span><span style="color:#000">.</span><span style="color:#836c28">readObject</span><span style="color:#000">());</span>
<span style="color:#000">}</span>
</code></pre></div><hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="64-public-spliteratore-spliterator">
        64. public Spliterator<!-- raw HTML omitted --> spliterator()
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#64-public-spliteratore-spliterator" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 64. public Spliterator spliterator()" href="#64-public-spliteratore-spliterator">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>创建一个包含此列表所有元素的“后期绑定”和“快速失败”的 <code>Spliterator</code> 。</p>
<p>该<code>Spliterator</code>报告<code>SIZED</code>和<code>ORDERED</code>。重写该实现时应记录其他特征值的报告。</p>
<p><code>Spliterator</code>还报告<code>SUBSIZED</code>并实现<code>trySplit</code>以允许有限的并行性。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#000">@Override</span>
<span style="color:#a90d91">public</span> <span style="color:#000">Spliterator</span><span style="color:#000">&lt;</span><span style="color:#000">E</span><span style="color:#000">&gt;</span> <span style="color:#000">spliterator</span><span style="color:#000">()</span> <span style="color:#000">{</span>
    <span style="color:#a90d91">return</span> <span style="color:#a90d91">new</span> <span style="color:#000">LLSpliterator</span><span style="color:#000">&lt;</span><span style="color:#000">E</span><span style="color:#000">&gt;(</span><span style="color:#a90d91">this</span><span style="color:#000">,</span> <span style="color:#000">-</span><span style="color:#000">1</span><span style="color:#000">,</span> <span style="color:#000">0</span><span style="color:#000">);</span>
<span style="color:#000">}</span>
</code></pre></div><hr>
<div class="gdoc-page__anchorwrap">
    <h1 id="65-static-final-class-llspliteratore-implements-spliteratore">
        65. static final class LLSpliterator<!-- raw HTML omitted --> implements Spliterator<!-- raw HTML omitted -->
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#65-static-final-class-llspliteratore-implements-spliteratore" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 65. static final class LLSpliterator implements Spliterator" href="#65-static-final-class-llspliteratore-implements-spliteratore">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p><code>LinkedList</code>的拆分器实现，其 <code>LL</code> 即 <code>LinkedList</code> 的缩写。</p>
<div class="gdoc-page__anchorwrap">
    <h2 id="651-static-final-int-batch_unit--1--10">
        65.1 static final int BATCH_UNIT = 1 &laquo; 10;
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#651-static-final-int-batch_unit--1--10" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 65.1 static final int BATCH_UNIT = 1 &laquo; 10;" href="#651-static-final-int-batch_unit--1--10">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div><p>批处理数组大小的增量，默认为1024。</p>
<div class="gdoc-page__anchorwrap">
    <h2 id="652-static-final-int-max_batch--1--25">
        65.2 static final int MAX_BATCH = 1 &laquo; 25;
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#652-static-final-int-max_batch--1--25" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 65.2 static final int MAX_BATCH = 1 &laquo; 25;" href="#652-static-final-int-max_batch--1--25">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div><p>批次最大数组大小，默认为33554432。因为拆分的时候会将“被拆分出”结点的元素放入数组，然后再构建成拆分器返回，此字段即是此处用作限制该数组容量上限的。</p>
<div class="gdoc-page__anchorwrap">
    <h2 id="653-final-linkedliste-list">
        65.3 final LinkedList<!-- raw HTML omitted --> list;
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#653-final-linkedliste-list" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 65.3 final LinkedList list;" href="#653-final-linkedliste-list">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div><p>该拆分器所持有的<code>LinkedList</code>，除非遍历，否则可为<code>null</code>。</p>
<div class="gdoc-page__anchorwrap">
    <h2 id="654-nodee-current">
        65.4 Node<!-- raw HTML omitted --> current;
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#654-nodee-current" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 65.4 Node current;" href="#654-nodee-current">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div><p>当前结点，在初始化之前为<code>null</code>。</p>
<div class="gdoc-page__anchorwrap">
    <h2 id="655-int-est">
        65.5 int est;
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#655-int-est" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 65.5 int est;" href="#655-int-est">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div><p>估计的大小，在第一次需要之前为-1。</p>
<div class="gdoc-page__anchorwrap">
    <h2 id="656-int-expectedmodcount">
        65.6 int expectedModCount;
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#656-int-expectedmodcount" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 65.6 int expectedModCount;" href="#656-int-expectedmodcount">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div><p>期望修改次数，设置 <code>est</code> 时初始化。</p>
<div class="gdoc-page__anchorwrap">
    <h2 id="656-int-batch">
        65.6 int batch;
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#656-int-batch" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 65.6 int batch;" href="#656-int-batch">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div><p>拆分的批次大小。</p>
<div class="gdoc-page__anchorwrap">
    <h2 id="657-llspliteratorlinkedliste-list-int-est-int-expectedmodcount">
        65.7 LLSpliterator(LinkedList<!-- raw HTML omitted --> list, int est, int expectedModCount)
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#657-llspliteratorlinkedliste-list-int-est-int-expectedmodcount" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 65.7 LLSpliterator(LinkedList list, int est, int expectedModCount)" href="#657-llspliteratorlinkedliste-list-int-est-int-expectedmodcount">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div><p>当前类唯一的构造方法。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#000">LLSpliterator</span><span style="color:#000">(</span><span style="color:#000">LinkedList</span><span style="color:#000">&lt;</span><span style="color:#000">E</span><span style="color:#000">&gt;</span> <span style="color:#000">list</span><span style="color:#000">,</span> <span style="color:#a90d91">int</span> <span style="color:#000">est</span><span style="color:#000">,</span> <span style="color:#a90d91">int</span> <span style="color:#000">expectedModCount</span><span style="color:#000">)</span> <span style="color:#000">{</span>
		<span style="color:#177500">// 设定属性值
</span><span style="color:#177500"></span>    <span style="color:#a90d91">this</span><span style="color:#000">.</span><span style="color:#836c28">list</span> <span style="color:#000">=</span> <span style="color:#000">list</span><span style="color:#000">;</span>
    <span style="color:#a90d91">this</span><span style="color:#000">.</span><span style="color:#836c28">est</span> <span style="color:#000">=</span> <span style="color:#000">est</span><span style="color:#000">;</span>
    <span style="color:#a90d91">this</span><span style="color:#000">.</span><span style="color:#836c28">expectedModCount</span> <span style="color:#000">=</span> <span style="color:#000">expectedModCount</span><span style="color:#000">;</span>
<span style="color:#000">}</span>
</code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="658-final-int-getest">
        65.8 final int getEst()
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#658-final-int-getest" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 65.8 final int getEst()" href="#658-final-int-getest">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div><p>获取列表预估的大小。主要用途包括确认是从头部开始遍历还是尾部开始遍历。</p>
<p>源代码如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">final</span> <span style="color:#a90d91">int</span> <span style="color:#000">getEst</span><span style="color:#000">()</span> <span style="color:#000">{</span>
    <span style="color:#a90d91">int</span> <span style="color:#000">s</span><span style="color:#000">;</span> <span style="color:#177500">// force initialization
</span><span style="color:#177500"></span>    <span style="color:#a90d91">final</span> <span style="color:#000">LinkedList</span><span style="color:#000">&lt;</span><span style="color:#000">E</span><span style="color:#000">&gt;</span> <span style="color:#000">lst</span><span style="color:#000">;</span>
		<span style="color:#177500">// 判断如果预估的大小大于0，则直接返回。因为est在第一次使用前为-1
</span><span style="color:#177500"></span>    <span style="color:#a90d91">if</span> <span style="color:#000">((</span><span style="color:#000">s</span> <span style="color:#000">=</span> <span style="color:#000">est</span><span style="color:#000">)</span> <span style="color:#000">&lt;</span> <span style="color:#000">0</span><span style="color:#000">)</span> <span style="color:#000">{</span>
        <span style="color:#a90d91">if</span> <span style="color:#000">((</span><span style="color:#000">lst</span> <span style="color:#000">=</span> <span style="color:#000">list</span><span style="color:#000">)</span> <span style="color:#000">==</span> <span style="color:#a90d91">null</span><span style="color:#000">)</span>
						<span style="color:#177500">// 如果列表为空，则预估大小为0
</span><span style="color:#177500"></span>            <span style="color:#000">s</span> <span style="color:#000">=</span> <span style="color:#000">est</span> <span style="color:#000">=</span> <span style="color:#000">0</span><span style="color:#000">;</span>
        <span style="color:#a90d91">else</span> <span style="color:#000">{</span>
						<span style="color:#177500">// 列表不为空
</span><span style="color:#177500"></span>						<span style="color:#177500">// 赋值期望修改次数为列表的修改次数
</span><span style="color:#177500"></span>            <span style="color:#000">expectedModCount</span> <span style="color:#000">=</span> <span style="color:#000">lst</span><span style="color:#000">.</span><span style="color:#836c28">modCount</span><span style="color:#000">;</span>
						<span style="color:#177500">// 设置当前结点为列表的头结点
</span><span style="color:#177500"></span>            <span style="color:#000">current</span> <span style="color:#000">=</span> <span style="color:#000">lst</span><span style="color:#000">.</span><span style="color:#836c28">first</span><span style="color:#000">;</span>
						<span style="color:#177500">// 设置预估大小为列表的大小
</span><span style="color:#177500"></span>            <span style="color:#000">s</span> <span style="color:#000">=</span> <span style="color:#000">est</span> <span style="color:#000">=</span> <span style="color:#000">lst</span><span style="color:#000">.</span><span style="color:#836c28">size</span><span style="color:#000">;</span>
        <span style="color:#000">}</span>
    <span style="color:#000">}</span>
    <span style="color:#a90d91">return</span> <span style="color:#000">s</span><span style="color:#000">;</span>
<span style="color:#000">}</span>
</code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="659-public-long-estimatesize">
        65.9 public long estimateSize()
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#659-public-long-estimatesize" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 65.9 public long estimateSize()" href="#659-public-long-estimatesize">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div><p>获取预估大小，其实就是 <code>getEst()</code> 的 <code>public</code> 版本。不同之处还在于，当前方法会把返回结果强转为 <code>long</code> 类型。</p>
<p>源码如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">public</span> <span style="color:#a90d91">long</span> <span style="color:#000">estimateSize</span><span style="color:#000">()</span> <span style="color:#000">{</span> <span style="color:#a90d91">return</span> <span style="color:#000">(</span><span style="color:#a90d91">long</span><span style="color:#000">)</span> <span style="color:#000">getEst</span><span style="color:#000">();</span> <span style="color:#000">}</span>
</code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="6510-public-spliteratore-trysplit">
        65.10 public Spliterator<!-- raw HTML omitted --> trySplit()
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#6510-public-spliteratore-trysplit" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 65.10 public Spliterator trySplit()" href="#6510-public-spliteratore-trysplit">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div><p>执行拆分。源码如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">public</span> <span style="color:#000">Spliterator</span><span style="color:#000">&lt;</span><span style="color:#000">E</span><span style="color:#000">&gt;</span> <span style="color:#000">trySplit</span><span style="color:#000">()</span> <span style="color:#000">{</span>
    <span style="color:#000">Node</span><span style="color:#000">&lt;</span><span style="color:#000">E</span><span style="color:#000">&gt;</span> <span style="color:#000">p</span><span style="color:#000">;</span>
		<span style="color:#177500">// 获取预估大小
</span><span style="color:#177500"></span>    <span style="color:#a90d91">int</span> <span style="color:#000">s</span> <span style="color:#000">=</span> <span style="color:#000">getEst</span><span style="color:#000">();</span>
		<span style="color:#177500">// 预估大小大于1 且 当前结点不为空 才执行拆分，否则返回空
</span><span style="color:#177500"></span>    <span style="color:#a90d91">if</span> <span style="color:#000">(</span><span style="color:#000">s</span> <span style="color:#000">&gt;</span> <span style="color:#000">1</span> <span style="color:#000">&amp;&amp;</span> <span style="color:#000">(</span><span style="color:#000">p</span> <span style="color:#000">=</span> <span style="color:#000">current</span><span style="color:#000">)</span> <span style="color:#000">!=</span> <span style="color:#a90d91">null</span><span style="color:#000">)</span> <span style="color:#000">{</span>
				<span style="color:#177500">// n取当前批次数 + 批次增量、列表预估大小、最大批次数组大小 三者中最小的那个
</span><span style="color:#177500"></span>        <span style="color:#a90d91">int</span> <span style="color:#000">n</span> <span style="color:#000">=</span> <span style="color:#000">batch</span> <span style="color:#000">+</span> <span style="color:#000">BATCH_UNIT</span><span style="color:#000">;</span>
        <span style="color:#a90d91">if</span> <span style="color:#000">(</span><span style="color:#000">n</span> <span style="color:#000">&gt;</span> <span style="color:#000">s</span><span style="color:#000">)</span>
            <span style="color:#000">n</span> <span style="color:#000">=</span> <span style="color:#000">s</span><span style="color:#000">;</span>
        <span style="color:#a90d91">if</span> <span style="color:#000">(</span><span style="color:#000">n</span> <span style="color:#000">&gt;</span> <span style="color:#000">MAX_BATCH</span><span style="color:#000">)</span>
            <span style="color:#000">n</span> <span style="color:#000">=</span> <span style="color:#000">MAX_BATCH</span><span style="color:#000">;</span>
				<span style="color:#177500">// 声明一个对象数组，容量为前面计算出的n
</span><span style="color:#177500"></span>        <span style="color:#000">Object</span><span style="color:#000">[]</span> <span style="color:#000">a</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">Object</span><span style="color:#000">[</span><span style="color:#000">n</span><span style="color:#000">];</span>
        <span style="color:#a90d91">int</span> <span style="color:#000">j</span> <span style="color:#000">=</span> <span style="color:#000">0</span><span style="color:#000">;</span>
				<span style="color:#177500">// 从当前结点开始往后遍历，取出每个结点的元素放入数组，直至列表末尾或数组被塞满
</span><span style="color:#177500"></span>        <span style="color:#a90d91">do</span> <span style="color:#000">{</span> <span style="color:#000">a</span><span style="color:#000">[</span><span style="color:#000">j</span><span style="color:#000">++]</span> <span style="color:#000">=</span> <span style="color:#000">p</span><span style="color:#000">.</span><span style="color:#836c28">item</span><span style="color:#000">;</span> <span style="color:#000">}</span> <span style="color:#a90d91">while</span> <span style="color:#000">((</span><span style="color:#000">p</span> <span style="color:#000">=</span> <span style="color:#000">p</span><span style="color:#000">.</span><span style="color:#836c28">next</span><span style="color:#000">)</span> <span style="color:#000">!=</span> <span style="color:#a90d91">null</span> <span style="color:#000">&amp;&amp;</span> <span style="color:#000">j</span> <span style="color:#000">&lt;</span> <span style="color:#000">n</span><span style="color:#000">);</span>
				<span style="color:#177500">// 将上面遍历到的最后一个结点设置为拆分器的当前结点
</span><span style="color:#177500"></span>        <span style="color:#000">current</span> <span style="color:#000">=</span> <span style="color:#000">p</span><span style="color:#000">;</span>
				<span style="color:#177500">// 将上面遍历的结点个数设置为拆分器的批次大小
</span><span style="color:#177500"></span>        <span style="color:#000">batch</span> <span style="color:#000">=</span> <span style="color:#000">j</span><span style="color:#000">;</span>
				<span style="color:#177500">// 设置拆分器的预估大小为上一次的预估大小减去本次拆分出的结点数
</span><span style="color:#177500"></span>        <span style="color:#000">est</span> <span style="color:#000">=</span> <span style="color:#000">s</span> <span style="color:#000">-</span> <span style="color:#000">j</span><span style="color:#000">;</span>
				<span style="color:#177500">// 基于以上条件构造一个拆分器并返回
</span><span style="color:#177500"></span>        <span style="color:#a90d91">return</span> <span style="color:#000">Spliterators</span><span style="color:#000">.</span><span style="color:#836c28">spliterator</span><span style="color:#000">(</span><span style="color:#000">a</span><span style="color:#000">,</span> <span style="color:#000">0</span><span style="color:#000">,</span> <span style="color:#000">j</span><span style="color:#000">,</span> <span style="color:#000">Spliterator</span><span style="color:#000">.</span><span style="color:#836c28">ORDERED</span><span style="color:#000">);</span>
    <span style="color:#000">}</span>
    <span style="color:#a90d91">return</span> <span style="color:#a90d91">null</span><span style="color:#000">;</span>
<span style="color:#000">}</span>
</code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="6511-public-void-foreachremainingconsumer-super-e-action">
        65.11 public void forEachRemaining(Consumer&lt;? super E&gt; action)
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#6511-public-void-foreachremainingconsumer-super-e-action" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 65.11 public void forEachRemaining(Consumer&lt;? super E&gt; action)" href="#6511-public-void-foreachremainingconsumer-super-e-action">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div><p>对当前拆分器的剩余未遍历到的元素执行给定的操作。</p>
<p>源码如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">public</span> <span style="color:#a90d91">void</span> <span style="color:#000">forEachRemaining</span><span style="color:#000">(</span><span style="color:#000">Consumer</span><span style="color:#000">&lt;?</span> <span style="color:#a90d91">super</span> <span style="color:#000">E</span><span style="color:#000">&gt;</span> <span style="color:#000">action</span><span style="color:#000">)</span> <span style="color:#000">{</span>
    <span style="color:#000">Node</span><span style="color:#000">&lt;</span><span style="color:#000">E</span><span style="color:#000">&gt;</span> <span style="color:#000">p</span><span style="color:#000">;</span> <span style="color:#a90d91">int</span> <span style="color:#000">n</span><span style="color:#000">;</span>
		<span style="color:#177500">// 指定操作不可为空
</span><span style="color:#177500"></span>    <span style="color:#a90d91">if</span> <span style="color:#000">(</span><span style="color:#000">action</span> <span style="color:#000">==</span> <span style="color:#a90d91">null</span><span style="color:#000">)</span> <span style="color:#a90d91">throw</span> <span style="color:#a90d91">new</span> <span style="color:#000">NullPointerException</span><span style="color:#000">();</span>
		<span style="color:#177500">// 仅在拆分器的预估大小大于0 并且 当前结点不为空时执行
</span><span style="color:#177500"></span>    <span style="color:#a90d91">if</span> <span style="color:#000">((</span><span style="color:#000">n</span> <span style="color:#000">=</span> <span style="color:#000">getEst</span><span style="color:#000">())</span> <span style="color:#000">&gt;</span> <span style="color:#000">0</span> <span style="color:#000">&amp;&amp;</span> <span style="color:#000">(</span><span style="color:#000">p</span> <span style="color:#000">=</span> <span style="color:#000">current</span><span style="color:#000">)</span> <span style="color:#000">!=</span> <span style="color:#a90d91">null</span><span style="color:#000">)</span> <span style="color:#000">{</span>
				<span style="color:#177500">// 将当前结点置为null，也就是遍历完成后的状态
</span><span style="color:#177500"></span>        <span style="color:#000">current</span> <span style="color:#000">=</span> <span style="color:#a90d91">null</span><span style="color:#000">;</span>
				<span style="color:#177500">// 将预估大小置为null，也就是遍历完成后的状态
</span><span style="color:#177500"></span>        <span style="color:#000">est</span> <span style="color:#000">=</span> <span style="color:#000">0</span><span style="color:#000">;</span>
				<span style="color:#177500">// 从当前结点开始遍历，直接拆分器持有的最后一个结点，对每个元素执行给定操作
</span><span style="color:#177500"></span>        <span style="color:#a90d91">do</span> <span style="color:#000">{</span>
            <span style="color:#000">E</span> <span style="color:#000">e</span> <span style="color:#000">=</span> <span style="color:#000">p</span><span style="color:#000">.</span><span style="color:#836c28">item</span><span style="color:#000">;</span>
            <span style="color:#000">p</span> <span style="color:#000">=</span> <span style="color:#000">p</span><span style="color:#000">.</span><span style="color:#836c28">next</span><span style="color:#000">;</span>
            <span style="color:#000">action</span><span style="color:#000">.</span><span style="color:#836c28">accept</span><span style="color:#000">(</span><span style="color:#000">e</span><span style="color:#000">);</span>
        <span style="color:#000">}</span> <span style="color:#a90d91">while</span> <span style="color:#000">(</span><span style="color:#000">p</span> <span style="color:#000">!=</span> <span style="color:#a90d91">null</span> <span style="color:#000">&amp;&amp;</span> <span style="color:#000">--</span><span style="color:#000">n</span> <span style="color:#000">&gt;</span> <span style="color:#000">0</span><span style="color:#000">);</span>
    <span style="color:#000">}</span>
		<span style="color:#177500">// 执行并发修改检查
</span><span style="color:#177500"></span>    <span style="color:#a90d91">if</span> <span style="color:#000">(</span><span style="color:#000">list</span><span style="color:#000">.</span><span style="color:#836c28">modCount</span> <span style="color:#000">!=</span> <span style="color:#000">expectedModCount</span><span style="color:#000">)</span>
        <span style="color:#a90d91">throw</span> <span style="color:#a90d91">new</span> <span style="color:#000">ConcurrentModificationException</span><span style="color:#000">();</span>
<span style="color:#000">}</span>
</code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="6512-public-boolean-tryadvanceconsumer-super-e-action">
        65.12 public boolean tryAdvance(Consumer&lt;? super E&gt; action)
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#6512-public-boolean-tryadvanceconsumer-super-e-action" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 65.12 public boolean tryAdvance(Consumer&lt;? super E&gt; action)" href="#6512-public-boolean-tryadvanceconsumer-super-e-action">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div><p>对当前拆分器的当前结点执行给定的操作。</p>
<p>源码如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">public</span> <span style="color:#a90d91">boolean</span> <span style="color:#000">tryAdvance</span><span style="color:#000">(</span><span style="color:#000">Consumer</span><span style="color:#000">&lt;?</span> <span style="color:#a90d91">super</span> <span style="color:#000">E</span><span style="color:#000">&gt;</span> <span style="color:#000">action</span><span style="color:#000">)</span> <span style="color:#000">{</span>
    <span style="color:#000">Node</span><span style="color:#000">&lt;</span><span style="color:#000">E</span><span style="color:#000">&gt;</span> <span style="color:#000">p</span><span style="color:#000">;</span>
		<span style="color:#177500">// 给定操作不可为空
</span><span style="color:#177500"></span>    <span style="color:#a90d91">if</span> <span style="color:#000">(</span><span style="color:#000">action</span> <span style="color:#000">==</span> <span style="color:#a90d91">null</span><span style="color:#000">)</span> <span style="color:#a90d91">throw</span> <span style="color:#a90d91">new</span> <span style="color:#000">NullPointerException</span><span style="color:#000">();</span>
		<span style="color:#177500">// 预估大小大于0 并且 当前结点不为空才执行
</span><span style="color:#177500"></span>    <span style="color:#a90d91">if</span> <span style="color:#000">(</span><span style="color:#000">getEst</span><span style="color:#000">()</span> <span style="color:#000">&gt;</span> <span style="color:#000">0</span> <span style="color:#000">&amp;&amp;</span> <span style="color:#000">(</span><span style="color:#000">p</span> <span style="color:#000">=</span> <span style="color:#000">current</span><span style="color:#000">)</span> <span style="color:#000">!=</span> <span style="color:#a90d91">null</span><span style="color:#000">)</span> <span style="color:#000">{</span>
				<span style="color:#177500">// 对预估大小执行减1操作
</span><span style="color:#177500"></span>        <span style="color:#000">--</span><span style="color:#000">est</span><span style="color:#000">;</span>
				<span style="color:#177500">// 取出当前结点所持有的元素
</span><span style="color:#177500"></span>        <span style="color:#000">E</span> <span style="color:#000">e</span> <span style="color:#000">=</span> <span style="color:#000">p</span><span style="color:#000">.</span><span style="color:#836c28">item</span><span style="color:#000">;</span>
				<span style="color:#177500">// 设置当前结点为下一个结点
</span><span style="color:#177500"></span>        <span style="color:#000">current</span> <span style="color:#000">=</span> <span style="color:#000">p</span><span style="color:#000">.</span><span style="color:#836c28">next</span><span style="color:#000">;</span>
				<span style="color:#177500">// 对元素执行给定的操作
</span><span style="color:#177500"></span>        <span style="color:#000">action</span><span style="color:#000">.</span><span style="color:#836c28">accept</span><span style="color:#000">(</span><span style="color:#000">e</span><span style="color:#000">);</span>
				<span style="color:#177500">// 判断是否存在并发修改
</span><span style="color:#177500"></span>        <span style="color:#a90d91">if</span> <span style="color:#000">(</span><span style="color:#000">list</span><span style="color:#000">.</span><span style="color:#836c28">modCount</span> <span style="color:#000">!=</span> <span style="color:#000">expectedModCount</span><span style="color:#000">)</span>
            <span style="color:#a90d91">throw</span> <span style="color:#a90d91">new</span> <span style="color:#000">ConcurrentModificationException</span><span style="color:#000">();</span>
				<span style="color:#177500">// 返回成功
</span><span style="color:#177500"></span>        <span style="color:#a90d91">return</span> <span style="color:#a90d91">true</span><span style="color:#000">;</span>
    <span style="color:#000">}</span>
    <span style="color:#a90d91">return</span> <span style="color:#a90d91">false</span><span style="color:#000">;</span>
<span style="color:#000">}</span>
</code></pre></div><div class="gdoc-page__anchorwrap">
    <h2 id="6513-public-int-characteristics">
        65.13 public int characteristics()
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/LinkedList/#6513-public-int-characteristics" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 65.13 public int characteristics()" href="#6513-public-int-characteristics">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div><p>返回当前拆分器的特征值。源码如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">public</span> <span style="color:#a90d91">int</span> <span style="color:#000">characteristics</span><span style="color:#000">()</span> <span style="color:#000">{</span>
    <span style="color:#a90d91">return</span> <span style="color:#000">Spliterator</span><span style="color:#000">.</span><span style="color:#836c28">ORDERED</span> <span style="color:#000">|</span> <span style="color:#000">Spliterator</span><span style="color:#000">.</span><span style="color:#836c28">SIZED</span> <span style="color:#000">|</span> <span style="color:#000">Spliterator</span><span style="color:#000">.</span><span style="color:#836c28">SUBSIZED</span><span style="color:#000">;</span>
<span style="color:#000">}</span>
</code></pre></div>

    </article>

                








    
    

    
        
        

        
        
            
            
            

            

            

            
        

        
        
            
    
    

    
        
        

        
        
            
            
            

            

            

            
        

        
        
            
    
    

    
        
        

        
        
            
            
            

            

            

            
        

        
        
    
        
        

        
        
            
            
            

            

            

            
        

        
        
    
        
        

        
        
            
            
            

            

            

            
        

        
        
    
        
        

        
        
            
            
            

            

            

            
        

        
        
    
        
        

        
        
            
            
            

            

            

            
        

        
        
    
        
        

        
        
            
            
            

            

            

            
        

        
        
    
        
        

        
        
            
            
            

            

            

            
        

        
        
    
        
        

        
        
            
            
            

            

            
                
                
            

            
        

        
        
    
        
        

        
        
            
            
            

            
                
                
            

            

            
        

        
        
    
        
        

        
        
            
            
            

            

            

            
        

        
        
    
        
        

        
        
            
            
            

            

            

            
        

        
        
    
        
        

        
        
            
            
            

            

            

            
        

        
        
    
        
        

        
        
            
            
            

            

            

            
        

        
        
    
        
        

        
        
            
            
            

            

            

            
        

        
        
    

        
    

        
    





<div class="gdoc-page__footer flex flex-wrap justify-between">
    
    
        <span class="gdoc-page__nav">
            
                <a class="gdoc-page__nav--prev flex align-center" href="/jdk8-src-note/java/util/Iterator/" title="Iterator"> Iterator</a>
            
        </span>
        <span class="gdoc-page__nav">
            
                <a class="gdoc-page__nav--next flex align-center" href="/jdk8-src-note/java/util/List/" title="List">List </a>
            
        </span>
    
</div>

            </div>
        </main>

        <footer class="gdoc-footer">
    <div class="container flex flex-wrap">
        <span class="gdoc-footer__item">
            Built with <a href="https://gohugo.io/" class="gdoc-footer__link">Hugo</a> and
            <svg class="icon gdoc_heart"><use xlink:href="#gdoc_heart"></use></svg>
        </span>
        
        
    </div>
</footer>

    </div>

    




<script defer src="/jdk8-src-note/js/zh-cn.search.min.66b6c7df3c6f2d0291b704e6db2fe9e9a92262e2fc4e3539b6304773a4fed5a6.js"></script>



<script defer src="/jdk8-src-note/js/clipboard-27784b7376.min.js"></script>
<script defer src="/jdk8-src-note/js/clipboard-loader-f0b5fbd5f6.min.js"></script>


</body>
</html>
