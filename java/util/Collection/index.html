<!DOCTYPE html>
<html lang="en" class="color-toggle-hidden">

<head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light dark" />





    <meta name="description" content="1. int size() 2. boolean isEmpty() 3. boolean contains(Object o) 4. Iteratoriterator() 5. Object[] toArray() 6. T[] toArray(T[] a) 7. boolean add(E e) 8. boolean remove(Object o) 9. boolean containsAll(Collection&lt;?&gt; c) 10. boolean addAll(Collection&lt;? extends E&gt; c) 11. boolean removeAll(Collection&lt;?&gt; c) 12. default boolean removeIf(Predicate&lt;? super E&gt; filter) 13. boolean retainAll(Collection&lt;?&gt; c) 14. void clear() 15. boolean equals(Object o) 16. int hashCode() 17. default Spliteratorspliterator() 18. default Streamstream() 19.">



    <title>Collection | JDK8源码阅读笔记</title>

    <link rel="icon" href="/jdk8-src-note/favicon/favicon-32x32.png" type="image/x-icon">

    <script src="/jdk8-src-note/js/darkmode-ce906ea916.min.js"></script>

<link rel="preload" as="font" href="/jdk8-src-note/fonts/Metropolis.woff2" type="font/woff2" crossorigin="anonymous">
<link rel="preload" as="font" href="/jdk8-src-note/fonts/LiberationSans.woff2" type="font/woff2" crossorigin="anonymous">

<link rel="preload" href="/jdk8-src-note/main-cc3cbe901b.min.css" as="style">
<link rel="stylesheet" href="/jdk8-src-note/main-cc3cbe901b.min.css" media="all">

<link rel="preload" href="/jdk8-src-note/mobile-249b801e7d.min.css" as="style">
<link rel="stylesheet" href="/jdk8-src-note/mobile-249b801e7d.min.css" media="screen and (max-width: 45rem)">

<link rel="preload" href="/jdk8-src-note/print-f79fc3e5d7.min.css" as="style">
<link rel="stylesheet" href="/jdk8-src-note/print-f79fc3e5d7.min.css" media="print">

<link rel="preload" href="/jdk8-src-note/custom.css" as="style">
<link rel="stylesheet" href="/jdk8-src-note/custom.css" media="all">



<!-- Made with Geekdoc theme https://github.com/thegeeklab/hugo-geekdoc -->

    

</head>

<body itemscope itemtype="https://schema.org/WebPage">
    
<!-- geekdoc include: sprites/abstractClass.svg -->
<svg  id="abstractClass" class="svg-sprite" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 16 16">
  <defs>
    <rect id="abstractclass-a" width="8" height="14"/>
  </defs>
  <g fill="none" fill-rule="evenodd">
    <path fill="#9AA7B0" fill-opacity=".8" d="M3 3.1055C1.764 4.3685 1 6.0935 1 8.0005 1 9.9065 1.764 11.6315 3 12.8945L3 3.1055zM13 3.1055L13 12.8945C14.236 11.6315 15 9.9065 15 8.0005 15 6.0935 14.236 4.3675 13 3.1055"/>
    <g transform="translate(4 1)">
      <mask id="abstractclass-b" fill="#fff">
        <use xlink:href="#abstractclass-a"/>
      </mask>
      <g mask="url(#abstractclass-b)">
        <g transform="translate(-4 -1)">
          <path fill="#40B6E0" fill-opacity=".6" d="M15,8 C15,11.866 11.866,15 8,15 C4.134,15 1,11.866 1,8 C1,4.134 4.134,1 8,1 C11.866,1 15,4.134 15,8"/>
          <path fill="#231F20" fill-opacity=".7" d="M5,4.28253174 C4.53,4.74153174 4.028,4.978 3.1,5 C2.061,5.022 1,4.2794 1,3.0004 C1,1.7124 1.971,1 3.1,1 C3.94833171,1 4.54833171,1.18475342 4.9,1.55426025 L5.5162,0.836730957 C4.8293999,0.270175195 4.28826904,0.0004 3.0982,0.0004 C1.3402,0.0004 0.0002,1.3584 0.0002,3.0004 C0.0002,4.6824 1.3642,6.0004 3.0022,6.0004 C4.29284668,6.0004 5.0232,5.5934 5.6162,4.9814 C5.2054,4.51548783 5,4.28253174 5,4.28253174 Z" transform="translate(5 5)"/>
        </g>
      </g>
    </g>
  </g>
</svg>


<!-- geekdoc include: sprites/class.svg -->
<svg id="class" class="svg-sprite" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">
  <g fill="none" fill-rule="evenodd">
    <path fill="#40B6E0" fill-opacity=".6" d="M15,8 C15,11.866 11.866,15 8,15 C4.134,15 1,11.866 1,8 C1,4.134 4.134,1 8,1 C11.866,1 15,4.134 15,8"/>
    <path fill="#231F20" fill-opacity=".7" d="M5,4.28253174 C4.53,4.74153174 4.028,4.978 3.1,5 C2.061,5.022 1,4.2794 1,3.0004 C1,1.7124 1.971,1 3.1,1 C3.94833171,1 4.54833171,1.18475342 4.9,1.55426025 L5.5162,0.836730957 C4.8293999,0.270175195 4.28826904,0.0004 3.0982,0.0004 C1.3402,0.0004 0.0002,1.3584 0.0002,3.0004 C0.0002,4.6824 1.3642,6.0004 3.0022,6.0004 C4.29284668,6.0004 5.0232,5.5934 5.6162,4.9814 C5.2054,4.51548783 5,4.28253174 5,4.28253174 Z" transform="translate(5 5)"/>
  </g>
</svg>


<!-- geekdoc include: sprites/interface.svg -->
<svg  id="interface" class="svg-sprite" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">
  <g fill="none" fill-rule="evenodd">
    <path fill="#62B543" fill-opacity=".6" d="M15,8 C15,11.866 11.866,15 8,15 C4.134,15 1,11.866 1,8 C1,4.134 4.134,1 8,1 C11.866,1 15,4.134 15,8"/>
    <polygon fill="#231F20" fill-opacity=".7" points="8.5 10 8.5 6 9.5 5.664 9.5 5 6.5 5 6.5 5.664 7.5 6 7.5 10 6.5 10.344 6.5 11 9.5 11 9.5 10.344"/>
  </g>
</svg>


<!-- geekdoc include: sprites/package.svg -->
<svg id="package" class="svg-sprite" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">
  <path fill="#9AA7B0" fill-opacity=".8" fill-rule="evenodd" d="M6,10.4951 C4.896,10.4951 4.001,9.6001 4,8.4981 C3.999,7.3941 4.894,6.5001 5.997,6.5001 C7.102,6.5001 7.997,7.3941 7.998,8.4981 C7.999,9.6001 7.104,10.4951 6,10.4951 Z M7.984,4.0001 L6.696,2.7111 C6.305,2.3201 5.532,2.0001 4.979,2.0001 L1.051,2.0001 C1.023,2.0001 1,2.0231 1,2.0511 L1,13.0001 L15,13.0001 L15,4.0001 L7.984,4.0001 Z"/>
</svg>


<!-- geekdoc include: sprites/geekdoc.svg -->
<svg class="svg-sprite" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><symbol viewBox="-2.29 -2.29 28.57 28.57" id="gdoc_arrow_back" xmlns="http://www.w3.org/2000/svg"><path d="M24 10.526v2.947H5.755l8.351 8.421-2.105 2.105-12-12 12-12 2.105 2.105-8.351 8.421H24z"/></symbol><symbol viewBox="-2.29 -2.29 28.57 28.57" id="gdoc_arrow_left_alt" xmlns="http://www.w3.org/2000/svg"><path d="M5.965 10.526V6.035L0 12l5.965 5.965v-4.491H24v-2.947H5.965z"/></symbol><symbol viewBox="-2.29 -2.29 28.57 28.57" id="gdoc_arrow_right_alt" xmlns="http://www.w3.org/2000/svg"><path d="M18.035 10.526V6.035L24 12l-5.965 5.965v-4.491H0v-2.947h18.035z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_bitbucket" xmlns="http://www.w3.org/2000/svg"><path d="M15.905 13.355c.189 1.444-1.564 2.578-2.784 1.839-1.375-.602-1.375-2.784-.034-3.403 1.151-.705 2.818.223 2.818 1.564zm1.907-.361c-.309-2.44-3.076-4.056-5.328-3.042-1.426.636-2.389 2.148-2.32 3.747.086 2.097 2.08 3.815 4.176 3.626s3.729-2.234 3.472-4.331zm4.108-9.315c-.756-.997-2.045-1.169-3.179-1.358-3.214-.516-6.513-.533-9.727.034-1.066.172-2.269.361-2.939 1.323 1.1 1.031 2.664 1.186 4.073 1.358 2.544.327 5.156.344 7.699.017 1.426-.172 3.008-.309 4.073-1.375zm.979 17.788c-.481 1.684-.206 3.953-1.994 4.932-3.076 1.701-6.806 1.89-10.191 1.289-1.787-.327-3.884-.894-4.864-2.578-.43-1.65-.705-3.334-.98-5.018l.103-.275.309-.155c5.121 3.386 12.288 3.386 17.427 0 .808.241.206 1.22.189 1.805zM26.01 4.951c-.584 3.764-1.255 7.51-1.908 11.257-.189 1.1-1.255 1.719-2.148 2.183-3.214 1.615-6.96 1.89-10.483 1.512-2.389-.258-4.829-.894-6.771-2.389-.911-.705-.911-1.908-1.083-2.922-.602-3.523-1.289-7.046-1.719-10.604.206-1.547 1.942-2.217 3.231-2.698C6.848.654 8.686.362 10.508.19c3.884-.378 7.854-.241 11.618.859 1.341.395 2.784.945 3.695 2.097.412.533.275 1.203.189 1.805z"/></symbol><symbol viewBox="-2.29 -2.29 28.57 28.57" id="gdoc_bookmark" xmlns="http://www.w3.org/2000/svg"><path d="M15.268 4.392q.868 0 1.532.638t.664 1.506v17.463l-7.659-3.268-7.608 3.268V6.536q0-.868.664-1.506t1.532-.638h10.876zm4.34 14.144V4.392q0-.868-.638-1.532t-1.506-.664H6.537q0-.868.664-1.532T8.733 0h10.876q.868 0 1.532.664t.664 1.532v17.412z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_brightness_auto" xmlns="http://www.w3.org/2000/svg"><path d="M16.846 18.938h2.382L15.22 7.785h-2.44L8.772 18.938h2.382l.871-2.44h3.95zm7.087-9.062L27.999 14l-4.066 4.124v5.809h-5.809L14 27.999l-4.124-4.066H4.067v-5.809L.001 14l4.066-4.124V4.067h5.809L14 .001l4.124 4.066h5.809v5.809zm-11.385 4.937L14 10.282l1.452 4.531h-2.904z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_brightness_dark" xmlns="http://www.w3.org/2000/svg"><path d="M14 21.435q3.079 0 5.257-2.178T21.435 14t-2.178-5.257T14 6.565q-1.51 0-3.079.697 1.917.871 3.108 2.701T15.22 14t-1.191 4.037-3.108 2.701q1.568.697 3.079.697zm9.933-11.559L27.999 14l-4.066 4.124v5.809h-5.809L14 27.999l-4.124-4.066H4.067v-5.809L.001 14l4.066-4.124V4.067h5.809L14 .001l4.124 4.066h5.809v5.809z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_brightness_light" xmlns="http://www.w3.org/2000/svg"><path d="M14 21.435q3.079 0 5.257-2.178T21.435 14t-2.178-5.257T14 6.565 8.743 8.743 6.565 14t2.178 5.257T14 21.435zm9.933-3.311v5.809h-5.809L14 27.999l-4.124-4.066H4.067v-5.809L.001 14l4.066-4.124V4.067h5.809L14 .001l4.124 4.066h5.809v5.809L27.999 14z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_cloud_off" xmlns="http://www.w3.org/2000/svg"><path d="M9.023 10.5H7q-1.914 0-3.281 1.395t-1.367 3.309 1.367 3.281T7 19.852h11.375zM3.5 4.976l1.477-1.477L24.5 23.022l-1.477 1.477-2.352-2.297H6.999q-2.898 0-4.949-2.051t-2.051-4.949q0-2.844 1.969-4.867t4.758-2.133zm19.086 5.578q2.242.164 3.828 1.832T28 16.351q0 3.008-2.461 4.758l-1.695-1.695q1.805-.984 1.805-3.063 0-1.422-1.039-2.461t-2.461-1.039h-1.75v-.602q0-2.68-1.859-4.539t-4.539-1.859q-1.531 0-2.953.711l-1.75-1.695Q11.431 3.5 14.001 3.5q2.953 0 5.496 2.078t3.09 4.977z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_code" xmlns="http://www.w3.org/2000/svg"><path d="M9.917 24.5a1.75 1.75 0 10-3.501.001 1.75 1.75 0 003.501-.001zm0-21a1.75 1.75 0 10-3.501.001A1.75 1.75 0 009.917 3.5zm11.666 2.333a1.75 1.75 0 10-3.501.001 1.75 1.75 0 003.501-.001zm1.75 0a3.502 3.502 0 01-1.75 3.026c-.055 6.581-4.721 8.039-7.82 9.023-2.898.911-3.846 1.349-3.846 3.117v.474a3.502 3.502 0 011.75 3.026c0 1.932-1.568 3.5-3.5 3.5s-3.5-1.568-3.5-3.5c0-1.294.711-2.424 1.75-3.026V6.526A3.502 3.502 0 014.667 3.5c0-1.932 1.568-3.5 3.5-3.5s3.5 1.568 3.5 3.5a3.502 3.502 0 01-1.75 3.026v9.06c.93-.456 1.914-.766 2.807-1.039 3.391-1.075 5.323-1.878 5.359-5.687a3.502 3.502 0 01-1.75-3.026c0-1.932 1.568-3.5 3.5-3.5s3.5 1.568 3.5 3.5z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_date" xmlns="http://www.w3.org/2000/svg"><path d="M27.192 28.844V11.192H4.808v17.652h22.384zm0-25.689q1.277 0 2.253.976t.976 2.253v22.459q0 1.277-.976 2.216t-2.253.939H4.808q-1.352 0-2.291-.901t-.939-2.253V6.385q0-1.277.939-2.253t2.291-.976h1.577V.001h3.23v3.155h12.769V.001h3.23v3.155h1.577zm-3.155 11.267v3.155h-3.23v-3.155h3.23zm-6.46 0v3.155h-3.155v-3.155h3.155zm-6.384 0v3.155h-3.23v-3.155h3.23z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_download" xmlns="http://www.w3.org/2000/svg"><path d="M2.866 28.209h26.269v3.79H2.866v-3.79zm26.268-16.925L16 24.418 2.866 11.284h7.493V.001h11.283v11.283h7.493z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_email" xmlns="http://www.w3.org/2000/svg"><path d="M28.845 9.615v-3.23L16 14.422 3.155 6.385v3.23L16 17.577zm0-6.46q1.277 0 2.216.977T32 6.385v19.23q0 1.277-.939 2.253t-2.216.977H3.155q-1.277 0-2.216-.977T0 25.615V6.385q0-1.277.939-2.253t2.216-.977h25.69z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_git" xmlns="http://www.w3.org/2000/svg"><path d="M27.472 12.753L15.247.529a1.803 1.803 0 00-2.55 0l-2.84 2.84 2.137 2.137a2.625 2.625 0 013.501 3.501l3.499 3.499a2.625 2.625 0 11-1.237 1.237l-3.499-3.499c-.083.04-.169.075-.257.106v7.3a2.626 2.626 0 11-1.75 0v-7.3a2.626 2.626 0 01-1.494-3.607L8.62 4.606l-8.09 8.09a1.805 1.805 0 000 2.551l12.225 12.224a1.803 1.803 0 002.55 0l12.168-12.168a1.805 1.805 0 000-2.551z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_github" xmlns="http://www.w3.org/2000/svg"><path d="M16 .394c8.833 0 15.999 7.166 15.999 15.999 0 7.062-4.583 13.062-10.937 15.187-.813.146-1.104-.354-1.104-.771 0-.521.021-2.25.021-4.396 0-1.5-.5-2.458-1.083-2.958 3.562-.396 7.312-1.75 7.312-7.896 0-1.75-.625-3.167-1.646-4.291.167-.417.708-2.042-.167-4.25-1.333-.417-4.396 1.646-4.396 1.646a15.032 15.032 0 00-8 0S8.937 6.602 7.603 7.018c-.875 2.208-.333 3.833-.167 4.25-1.021 1.125-1.646 2.542-1.646 4.291 0 6.125 3.729 7.5 7.291 7.896-.458.417-.875 1.125-1.021 2.146-.917.417-3.25 1.125-4.646-1.333-.875-1.521-2.458-1.646-2.458-1.646-1.562-.021-.104.979-.104.979 1.042.479 1.771 2.333 1.771 2.333.938 2.854 5.396 1.896 5.396 1.896 0 1.333.021 2.583.021 2.979 0 .417-.292.917-1.104.771C4.582 29.455-.001 23.455-.001 16.393-.001 7.56 7.165.394 15.998.394zM6.063 23.372c.042-.083-.021-.187-.146-.25-.125-.042-.229-.021-.271.042-.042.083.021.187.146.25.104.062.229.042.271-.042zm.646.709c.083-.062.062-.208-.042-.333-.104-.104-.25-.146-.333-.062-.083.062-.062.208.042.333.104.104.25.146.333.062zm.625.937c.104-.083.104-.25 0-.396-.083-.146-.25-.208-.354-.125-.104.062-.104.229 0 .375s.271.208.354.146zm.875.875c.083-.083.042-.271-.083-.396-.146-.146-.333-.167-.417-.062-.104.083-.062.271.083.396.146.146.333.167.417.062zm1.187.521c.042-.125-.083-.271-.271-.333-.167-.042-.354.021-.396.146s.083.271.271.312c.167.062.354 0 .396-.125zm1.313.104c0-.146-.167-.25-.354-.229-.187 0-.333.104-.333.229 0 .146.146.25.354.229.187 0 .333-.104.333-.229zm1.208-.208c-.021-.125-.187-.208-.375-.187-.187.042-.312.167-.292.312.021.125.187.208.375.167s.312-.167.292-.292z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_gitlab" xmlns="http://www.w3.org/2000/svg"><path d="M1.629 11.034L14 26.888.442 17.048a1.09 1.09 0 01-.39-1.203l1.578-4.811zm7.217 0h10.309l-5.154 15.854zM5.753 1.475l3.093 9.559H1.63l3.093-9.559a.548.548 0 011.031 0zm20.618 9.559l1.578 4.811c.141.437-.016.922-.39 1.203l-13.558 9.84 12.371-15.854zm0 0h-7.216l3.093-9.559a.548.548 0 011.031 0z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_heart" xmlns="http://www.w3.org/2000/svg"><path d="M16 29.714a1.11 1.11 0 01-.786-.321L4.072 18.643c-.143-.125-4.071-3.714-4.071-8 0-5.232 3.196-8.357 8.535-8.357 3.125 0 6.053 2.464 7.464 3.857 1.411-1.393 4.339-3.857 7.464-3.857 5.339 0 8.535 3.125 8.535 8.357 0 4.286-3.928 7.875-4.089 8.035L16.785 29.392c-.214.214-.5.321-.786.321z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_keyborad_arrow_down" xmlns="http://www.w3.org/2000/svg"><path d="M3.281 5.36L14 16.079 24.719 5.36 28 8.641l-14 14-14-14z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_keyborad_arrow_left" xmlns="http://www.w3.org/2000/svg"><path d="M25.875 28.25L22.125 32 6.126 16.001 22.125.002l3.75 3.75-12.25 12.25z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_keyborad_arrow_right" xmlns="http://www.w3.org/2000/svg"><path d="M6.125 28.25L18.375 16 6.125 3.75 9.875 0l15.999 15.999L9.875 31.998z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_link" xmlns="http://www.w3.org/2000/svg"><path d="M24.037 7.963q3.305 0 5.634 2.366T32 16t-2.329 5.671-5.634 2.366h-6.46v-3.08h6.46q2.028 0 3.493-1.465t1.465-3.493-1.465-3.493-3.493-1.465h-6.46v-3.08h6.46zM9.615 17.578v-3.155h12.77v3.155H9.615zM3.005 16q0 2.028 1.465 3.493t3.493 1.465h6.46v3.08h-6.46q-3.305 0-5.634-2.366T0 16.001t2.329-5.671 5.634-2.366h6.46v3.08h-6.46q-2.028 0-3.493 1.465t-1.465 3.493z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_menu" xmlns="http://www.w3.org/2000/svg"><path d="M.001 5.334h31.998v3.583H.001V5.334zm0 12.416v-3.5h31.998v3.5H.001zm0 8.916v-3.583h31.998v3.583H.001z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_notification" xmlns="http://www.w3.org/2000/svg"><path d="M22.615 19.384l2.894 2.894v1.413H2.49v-1.413l2.894-2.894V12.25q0-3.365 1.716-5.856t4.745-3.231v-1.01q0-.875.606-1.514T13.999 0t1.548.639.606 1.514v1.01q3.029.74 4.745 3.231t1.716 5.856v7.134zM14 27.999q-1.211 0-2.053-.808t-.841-2.019h5.788q0 1.144-.875 1.986T14 27.999z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_path" xmlns="http://www.w3.org/2000/svg"><path d="M28 12.62h-9.793V8.414h-2.826v11.173h2.826v-4.206H28V26.62h-9.793v-4.206H12.62v-14H9.794v4.206H.001V1.381h9.793v4.206h8.413V1.381H28V12.62z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_person" xmlns="http://www.w3.org/2000/svg"><path d="M16 20.023q5.052 0 10.526 2.199t5.473 5.754v4.023H0v-4.023q0-3.555 5.473-5.754t10.526-2.199zM16 16q-3.275 0-5.614-2.339T8.047 8.047t2.339-5.661T16 0t5.614 2.386 2.339 5.661-2.339 5.614T16 16z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_search" xmlns="http://www.w3.org/2000/svg"><path d="M11.925 20.161q3.432 0 5.834-2.402t2.402-5.834-2.402-5.834-5.834-2.402-5.834 2.402-2.402 5.834 2.402 5.834 5.834 2.402zm10.981 0L32 29.255 29.255 32l-9.094-9.094v-1.458l-.515-.515q-3.26 2.831-7.721 2.831-4.976 0-8.45-3.432T.001 11.925t3.474-8.45 8.45-3.474 8.407 3.474 3.432 8.45q0 1.802-.858 4.075t-1.973 3.646l.515.515h1.458z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_shield" xmlns="http://www.w3.org/2000/svg"><path d="M22.167 15.166V3.5h-8.166v20.726c.93-.492 2.424-1.349 3.883-2.497 1.95-1.531 4.284-3.919 4.284-6.562zm3.499-13.999v14c0 7.674-10.737 12.523-11.192 12.724-.146.073-.31.109-.474.109s-.328-.036-.474-.109c-.456-.201-11.192-5.049-11.192-12.724v-14C2.334.529 2.863 0 3.501 0H24.5c.638 0 1.167.529 1.167 1.167z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_tags" xmlns="http://www.w3.org/2000/svg"><path d="M6.606 7.549c0-1.047-.84-1.887-1.887-1.887s-1.887.84-1.887 1.887.84 1.887 1.887 1.887 1.887-.84 1.887-1.887zm15.732 8.493c0 .501-.206.988-.546 1.327l-7.239 7.254c-.354.339-.84.546-1.342.546s-.988-.206-1.327-.546L1.342 14.066C.59 13.329 0 11.899 0 10.852V4.718a1.9 1.9 0 011.887-1.887h6.134c1.047 0 2.477.59 3.229 1.342L21.792 14.7c.339.354.546.84.546 1.342zm5.661 0c0 .501-.206.988-.546 1.327l-7.239 7.254c-.354.339-.84.546-1.342.546-.767 0-1.15-.354-1.651-.87l6.93-6.93c.339-.339.546-.826.546-1.327s-.206-.988-.546-1.342L13.609 4.173c-.752-.752-2.182-1.342-3.229-1.342h3.303c1.047 0 2.477.59 3.229 1.342L27.454 14.7c.339.354.546.84.546 1.342z"/></symbol></svg>



    <div class="wrapper ">
        <input type="checkbox" class="hidden" id="menu-control" />
        
        <header class="gdoc-header">
    <div class="container flex align-center justify-between">
        
        <label for="menu-control" class="gdoc-nav__control">
            <svg class="icon gdoc_menu"><use xlink:href="#gdoc_menu"></use></svg>
            <svg class="icon gdoc_arrow_back"><use xlink:href="#gdoc_arrow_back"></use></svg>
        </label>
        
        <a class="gdoc-header__link" href="https://hongmao.run/jdk8-src-note/">
            <span class="gdoc-brand flex align-center">
                <img class="gdoc-brand__img" src="/jdk8-src-note/brand.svg" alt="">
                JDK8源码阅读笔记
            </span>
        </a>
        <span id="gdoc-dark-mode">
            <svg class="icon gdoc_brightness_dark"><use xlink:href="#gdoc_brightness_dark"></use></svg>
            <svg class="icon gdoc_brightness_light"><use xlink:href="#gdoc_brightness_light"></use></svg>
            <svg class="icon gdoc_brightness_auto"><use xlink:href="#gdoc_brightness_auto"></use></svg>
        </span>
    </div>
</header>


        <main class="container flex flex-even">
            
            <aside class="gdoc-nav">
                <nav>
    
    <div class="gdoc-search">
        <svg class="icon gdoc_search"><use xlink:href="#gdoc_search"></use></svg>
        <input type="text" id="gdoc-search-input" class="gdoc-search__input" placeholder="Search..."
            aria-label="Search" maxlength="64" />
        <div class="gdoc-search__spinner spinner hidden"></div>
        <ul id="gdoc-search-results" class="gdoc-search__list"></ul>
    </div>



    <section class="gdoc-nav--main">
        <h2>Navigation</h2>
        
            




<ul class="gdoc-nav__list">

    
    

    <li>
        
        
            
            
            
            
            
            
            
            
            

            
            <span class="flex">
                <svg class="icon package"><use xlink:href="#package"></use></svg>
                <a href="/jdk8-src-note/java/"
                    class="gdoc-nav__entry ">
                    java
                </a>
            </span>
            
        

        
            



<ul class="gdoc-nav__list">

    
    

    <li>
        
        
            
            
            
            
            
            
            
            
            

            
            <span class="flex">
                <svg class="icon package"><use xlink:href="#package"></use></svg>
                <a href="/jdk8-src-note/java/util/"
                    class="gdoc-nav__entry ">
                    util
                </a>
            </span>
            
        

        
            



<ul class="gdoc-nav__list">

    
    

    <li>
        
        
            
            
            
            
            
            
            
            
            

            
            <span class="flex">
                <svg class="icon abstractClass"><use xlink:href="#abstractClass"></use></svg>
                <a href="/jdk8-src-note/java/util/AbstractCollection/"
                    class="gdoc-nav__entry ">
                    AbstractCollection
                </a>
            </span>
            
        

        
    </li>


    
    

    <li>
        
        
            
            
            
            
            
            
            
            
            

            
            <span class="flex">
                <svg class="icon abstractClass"><use xlink:href="#abstractClass"></use></svg>
                <a href="/jdk8-src-note/java/util/AbstractList/"
                    class="gdoc-nav__entry ">
                    AbstractList
                </a>
            </span>
            
        

        
    </li>


    
    

    <li>
        
        
            
            
            
            
            
            
            
            
            

            
            <span class="flex">
                <svg class="icon interface"><use xlink:href="#interface"></use></svg>
                <a href="/jdk8-src-note/java/util/Collection/"
                    class="gdoc-nav__entry is-active">
                    Collection
                </a>
            </span>
            
        

        
    </li>


    
    

    <li>
        
        
            
            
            
            
            
            
            
            
            

            
            <span class="flex">
                <svg class="icon interface"><use xlink:href="#interface"></use></svg>
                <a href="/jdk8-src-note/java/util/Iterator/"
                    class="gdoc-nav__entry ">
                    Iterator
                </a>
            </span>
            
        

        
    </li>


    
    

    <li>
        
        
            
            
            
            
            
            
            
            
            

            
            <span class="flex">
                <svg class="icon interface"><use xlink:href="#interface"></use></svg>
                <a href="/jdk8-src-note/java/util/List/"
                    class="gdoc-nav__entry ">
                    List
                </a>
            </span>
            
        

        
    </li>


    
    

    <li>
        
        
            
            
            
            
            
            
            
            
            

            
            <span class="flex">
                <svg class="icon interface"><use xlink:href="#interface"></use></svg>
                <a href="/jdk8-src-note/java/util/ListIterator/"
                    class="gdoc-nav__entry ">
                    ListIterator
                </a>
            </span>
            
        

        
    </li>


    
    

    <li>
        
        
            
            
            
            
            
            
            
            
            

            
            <span class="flex">
                <svg class="icon interface"><use xlink:href="#interface"></use></svg>
                <a href="/jdk8-src-note/java/util/RandomAccess/"
                    class="gdoc-nav__entry ">
                    RandomAccess
                </a>
            </span>
            
        

        
    </li>


</ul>

        
    </li>


</ul>

        
    </li>


</ul>





        
    </section>

    <section class="gdoc-nav--more">
        
    </section>
</nav>

            </aside>
            

            <div class="gdoc-page">
                
    


    






<div class="gdoc-page__header flex flex-wrap
     justify-between 
     hidden-mobile 
    " itemprop="breadcrumb">
    
    <div>
        <svg class="icon gdoc_path hidden-mobile"><use xlink:href="#gdoc_path"></use></svg>
        <ol class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList">
            
            
            
            
    
    
        
        
        
        
    
    
        
        
        
        
    
    
        
        
        
        
    
    
        <li itemprop='itemListElement' itemscope itemtype='https://schema.org/ListItem'><a itemscope itemtype='https://schema.org/WebPage' itemprop='item' itemid='/jdk8-src-note/' href='/jdk8-src-note/'><span itemprop='name'>JDK8源码阅读笔记</span></a><meta itemprop='position' content='2' /></li><li> / </li><li itemprop='itemListElement' itemscope itemtype='https://schema.org/ListItem'><a itemscope itemtype='https://schema.org/WebPage' itemprop='item' itemid='/jdk8-src-note/java/' href='/jdk8-src-note/java/'><span itemprop='name'>java</span></a><meta itemprop='position' content='3' /></li><li> / </li><li itemprop='itemListElement' itemscope itemtype='https://schema.org/ListItem'><a itemscope itemtype='https://schema.org/WebPage' itemprop='item' itemid='/jdk8-src-note/java/util/' href='/jdk8-src-note/java/util/'><span itemprop='name'>util</span></a><meta itemprop='position' content='4' /></li><li> / </li><li itemprop='itemListElement' itemscope itemtype='https://schema.org/ListItem'><span itemprop='name'>Collection</span><meta itemprop='position' content='5' /></li>
    

    

    

    

        </ol>
    </div>
    
    
</div>


    <article class="gdoc-markdown gdoc-markdown__align--left">
        <h1>Collection</h1>
        <hr>



  <div class="gdoc-toc gdoc-toc__level--6"><nav id="TableOfContents">
  <ul>
    <li><a href="#1-int-size">1. int size()</a></li>
    <li><a href="#2-boolean-isempty">2. boolean isEmpty()</a></li>
    <li><a href="#3-boolean-containsobject-o">3. boolean contains(Object o)</a></li>
    <li><a href="#4-iteratore-iterator">4. Iterator<!-- raw HTML omitted --> iterator()</a></li>
    <li><a href="#5-object-toarray">5. Object[] toArray()</a></li>
    <li><a href="#6-t-t-toarrayt-a">6. <!-- raw HTML omitted --> T[] toArray(T[] a)</a></li>
    <li><a href="#7-boolean-adde-e">7. boolean add(E e)</a></li>
    <li><a href="#8-boolean-removeobject-o">8. boolean remove(Object o)</a></li>
    <li><a href="#9-boolean-containsallcollection-c">9. boolean containsAll(Collection&lt;?&gt; c)</a></li>
    <li><a href="#10-boolean-addallcollection-extends-e-c">10. boolean addAll(Collection&lt;? extends E&gt; c)</a></li>
    <li><a href="#11-boolean-removeallcollection-c">11. boolean removeAll(Collection&lt;?&gt; c)</a></li>
    <li><a href="#12-default-boolean-removeifpredicate-super-e-filter">12. default boolean removeIf(Predicate&lt;? super E&gt; filter)</a></li>
    <li><a href="#13-boolean-retainallcollection-c">13. boolean retainAll(Collection&lt;?&gt; c)</a></li>
    <li><a href="#14-void-clear">14. void clear()</a></li>
    <li><a href="#15-boolean-equalsobject-o">15. boolean equals(Object o)</a></li>
    <li><a href="#16-int-hashcode">16. int hashCode()</a></li>
    <li><a href="#17-default-spliteratore-spliterator">17. default Spliterator<!-- raw HTML omitted --> spliterator()</a></li>
    <li><a href="#18-default-streame-stream">18. default Stream<!-- raw HTML omitted --> stream()</a></li>
    <li><a href="#19-default-streame-parallelstream">19. default Stream<!-- raw HTML omitted --> parallelStream()</a></li>
  </ul>
</nav><hr></div>



<div style='text-align: center'>
    <img src='https://img.hongmao.run/blog/2021/07/Collection.png' width='30%' alt=''>
</div>


<hr>
<p><code>Collection</code>接口是集合层次结构中的根接口。集合表示一组对象，每个对象称为元素。有些集合允许重复元素，有些则不允许。有些集合是有序的，有些是无序的。</p>
<p>JDK没有提供该接口的任何直接实现：它提供了更具体的子接口的实现，如<code>Set</code>和<code>List</code>。此接口通常用于传递集合并在需要最大通用性的地方操作它们。</p>
<p><code>Bags</code>或<code>multiset</code>（可能包含重复元素的无序集合）应该直接实现这个接口。</p>
<p>所有通用的<code>Collection</code>实现类（通常通过其某个子接口间接实现<code>Collection</code>）应提供两个“标准”的构造函数：<code>void</code>（无参数）构造函数（该构造函数创建一个空集合），以及一个具有单个类型为<code>Collection</code>的参数的构造函数，该构造函数将创建一个新集合，新集合的元素与参数中指定的<code>Collection</code>的元素相同。实际上，后一个构造函数允许用户复制任何集合，从而生成所需类型的等效集合。但是无法强制执行此约定（因为接口不能包含构造函数），但是Java平台库中的所有通用<code>Collection</code>实现都遵循此约定。</p>
<p>该接口中包含一些具有“破坏性”的方法，也就是这些方法在被调用时操作集合，但该集合并不支持该操作，此时这些方法将抛出<code>UnsupportedOperationException</code>。在这种情况下，如果调用对集合没有影响，则这些方法可能（但不是必需）抛出<code>UnsupportedOperationException</code>。例如，对不可修改的集合调用<code>addAll</code>方法可能会（但并不一定）引发异常（如果要添加的集合为空的话）。</p>
<p>一些集合实现对它们可能包含的元素有所限制。例如，某些实现禁止空元素，而有些实现对其元素类型有限制。尝试添加不匹配的元素会引发未经检查的异常，通常为<code>NullPointerException</code>或<code>ClassCastException</code>。尝试查询集合中不匹配的元素是否存在可能会引发异常，或者可能仅返回<code>false</code>。一些实现将表现出前一种行为，而某些实现将表现出后者。更普遍的是，尝试对不匹配的元素进行操作，该操作的完成不会将不合格元素插入集合中，这可能会导致异常或成功，具体取决于实现方式。此类异常在此接口的规范中标记为“可选”。</p>
<p>同步策略是由每个集合自己决定的。在没有强有力保证的实现中，调用另一个线程正在改变的集合上的任何方法都可能导致未知的行为；这包括直接调用，将集合传递给可能执行调用的方法，以及使用现有的迭代器检查集合。</p>
<p>集合框架接口中的许多方法都是根据<code>Object</code>的<code>equals</code>方法定义的。例如，<code>contains</code>方法的规范中说：“当且仅当此集合包含至少一个元素<code>e</code>满足<code>(o==null ? e==null : o.equals(e))</code>时，返回<code>true</code>”。此规范不应解释为暗示使用非空参数<code>o</code>调用<code>Collection.contains</code>时将导致对任何元素<code>e</code>都会调用<code>o.equals(e)</code>。各实现可以自由地进行优化，从而避免<code>equals</code>调用，例如，首先比较两个元素的哈希码。（<code>Object</code>的<code>hashCode()</code>规范保证哈希码不相等的两个对象不能相等。）更普遍的说，只要实现者认为合适，各种集合框架接口的实现都可以自由利用基础<code>Object</code>方法的指定行为。</p>
<p>一些对集合执行递归遍历的操作可能会失败，但对于集合直接或间接包含其自身的自引用实例除外，包括<code>clone()</code>、<code>equals()</code>、<code>hashCode()</code>、<code>toString()</code>方法。实现类可以选择性地处理自引用场景，但是大多数当前的实现都没有这样做。</p>
<p>该接口是Java集合框架的成员接口。</p>
<p>默认的方法实现（继承的或其他）不应用任何同步协议。如果一个集合实现有一个特定的同步协议，那么它必须覆盖默认实现来应用该协议。</p>
<div class="gdoc-page__anchorwrap">
    <h1 id="1-int-size">
        1. int size()
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/Collection/#1-int-size" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 1. int size()" href="#1-int-size">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>返回当前集合内元素的数量。如果数量超过<code>Integer.MAX_VALUE</code>则返回<code>Integer.MAX_VALUE</code>。</p>
<div class="gdoc-page__anchorwrap">
    <h1 id="2-boolean-isempty">
        2. boolean isEmpty()
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/Collection/#2-boolean-isempty" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 2. boolean isEmpty()" href="#2-boolean-isempty">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>如果当前集合内没有元素，则返回<code>true</code>。</p>
<div class="gdoc-page__anchorwrap">
    <h1 id="3-boolean-containsobject-o">
        3. boolean contains(Object o)
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/Collection/#3-boolean-containsobject-o" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 3. boolean contains(Object o)" href="#3-boolean-containsobject-o">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>当集合包含指定的元素时返回<code>true</code>。更准确的说，当且仅当集合中至少存在一个元素<code>e</code>能够满足<code>(o==null ? e==null : o.equals(e))</code>时返回<code>true</code>。</p>
<p>如果指定元素的类型与此集合不兼容，则抛出<code>ClassCastException</code>。</p>
<p>如果指定的元素<code>o</code>为空，则抛出<code>NullPointerException</code>。</p>
<div class="gdoc-page__anchorwrap">
    <h1 id="4-iteratore-iterator">
        4. Iterator<!-- raw HTML omitted --> iterator()
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/Collection/#4-iteratore-iterator" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 4. Iterator iterator()" href="#4-iteratore-iterator">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>返回此集合中元素的迭代器。没有关于元素返回顺序的保证（除非此集合是某个提供保证的类的实例）。</p>
<div class="gdoc-page__anchorwrap">
    <h1 id="5-object-toarray">
        5. Object[] toArray()
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/Collection/#5-object-toarray" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 5. Object[] toArray()" href="#5-object-toarray">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>返回一个包含此集合中所有元素的数组。如果此集合保证其迭代器返回其元素的顺序，则此方法必须按相同的顺序返回元素。</p>
<p>返回的数组将是“安全的”，因为此集合不维护对其的引用。 （换句话说，即使此集合是基于数组的，此方法也必须分配一个新数组）。因此，调用者可以自由修改返回的数组。</p>
<p>此方法充当基于数组的api和基于集合的api之间的桥梁。</p>
<div class="gdoc-page__anchorwrap">
    <h1 id="6-t-t-toarrayt-a">
        6. <!-- raw HTML omitted --> T[] toArray(T[] a)
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/Collection/#6-t-t-toarrayt-a" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 6.  T[] toArray(T[] a)" href="#6-t-t-toarrayt-a">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>返回一个数组，该数组包含此集合中的所有元素。返回数组的运行时类型是指定数组的运行时类型。如果集合符合指定的数组，则在其中返回集合。否则，将使用指定数组的运行时类型和此集合的大小分配新数组。</p>
<p>如果指定的数组能够容纳集合的所有元素并有剩余空间（即数组中的容量大于集合），则紧接集合结束后的数组中的元素设置为<code>null</code>。（如果调用者知道列表不包含任何<code>null</code>元素，则这对于确定列表的长度很有用。）</p>
<p>如果此集合保证其迭代器返回元素的顺序，则此方法必须按相同的顺序返回元素。</p>
<p>与<code>toArray()</code>方法类似，此方法充当基于数组的API和基于集合的API之间的桥梁。此外，此方法允许对输出数组的运行时类型进行精确控制，并且在某些情况下可以用来节省分配成本。</p>
<p>假设<code>x</code>是一个已知仅包含字符串的集合。以下代码可用于将集合转储到新分配的<code>String</code>数组中：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#000">String</span><span style="color:#000">[]</span> <span style="color:#000">y</span> <span style="color:#000">=</span> <span style="color:#000">x</span><span style="color:#000">.</span><span style="color:#836c28">toArray</span><span style="color:#000">(</span><span style="color:#a90d91">new</span> <span style="color:#000">String</span><span style="color:#000">[</span><span style="color:#000">0</span><span style="color:#000">]);</span>
</code></pre></div><p>请注意，<code>toArray(new Object[0])</code>在功能上与<code>toArray()</code>相同。</p>
<p>如果指定数组的运行时类型不是此集合中每个元素的运行时类型的超类型，则抛出<code>ArrayStoreException</code>。</p>
<p>如果参数中指定的数组<code>a</code>为<code>null</code>，则抛出<code>NullPointerException</code>。</p>
<div class="gdoc-page__anchorwrap">
    <h1 id="7-boolean-adde-e">
        7. boolean add(E e)
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/Collection/#7-boolean-adde-e" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 7. boolean add(E e)" href="#7-boolean-adde-e">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>确保此集合包含指定的元素（可选操作）。如果此集合由于调用该方法而更改，则返回<code>true</code>。 （如果此集合不允许重复并且已经包含指定的元素，则返回<code>false</code>。）</p>
<p>支持此操作的集合可能会对可以添加到此集合的元素加以限制。特别是，某些集合将拒绝添加<code>null</code>元素，而其他集合将对可能添加的元素类型施加限制。集合类应在其文档中明确指定对可以添加哪些元素的限制。</p>
<p>如果某个集合由于除了已经包含该元素以外的其他原因拒绝添加特定元素，则它必须抛出异常（而不是返回<code>false</code>）。这保留了在此调用返回后集合始终包含指定元素的不变性。</p>
<p>如果当前集合不支持<code>add</code>操作，则抛出<code>UnsupportedOperationException</code>。</p>
<p>如果指定元素的类阻止将其添加到此集合中，则抛出<code>ClassCastException</code>。</p>
<p>如果指定的元素为<code>null</code>，并且此集合不允许使用<code>null</code>元素，则抛出<code>NullPointerException</code>。</p>
<p>如果元素的某些属性阻止将其添加到此集合中，则抛出<code>IllegalArgumentException</code>。</p>
<p>如果由于插入限制当前无法添加该元素，则抛出<code>IllegalStateException</code>。</p>
<div class="gdoc-page__anchorwrap">
    <h1 id="8-boolean-removeobject-o">
        8. boolean remove(Object o)
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/Collection/#8-boolean-removeobject-o" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 8. boolean remove(Object o)" href="#8-boolean-removeobject-o">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>如果指定的元素在此集合中存在，则从此集合中删除它（可选操作）。</p>
<p>更正式地讲，如果存在当前集合中存在一个或多个元素<code>e</code>可以满足<code>(o==null ? e==null : o.equals(e))</code>，则删除该元素<code>e</code>（注：此处源码中明确指出是满足条件的元素全部删除，还是删除其中的一个，它只是说：<code>removes an element e such that ···</code>）。如果此集合包含指定的元素（或者等效地，如果此集合由于调用而更改），则返回<code>true</code>。</p>
<p>如果当前集合不支持<code>remove</code>操作，则抛出<code>UnsupportedOperationException</code>。</p>
<p>如果指定元素的类型与此集合不兼容，则抛出<code>ClassCastException</code>。</p>
<p>如果指定的元素为<code>null</code>，并且此集合不允许使用<code>null</code>元素，则抛出<code>NullPointerException</code>。</p>
<div class="gdoc-page__anchorwrap">
    <h1 id="9-boolean-containsallcollection-c">
        9. boolean containsAll(Collection&lt;?&gt; c)
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/Collection/#9-boolean-containsallcollection-c" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 9. boolean containsAll(Collection&lt;?&gt; c)" href="#9-boolean-containsallcollection-c">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>如果此集合包含指定集合中的所有元素，则返回<code>true</code>。</p>
<p>如果指定集合中一个或多个元素的类型与此集合不兼容，则抛出<code>ClassCastException</code>。</p>
<p>如果指定的集合包含一个或多个<code>null</code>元素，并且此集合不允许<code>null</code>元素，则抛出<code>NullPointerException</code>。</p>
<div class="gdoc-page__anchorwrap">
    <h1 id="10-boolean-addallcollection-extends-e-c">
        10. boolean addAll(Collection&lt;? extends E&gt; c)
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/Collection/#10-boolean-addallcollection-extends-e-c" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 10. boolean addAll(Collection&lt;? extends E&gt; c)" href="#10-boolean-addallcollection-extends-e-c">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>将指定集合中的所有元素添加到此集合中（可选操作）。如果在操作进行过程中修改了指定的集合，则此操作的行为是不确定的。 （这意味着如果指定的集合就是本集合，并且本集合是非空的，则此次调用的行为是不确定的。）</p>
<div class="gdoc-page__anchorwrap">
    <h1 id="11-boolean-removeallcollection-c">
        11. boolean removeAll(Collection&lt;?&gt; c)
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/Collection/#11-boolean-removeallcollection-c" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 11. boolean removeAll(Collection&lt;?&gt; c)" href="#11-boolean-removeallcollection-c">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>删除也包含在指定集合中的所有此集合的元素（可选操作）。在此调用返回之后，此集合将不包含与指定集合相同的元素。</p>
<div class="gdoc-page__anchorwrap">
    <h1 id="12-default-boolean-removeifpredicate-super-e-filter">
        12. default boolean removeIf(Predicate&lt;? super E&gt; filter)
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/Collection/#12-default-boolean-removeifpredicate-super-e-filter" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 12. default boolean removeIf(Predicate&lt;? super E&gt; filter)" href="#12-default-boolean-removeifpredicate-super-e-filter">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>1.8版本的JDK中新出的方法。删除此集合中满足给定断言的所有元素。在迭代过程中或断言中引发的错误或运行时异常将中继给调用方。</p>
<p>默认实现使用其<code>iterator</code>遍历集合的所有元素。使用<code>Iterator</code>的<code>remove()</code>方法删除每个匹配的元素。如果集合的迭代器不支持删除，则将在第一个匹配元素上抛出<code>UnsupportedOperationException</code>。</p>
<p>源码如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">default</span> <span style="color:#a90d91">boolean</span> <span style="color:#000">removeIf</span><span style="color:#000">(</span><span style="color:#000">Predicate</span><span style="color:#000">&lt;?</span> <span style="color:#a90d91">super</span> <span style="color:#000">E</span><span style="color:#000">&gt;</span> <span style="color:#000">filter</span><span style="color:#000">)</span> <span style="color:#000">{</span>
    <span style="color:#000">Objects</span><span style="color:#000">.</span><span style="color:#836c28">requireNonNull</span><span style="color:#000">(</span><span style="color:#000">filter</span><span style="color:#000">);</span>
    <span style="color:#a90d91">boolean</span> <span style="color:#000">removed</span> <span style="color:#000">=</span> <span style="color:#a90d91">false</span><span style="color:#000">;</span>
    <span style="color:#a90d91">final</span> <span style="color:#000">Iterator</span><span style="color:#000">&lt;</span><span style="color:#000">E</span><span style="color:#000">&gt;</span> <span style="color:#000">each</span> <span style="color:#000">=</span> <span style="color:#000">iterator</span><span style="color:#000">();</span>
    <span style="color:#a90d91">while</span> <span style="color:#000">(</span><span style="color:#000">each</span><span style="color:#000">.</span><span style="color:#836c28">hasNext</span><span style="color:#000">())</span> <span style="color:#000">{</span>
				<span style="color:#177500">// 对每个元素执行给定的断言，命中则删除该元素
</span><span style="color:#177500"></span>        <span style="color:#a90d91">if</span> <span style="color:#000">(</span><span style="color:#000">filter</span><span style="color:#000">.</span><span style="color:#836c28">test</span><span style="color:#000">(</span><span style="color:#000">each</span><span style="color:#000">.</span><span style="color:#836c28">next</span><span style="color:#000">()))</span> <span style="color:#000">{</span>
            <span style="color:#000">each</span><span style="color:#000">.</span><span style="color:#836c28">remove</span><span style="color:#000">();</span>
            <span style="color:#000">removed</span> <span style="color:#000">=</span> <span style="color:#a90d91">true</span><span style="color:#000">;</span>
        <span style="color:#000">}</span>
    <span style="color:#000">}</span>
    <span style="color:#a90d91">return</span> <span style="color:#000">removed</span><span style="color:#000">;</span>
<span style="color:#000">}</span>
</code></pre></div><div class="gdoc-page__anchorwrap">
    <h1 id="13-boolean-retainallcollection-c">
        13. boolean retainAll(Collection&lt;?&gt; c)
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/Collection/#13-boolean-retainallcollection-c" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 13. boolean retainAll(Collection&lt;?&gt; c)" href="#13-boolean-retainallcollection-c">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>只保留此集合中包含在指定集合中的元素（可选操作）。换句话说，从该集合中删除指定集合中不包含的所有元素。</p>
<div class="gdoc-page__anchorwrap">
    <h1 id="14-void-clear">
        14. void clear()
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/Collection/#14-void-clear" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 14. void clear()" href="#14-void-clear">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>从此集合中删除所有元素（可选操作）。此方法返回后，集合将为空。</p>
<div class="gdoc-page__anchorwrap">
    <h1 id="15-boolean-equalsobject-o">
        15. boolean equals(Object o)
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/Collection/#15-boolean-equalsobject-o" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 15. boolean equals(Object o)" href="#15-boolean-equalsobject-o">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>将指定对象与此集合进行比较以判断是否相等。</p>
<p>尽管<code>Collection</code>接口没有为<code>Object.equals</code>的常规规定添加任何规定，但是“直接”实现<code>Collection</code>接口的程序员（换句话说，创建<code>Collection</code>但不是<code>Set</code>或<code>List</code>的类）如果选择覆盖<code>Object.equals</code>的话则必须要当心。其实没有必要这样做，最简单的方法是依靠<code>Object</code>的实现，但是实现者可能希望实现“值比较”来代替默认的“引用比较”。（<code>List</code>和<code>Set</code>接口要求进行值比较。）</p>
<p><code>Object.equals</code>方法的通用规范规定，<code>equals</code>必须是对称的（换句话说，当且仅当<code>b.equals(a)</code>时<code>a.equals(b)</code>）。 <code>List.equals</code>和<code>Set.equals</code>的约定规定，<code>List</code>仅等于其他<code>List</code>，并且<code>Set</code>仅等于其他<code>Set</code>。因此，如果一个集合类它实现的既不是<code>List</code>也不是<code>Set</code>接口，那么当这个集合与<code>List</code>或<code>Set</code>比较时，它自定义的<code>equals</code>方法必须返回<code>false</code>。（按照这个逻辑，不可能编写一个类能够同时正确地实现<code>List</code>和<code>Set</code>接口的类。）</p>
<div class="gdoc-page__anchorwrap">
    <h1 id="16-int-hashcode">
        16. int hashCode()
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/Collection/#16-int-hashcode" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 16. int hashCode()" href="#16-int-hashcode">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>返回当前集合的hash code值。尽管<code>Collection</code>接口没有在<code>Object.hashCode</code>方法的常规约定之外添加任何规定，但编程者应注意，任何覆盖<code>Object.equals</code>方法的类还必须重写<code>Object.hashCode</code>方法，以便满足<code>Object.hashCode</code>方法的常规约定。特别是，<code>c1.equals(c2)</code>意味着<code>c1.hashCode()==c2.hashCode()</code>。</p>
<div class="gdoc-page__anchorwrap">
    <h1 id="17-default-spliteratore-spliterator">
        17. default Spliterator<!-- raw HTML omitted --> spliterator()
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/Collection/#17-default-spliteratore-spliterator" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 17. default Spliterator spliterator()" href="#17-default-spliteratore-spliterator">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>在此集合中的元素上创建一个<code>Spliterator</code>。</p>
<p>实现中应该说明拆分器报告的特征值。如果拆分器报告<code>Spliterator.SIZED</code>并且该集合不包含任何元素，则就不需要报告这些特征值。</p>
<p>子类应该覆盖默认的实现，以返回一个更高效的拆分器。为了保持<code>stream()</code>和<code>parallelStream()</code>方法的预期惰性行为，拆分器应该具有<code>IMMUTABLE</code>或<code>CONCURRENT</code>的特征，或者是后期绑定。</p>
<p>如果这些都不可行，则覆盖的类应描述拆分器记录的绑定和结构干扰策略，并应覆盖<code>stream()</code>和<code>parallelStream()</code>方法，以使用拆分器的<code>Supplier</code>创建流，如：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#000">Stream</span><span style="color:#000">&lt;</span><span style="color:#000">E</span><span style="color:#000">&gt;</span> <span style="color:#000">s</span> <span style="color:#000">=</span> <span style="color:#000">StreamSupport</span><span style="color:#000">.</span><span style="color:#836c28">stream</span><span style="color:#000">(()</span> <span style="color:#000">-&gt;</span> <span style="color:#000">spliterator</span><span style="color:#000">(),</span> <span style="color:#000">spliteratorCharacteristics</span><span style="color:#000">)</span>
</code></pre></div><p>这些要求确保<code>stream()</code>和<code>parallelStream()</code>方法生成的流将反映在终端流操作启动时集合的内容。</p>
<p>默认实现通过集合的<code>Iterator</code>创建一个延迟绑定的拆分器。该拆分器继承了集合迭代器快速失败的特性。</p>
<p>创建的<code>Spliterator</code>报告<code>Spliterator.SIZED</code>。</p>
<p>创建的<code>Spliterator</code>另外还报告了<code>Spliterator.SUBSIZED</code>。</p>
<p>如果拆分器没有覆盖任何元素，那么除了<code>SIZED</code>和<code>SUBSIZED</code>之外的其他特征值的报告，不会帮助客户端控制、专门化或简化计算。然而，这确实允许对空集合共享不可变的空拆分器实例（参见<code>Spliterators.emptySpliterator()</code>），并允许客户端确定这样的拆分器是否不包含元素。</p>
<p>源码如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#000">@Override</span>
<span style="color:#a90d91">default</span> <span style="color:#000">Spliterator</span><span style="color:#000">&lt;</span><span style="color:#000">E</span><span style="color:#000">&gt;</span> <span style="color:#000">spliterator</span><span style="color:#000">()</span> <span style="color:#000">{</span>
    <span style="color:#a90d91">return</span> <span style="color:#000">Spliterators</span><span style="color:#000">.</span><span style="color:#836c28">spliterator</span><span style="color:#000">(</span><span style="color:#a90d91">this</span><span style="color:#000">,</span> <span style="color:#000">0</span><span style="color:#000">);</span>
<span style="color:#000">}</span>
</code></pre></div><div class="gdoc-page__anchorwrap">
    <h1 id="18-default-streame-stream">
        18. default Stream<!-- raw HTML omitted --> stream()
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/Collection/#18-default-streame-stream" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 18. default Stream stream()" href="#18-default-streame-stream">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>返回以该集合为源的顺序<code>Stream</code>。</p>
<p>当<code>spliterator()</code>方法无法返回<code>IMMUTABLE</code>，<code>CONCURRENT</code>或延迟绑定的拆分器时，应重写此方法。 （有关详细信息，请参见<code>spliterator()</code>）</p>
<p>默认实现通过集合的<code>Spliterator</code>创建顺序的<code>Stream</code>。</p>
<p>源码如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">default</span> <span style="color:#000">Stream</span><span style="color:#000">&lt;</span><span style="color:#000">E</span><span style="color:#000">&gt;</span> <span style="color:#000">stream</span><span style="color:#000">()</span> <span style="color:#000">{</span>
    <span style="color:#a90d91">return</span> <span style="color:#000">StreamSupport</span><span style="color:#000">.</span><span style="color:#836c28">stream</span><span style="color:#000">(</span><span style="color:#000">spliterator</span><span style="color:#000">(),</span> <span style="color:#a90d91">false</span><span style="color:#000">);</span>
<span style="color:#000">}</span>
</code></pre></div><div class="gdoc-page__anchorwrap">
    <h1 id="19-default-streame-parallelstream">
        19. default Stream<!-- raw HTML omitted --> parallelStream()
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/Collection/#19-default-streame-parallelstream" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 19. default Stream parallelStream()" href="#19-default-streame-parallelstream">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>返回以此集合为源的可能并行的<code>Stream</code>。此方法也允许返回顺序<code>Stream</code>。</p>
<p>当<code>spliterator()</code>方法无法返回<code>IMMUTABLE</code>，<code>CONCURRENT</code>或延迟绑定的拆分器时，应重写此方法。 （有关详细信息，请参见<code>spliterator()</code>）</p>
<p>默认实现从集合的<code>Spliterator</code>创建并行的<code>Stream</code>。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">default</span> <span style="color:#000">Stream</span><span style="color:#000">&lt;</span><span style="color:#000">E</span><span style="color:#000">&gt;</span> <span style="color:#000">parallelStream</span><span style="color:#000">()</span> <span style="color:#000">{</span>
    <span style="color:#a90d91">return</span> <span style="color:#000">StreamSupport</span><span style="color:#000">.</span><span style="color:#836c28">stream</span><span style="color:#000">(</span><span style="color:#000">spliterator</span><span style="color:#000">(),</span> <span style="color:#a90d91">true</span><span style="color:#000">);</span>
<span style="color:#000">}</span>
</code></pre></div>

    </article>

                








    
    

    
        
        

        
        
            
            
            

            

            

            
        

        
        
            
    
    

    
        
        

        
        
            
            
            

            

            

            
        

        
        
            
    
    

    
        
        

        
        
            
            
            

            

            

            
        

        
        
    
        
        

        
        
            
            
            

            

            

            
        

        
        
    
        
        

        
        
            
            
            

            

            
                
                
            

            
        

        
        
    
        
        

        
        
            
            
            

            
                
                
            

            

            
        

        
        
    
        
        

        
        
            
            
            

            

            

            
        

        
        
    
        
        

        
        
            
            
            

            

            

            
        

        
        
    
        
        

        
        
            
            
            

            

            

            
        

        
        
    

        
    

        
    





<div class="gdoc-page__footer flex flex-wrap justify-between">
    
    
        <span class="gdoc-page__nav">
            
                <a class="gdoc-page__nav--prev flex align-center" href="/jdk8-src-note/java/util/AbstractList/" title="AbstractList"> AbstractList</a>
            
        </span>
        <span class="gdoc-page__nav">
            
                <a class="gdoc-page__nav--next flex align-center" href="/jdk8-src-note/java/util/Iterator/" title="Iterator">Iterator </a>
            
        </span>
    
</div>

            </div>
        </main>

        <footer class="gdoc-footer">
    <div class="container flex flex-wrap">
        <span class="gdoc-footer__item">
            Built with <a href="https://gohugo.io/" class="gdoc-footer__link">Hugo</a> and
            <svg class="icon gdoc_heart"><use xlink:href="#gdoc_heart"></use></svg>
        </span>
        
        
    </div>
</footer>

    </div>

    




<script defer src="/jdk8-src-note/js/en.search.min.7ed902a2b1b4d86c489fb5356144fb25c54a68bdbe5116c87b49f726c263e2b4.js"></script>



<script defer src="/jdk8-src-note/js/clipboard-27784b7376.min.js"></script>
<script defer src="/jdk8-src-note/js/clipboard-loader-f0b5fbd5f6.min.js"></script>


</body>
</html>
