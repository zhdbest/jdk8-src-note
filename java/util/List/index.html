<!DOCTYPE html>
<html lang="en" class="color-toggle-hidden">

<head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light dark" />





    <meta name="description" content="有序集合（也称为sequence）。该接口的用户可以精确控制列表中每个元素的插入位置。用户可以通过其整数索引（列表中的位置）访问元素，并在列表中搜索元素。
与集合不同，列表通常允许重复的元素。更正式地说，列表通常允许成对的元素e1和e2，它们满足e1.equals(e2)，并且如果允许空值，它们通常允许多个空元素。有人希望通过在用户尝试插入重复元素时抛出运行时异常来实现禁止重复的列表，这也并非不可行，但我们希望这种用法很少见。
List接口在已熟知的Collection 接口的规定之外有一些额外的规定，在iterator，add，remove，equals和hashCode方法上。为了方便起见，还包括其他继承方法的声明。
List接口提供了四种使用位置（索引）访问列表元素的方法。列表（如Java数组）是从零开始的。请注意，对于某些实现（例如，LinkedList类），这些操作可能在时间上与索引值成比例地执行。因此，如果调用者不知道实现，则遍历列表中的元素通常比对其进行索引更可取。
List接口提供了一个特殊的迭代器，称为ListIterator，除Iterator接口的常规操作外，它还允许元素插入和替换以及双向访问。它还提供了一种获取列表迭代器的方法，该列表迭代器从列表中的指定位置开始。
List接口提供了两种搜索指定对象的方法。从性能的角度来看，应谨慎使用这些方法。在许多实现中，它们将执行昂贵的线性搜索。
List接口提供了两种方法，可以有效地在列表中的任意点插入和删除多个元素。
注意：虽然允许列表包含自己作为元素，但建议格外小心：equals和hashCode方法在这样的列表上不再有很好的定义。
一些列表实现对它们可能包含的元素有限制。例如，某些实现禁止使用null元素，而某些实现对其元素类型进行限制。尝试添加不合格的元素会引发未经检查的异常，通常为NullPointerException或ClassCastException。尝试查询不合格元素的存在可能会引发异常，或者可能仅返回false。一些实现将表现出前一种行为，而某些将表现出后者。更一般地，尝试对不合格元素进行操作，该操作的完成不会导致将不合格元素插入列表中，这可能会导致异常或成功，具体取决于实现方式。此类异常在此接口的规范中标记为“可选”。
该接口是Java集合框架的成员。
1. int size();    返回此列表中的元素数。如果此列表包含多于 Integer.MAX_VALUE 个元素，则返回Integer.MAX_VALUE 。
2. boolean isEmpty();    当前列表不包含元素时返回 true 。
3. boolean contains(Object o);    如果当前列表包含指定的元素则返回 true 。
更准确的说，当且仅当列表中至少存在一个元素满足 (o == null ? e == null : o.equals(e) 时返回 true 。
如果指定的元素类型不匹配，则可以抛出 ClassCastException ，但这是可选操作，也可以不抛出异常。
如果指定的元素是空，且当前列表不允许空元素，则可以抛出 NullPointerException ，这也是可选操作。
4. Iteratoriterator();    以正确的顺序返回在此列表中的元素上的迭代器。
5. Object[] toArray();    以正确的顺序（从第一个元素到最后一个元素）返回一个包含此列表中所有元素的数组。">



    <title>List | JDK8源码阅读笔记</title>

    <link rel="icon" href="/jdk8-src-note/favicon/favicon-32x32.png" type="image/x-icon">

    <script src="/jdk8-src-note/js/darkmode-ce906ea916.min.js"></script>

<link rel="preload" as="font" href="/jdk8-src-note/fonts/Metropolis.woff2" type="font/woff2" crossorigin="anonymous">
<link rel="preload" as="font" href="/jdk8-src-note/fonts/LiberationSans.woff2" type="font/woff2" crossorigin="anonymous">

<link rel="preload" href="/jdk8-src-note/main-cc3cbe901b.min.css" as="style">
<link rel="stylesheet" href="/jdk8-src-note/main-cc3cbe901b.min.css" media="all">

<link rel="preload" href="/jdk8-src-note/mobile-249b801e7d.min.css" as="style">
<link rel="stylesheet" href="/jdk8-src-note/mobile-249b801e7d.min.css" media="screen and (max-width: 45rem)">

<link rel="preload" href="/jdk8-src-note/print-f79fc3e5d7.min.css" as="style">
<link rel="stylesheet" href="/jdk8-src-note/print-f79fc3e5d7.min.css" media="print">

<link rel="preload" href="/jdk8-src-note/custom.css" as="style">
<link rel="stylesheet" href="/jdk8-src-note/custom.css" media="all">



<!-- Made with Geekdoc theme https://github.com/thegeeklab/hugo-geekdoc -->

    

</head>

<body itemscope itemtype="https://schema.org/WebPage">
    
<!-- geekdoc include: sprites/abstractClass.svg -->
<svg  id="abstractClass" class="svg-sprite" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 16 16">
  <defs>
    <rect id="abstractclass-a" width="8" height="14"/>
  </defs>
  <g fill="none" fill-rule="evenodd">
    <path fill="#9AA7B0" fill-opacity=".8" d="M3 3.1055C1.764 4.3685 1 6.0935 1 8.0005 1 9.9065 1.764 11.6315 3 12.8945L3 3.1055zM13 3.1055L13 12.8945C14.236 11.6315 15 9.9065 15 8.0005 15 6.0935 14.236 4.3675 13 3.1055"/>
    <g transform="translate(4 1)">
      <mask id="abstractclass-b" fill="#fff">
        <use xlink:href="#abstractclass-a"/>
      </mask>
      <g mask="url(#abstractclass-b)">
        <g transform="translate(-4 -1)">
          <path fill="#40B6E0" fill-opacity=".6" d="M15,8 C15,11.866 11.866,15 8,15 C4.134,15 1,11.866 1,8 C1,4.134 4.134,1 8,1 C11.866,1 15,4.134 15,8"/>
          <path fill="#231F20" fill-opacity=".7" d="M5,4.28253174 C4.53,4.74153174 4.028,4.978 3.1,5 C2.061,5.022 1,4.2794 1,3.0004 C1,1.7124 1.971,1 3.1,1 C3.94833171,1 4.54833171,1.18475342 4.9,1.55426025 L5.5162,0.836730957 C4.8293999,0.270175195 4.28826904,0.0004 3.0982,0.0004 C1.3402,0.0004 0.0002,1.3584 0.0002,3.0004 C0.0002,4.6824 1.3642,6.0004 3.0022,6.0004 C4.29284668,6.0004 5.0232,5.5934 5.6162,4.9814 C5.2054,4.51548783 5,4.28253174 5,4.28253174 Z" transform="translate(5 5)"/>
        </g>
      </g>
    </g>
  </g>
</svg>


<!-- geekdoc include: sprites/class.svg -->
<svg id="class" class="svg-sprite" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">
  <g fill="none" fill-rule="evenodd">
    <path fill="#40B6E0" fill-opacity=".6" d="M15,8 C15,11.866 11.866,15 8,15 C4.134,15 1,11.866 1,8 C1,4.134 4.134,1 8,1 C11.866,1 15,4.134 15,8"/>
    <path fill="#231F20" fill-opacity=".7" d="M5,4.28253174 C4.53,4.74153174 4.028,4.978 3.1,5 C2.061,5.022 1,4.2794 1,3.0004 C1,1.7124 1.971,1 3.1,1 C3.94833171,1 4.54833171,1.18475342 4.9,1.55426025 L5.5162,0.836730957 C4.8293999,0.270175195 4.28826904,0.0004 3.0982,0.0004 C1.3402,0.0004 0.0002,1.3584 0.0002,3.0004 C0.0002,4.6824 1.3642,6.0004 3.0022,6.0004 C4.29284668,6.0004 5.0232,5.5934 5.6162,4.9814 C5.2054,4.51548783 5,4.28253174 5,4.28253174 Z" transform="translate(5 5)"/>
  </g>
</svg>


<!-- geekdoc include: sprites/geekdoc.svg -->
<svg class="svg-sprite" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><symbol viewBox="-2.29 -2.29 28.57 28.57" id="gdoc_arrow_back" xmlns="http://www.w3.org/2000/svg"><path d="M24 10.526v2.947H5.755l8.351 8.421-2.105 2.105-12-12 12-12 2.105 2.105-8.351 8.421H24z"/></symbol><symbol viewBox="-2.29 -2.29 28.57 28.57" id="gdoc_arrow_left_alt" xmlns="http://www.w3.org/2000/svg"><path d="M5.965 10.526V6.035L0 12l5.965 5.965v-4.491H24v-2.947H5.965z"/></symbol><symbol viewBox="-2.29 -2.29 28.57 28.57" id="gdoc_arrow_right_alt" xmlns="http://www.w3.org/2000/svg"><path d="M18.035 10.526V6.035L24 12l-5.965 5.965v-4.491H0v-2.947h18.035z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_bitbucket" xmlns="http://www.w3.org/2000/svg"><path d="M15.905 13.355c.189 1.444-1.564 2.578-2.784 1.839-1.375-.602-1.375-2.784-.034-3.403 1.151-.705 2.818.223 2.818 1.564zm1.907-.361c-.309-2.44-3.076-4.056-5.328-3.042-1.426.636-2.389 2.148-2.32 3.747.086 2.097 2.08 3.815 4.176 3.626s3.729-2.234 3.472-4.331zm4.108-9.315c-.756-.997-2.045-1.169-3.179-1.358-3.214-.516-6.513-.533-9.727.034-1.066.172-2.269.361-2.939 1.323 1.1 1.031 2.664 1.186 4.073 1.358 2.544.327 5.156.344 7.699.017 1.426-.172 3.008-.309 4.073-1.375zm.979 17.788c-.481 1.684-.206 3.953-1.994 4.932-3.076 1.701-6.806 1.89-10.191 1.289-1.787-.327-3.884-.894-4.864-2.578-.43-1.65-.705-3.334-.98-5.018l.103-.275.309-.155c5.121 3.386 12.288 3.386 17.427 0 .808.241.206 1.22.189 1.805zM26.01 4.951c-.584 3.764-1.255 7.51-1.908 11.257-.189 1.1-1.255 1.719-2.148 2.183-3.214 1.615-6.96 1.89-10.483 1.512-2.389-.258-4.829-.894-6.771-2.389-.911-.705-.911-1.908-1.083-2.922-.602-3.523-1.289-7.046-1.719-10.604.206-1.547 1.942-2.217 3.231-2.698C6.848.654 8.686.362 10.508.19c3.884-.378 7.854-.241 11.618.859 1.341.395 2.784.945 3.695 2.097.412.533.275 1.203.189 1.805z"/></symbol><symbol viewBox="-2.29 -2.29 28.57 28.57" id="gdoc_bookmark" xmlns="http://www.w3.org/2000/svg"><path d="M15.268 4.392q.868 0 1.532.638t.664 1.506v17.463l-7.659-3.268-7.608 3.268V6.536q0-.868.664-1.506t1.532-.638h10.876zm4.34 14.144V4.392q0-.868-.638-1.532t-1.506-.664H6.537q0-.868.664-1.532T8.733 0h10.876q.868 0 1.532.664t.664 1.532v17.412z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_brightness_auto" xmlns="http://www.w3.org/2000/svg"><path d="M16.846 18.938h2.382L15.22 7.785h-2.44L8.772 18.938h2.382l.871-2.44h3.95zm7.087-9.062L27.999 14l-4.066 4.124v5.809h-5.809L14 27.999l-4.124-4.066H4.067v-5.809L.001 14l4.066-4.124V4.067h5.809L14 .001l4.124 4.066h5.809v5.809zm-11.385 4.937L14 10.282l1.452 4.531h-2.904z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_brightness_dark" xmlns="http://www.w3.org/2000/svg"><path d="M14 21.435q3.079 0 5.257-2.178T21.435 14t-2.178-5.257T14 6.565q-1.51 0-3.079.697 1.917.871 3.108 2.701T15.22 14t-1.191 4.037-3.108 2.701q1.568.697 3.079.697zm9.933-11.559L27.999 14l-4.066 4.124v5.809h-5.809L14 27.999l-4.124-4.066H4.067v-5.809L.001 14l4.066-4.124V4.067h5.809L14 .001l4.124 4.066h5.809v5.809z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_brightness_light" xmlns="http://www.w3.org/2000/svg"><path d="M14 21.435q3.079 0 5.257-2.178T21.435 14t-2.178-5.257T14 6.565 8.743 8.743 6.565 14t2.178 5.257T14 21.435zm9.933-3.311v5.809h-5.809L14 27.999l-4.124-4.066H4.067v-5.809L.001 14l4.066-4.124V4.067h5.809L14 .001l4.124 4.066h5.809v5.809L27.999 14z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_cloud_off" xmlns="http://www.w3.org/2000/svg"><path d="M9.023 10.5H7q-1.914 0-3.281 1.395t-1.367 3.309 1.367 3.281T7 19.852h11.375zM3.5 4.976l1.477-1.477L24.5 23.022l-1.477 1.477-2.352-2.297H6.999q-2.898 0-4.949-2.051t-2.051-4.949q0-2.844 1.969-4.867t4.758-2.133zm19.086 5.578q2.242.164 3.828 1.832T28 16.351q0 3.008-2.461 4.758l-1.695-1.695q1.805-.984 1.805-3.063 0-1.422-1.039-2.461t-2.461-1.039h-1.75v-.602q0-2.68-1.859-4.539t-4.539-1.859q-1.531 0-2.953.711l-1.75-1.695Q11.431 3.5 14.001 3.5q2.953 0 5.496 2.078t3.09 4.977z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_code" xmlns="http://www.w3.org/2000/svg"><path d="M9.917 24.5a1.75 1.75 0 10-3.501.001 1.75 1.75 0 003.501-.001zm0-21a1.75 1.75 0 10-3.501.001A1.75 1.75 0 009.917 3.5zm11.666 2.333a1.75 1.75 0 10-3.501.001 1.75 1.75 0 003.501-.001zm1.75 0a3.502 3.502 0 01-1.75 3.026c-.055 6.581-4.721 8.039-7.82 9.023-2.898.911-3.846 1.349-3.846 3.117v.474a3.502 3.502 0 011.75 3.026c0 1.932-1.568 3.5-3.5 3.5s-3.5-1.568-3.5-3.5c0-1.294.711-2.424 1.75-3.026V6.526A3.502 3.502 0 014.667 3.5c0-1.932 1.568-3.5 3.5-3.5s3.5 1.568 3.5 3.5a3.502 3.502 0 01-1.75 3.026v9.06c.93-.456 1.914-.766 2.807-1.039 3.391-1.075 5.323-1.878 5.359-5.687a3.502 3.502 0 01-1.75-3.026c0-1.932 1.568-3.5 3.5-3.5s3.5 1.568 3.5 3.5z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_date" xmlns="http://www.w3.org/2000/svg"><path d="M27.192 28.844V11.192H4.808v17.652h22.384zm0-25.689q1.277 0 2.253.976t.976 2.253v22.459q0 1.277-.976 2.216t-2.253.939H4.808q-1.352 0-2.291-.901t-.939-2.253V6.385q0-1.277.939-2.253t2.291-.976h1.577V.001h3.23v3.155h12.769V.001h3.23v3.155h1.577zm-3.155 11.267v3.155h-3.23v-3.155h3.23zm-6.46 0v3.155h-3.155v-3.155h3.155zm-6.384 0v3.155h-3.23v-3.155h3.23z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_download" xmlns="http://www.w3.org/2000/svg"><path d="M2.866 28.209h26.269v3.79H2.866v-3.79zm26.268-16.925L16 24.418 2.866 11.284h7.493V.001h11.283v11.283h7.493z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_email" xmlns="http://www.w3.org/2000/svg"><path d="M28.845 9.615v-3.23L16 14.422 3.155 6.385v3.23L16 17.577zm0-6.46q1.277 0 2.216.977T32 6.385v19.23q0 1.277-.939 2.253t-2.216.977H3.155q-1.277 0-2.216-.977T0 25.615V6.385q0-1.277.939-2.253t2.216-.977h25.69z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_git" xmlns="http://www.w3.org/2000/svg"><path d="M27.472 12.753L15.247.529a1.803 1.803 0 00-2.55 0l-2.84 2.84 2.137 2.137a2.625 2.625 0 013.501 3.501l3.499 3.499a2.625 2.625 0 11-1.237 1.237l-3.499-3.499c-.083.04-.169.075-.257.106v7.3a2.626 2.626 0 11-1.75 0v-7.3a2.626 2.626 0 01-1.494-3.607L8.62 4.606l-8.09 8.09a1.805 1.805 0 000 2.551l12.225 12.224a1.803 1.803 0 002.55 0l12.168-12.168a1.805 1.805 0 000-2.551z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_github" xmlns="http://www.w3.org/2000/svg"><path d="M16 .394c8.833 0 15.999 7.166 15.999 15.999 0 7.062-4.583 13.062-10.937 15.187-.813.146-1.104-.354-1.104-.771 0-.521.021-2.25.021-4.396 0-1.5-.5-2.458-1.083-2.958 3.562-.396 7.312-1.75 7.312-7.896 0-1.75-.625-3.167-1.646-4.291.167-.417.708-2.042-.167-4.25-1.333-.417-4.396 1.646-4.396 1.646a15.032 15.032 0 00-8 0S8.937 6.602 7.603 7.018c-.875 2.208-.333 3.833-.167 4.25-1.021 1.125-1.646 2.542-1.646 4.291 0 6.125 3.729 7.5 7.291 7.896-.458.417-.875 1.125-1.021 2.146-.917.417-3.25 1.125-4.646-1.333-.875-1.521-2.458-1.646-2.458-1.646-1.562-.021-.104.979-.104.979 1.042.479 1.771 2.333 1.771 2.333.938 2.854 5.396 1.896 5.396 1.896 0 1.333.021 2.583.021 2.979 0 .417-.292.917-1.104.771C4.582 29.455-.001 23.455-.001 16.393-.001 7.56 7.165.394 15.998.394zM6.063 23.372c.042-.083-.021-.187-.146-.25-.125-.042-.229-.021-.271.042-.042.083.021.187.146.25.104.062.229.042.271-.042zm.646.709c.083-.062.062-.208-.042-.333-.104-.104-.25-.146-.333-.062-.083.062-.062.208.042.333.104.104.25.146.333.062zm.625.937c.104-.083.104-.25 0-.396-.083-.146-.25-.208-.354-.125-.104.062-.104.229 0 .375s.271.208.354.146zm.875.875c.083-.083.042-.271-.083-.396-.146-.146-.333-.167-.417-.062-.104.083-.062.271.083.396.146.146.333.167.417.062zm1.187.521c.042-.125-.083-.271-.271-.333-.167-.042-.354.021-.396.146s.083.271.271.312c.167.062.354 0 .396-.125zm1.313.104c0-.146-.167-.25-.354-.229-.187 0-.333.104-.333.229 0 .146.146.25.354.229.187 0 .333-.104.333-.229zm1.208-.208c-.021-.125-.187-.208-.375-.187-.187.042-.312.167-.292.312.021.125.187.208.375.167s.312-.167.292-.292z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_gitlab" xmlns="http://www.w3.org/2000/svg"><path d="M1.629 11.034L14 26.888.442 17.048a1.09 1.09 0 01-.39-1.203l1.578-4.811zm7.217 0h10.309l-5.154 15.854zM5.753 1.475l3.093 9.559H1.63l3.093-9.559a.548.548 0 011.031 0zm20.618 9.559l1.578 4.811c.141.437-.016.922-.39 1.203l-13.558 9.84 12.371-15.854zm0 0h-7.216l3.093-9.559a.548.548 0 011.031 0z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_heart" xmlns="http://www.w3.org/2000/svg"><path d="M16 29.714a1.11 1.11 0 01-.786-.321L4.072 18.643c-.143-.125-4.071-3.714-4.071-8 0-5.232 3.196-8.357 8.535-8.357 3.125 0 6.053 2.464 7.464 3.857 1.411-1.393 4.339-3.857 7.464-3.857 5.339 0 8.535 3.125 8.535 8.357 0 4.286-3.928 7.875-4.089 8.035L16.785 29.392c-.214.214-.5.321-.786.321z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_keyborad_arrow_down" xmlns="http://www.w3.org/2000/svg"><path d="M3.281 5.36L14 16.079 24.719 5.36 28 8.641l-14 14-14-14z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_keyborad_arrow_left" xmlns="http://www.w3.org/2000/svg"><path d="M25.875 28.25L22.125 32 6.126 16.001 22.125.002l3.75 3.75-12.25 12.25z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_keyborad_arrow_right" xmlns="http://www.w3.org/2000/svg"><path d="M6.125 28.25L18.375 16 6.125 3.75 9.875 0l15.999 15.999L9.875 31.998z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_link" xmlns="http://www.w3.org/2000/svg"><path d="M24.037 7.963q3.305 0 5.634 2.366T32 16t-2.329 5.671-5.634 2.366h-6.46v-3.08h6.46q2.028 0 3.493-1.465t1.465-3.493-1.465-3.493-3.493-1.465h-6.46v-3.08h6.46zM9.615 17.578v-3.155h12.77v3.155H9.615zM3.005 16q0 2.028 1.465 3.493t3.493 1.465h6.46v3.08h-6.46q-3.305 0-5.634-2.366T0 16.001t2.329-5.671 5.634-2.366h6.46v3.08h-6.46q-2.028 0-3.493 1.465t-1.465 3.493z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_menu" xmlns="http://www.w3.org/2000/svg"><path d="M.001 5.334h31.998v3.583H.001V5.334zm0 12.416v-3.5h31.998v3.5H.001zm0 8.916v-3.583h31.998v3.583H.001z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_notification" xmlns="http://www.w3.org/2000/svg"><path d="M22.615 19.384l2.894 2.894v1.413H2.49v-1.413l2.894-2.894V12.25q0-3.365 1.716-5.856t4.745-3.231v-1.01q0-.875.606-1.514T13.999 0t1.548.639.606 1.514v1.01q3.029.74 4.745 3.231t1.716 5.856v7.134zM14 27.999q-1.211 0-2.053-.808t-.841-2.019h5.788q0 1.144-.875 1.986T14 27.999z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_path" xmlns="http://www.w3.org/2000/svg"><path d="M28 12.62h-9.793V8.414h-2.826v11.173h2.826v-4.206H28V26.62h-9.793v-4.206H12.62v-14H9.794v4.206H.001V1.381h9.793v4.206h8.413V1.381H28V12.62z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_person" xmlns="http://www.w3.org/2000/svg"><path d="M16 20.023q5.052 0 10.526 2.199t5.473 5.754v4.023H0v-4.023q0-3.555 5.473-5.754t10.526-2.199zM16 16q-3.275 0-5.614-2.339T8.047 8.047t2.339-5.661T16 0t5.614 2.386 2.339 5.661-2.339 5.614T16 16z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_search" xmlns="http://www.w3.org/2000/svg"><path d="M11.925 20.161q3.432 0 5.834-2.402t2.402-5.834-2.402-5.834-5.834-2.402-5.834 2.402-2.402 5.834 2.402 5.834 5.834 2.402zm10.981 0L32 29.255 29.255 32l-9.094-9.094v-1.458l-.515-.515q-3.26 2.831-7.721 2.831-4.976 0-8.45-3.432T.001 11.925t3.474-8.45 8.45-3.474 8.407 3.474 3.432 8.45q0 1.802-.858 4.075t-1.973 3.646l.515.515h1.458z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_shield" xmlns="http://www.w3.org/2000/svg"><path d="M22.167 15.166V3.5h-8.166v20.726c.93-.492 2.424-1.349 3.883-2.497 1.95-1.531 4.284-3.919 4.284-6.562zm3.499-13.999v14c0 7.674-10.737 12.523-11.192 12.724-.146.073-.31.109-.474.109s-.328-.036-.474-.109c-.456-.201-11.192-5.049-11.192-12.724v-14C2.334.529 2.863 0 3.501 0H24.5c.638 0 1.167.529 1.167 1.167z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_tags" xmlns="http://www.w3.org/2000/svg"><path d="M6.606 7.549c0-1.047-.84-1.887-1.887-1.887s-1.887.84-1.887 1.887.84 1.887 1.887 1.887 1.887-.84 1.887-1.887zm15.732 8.493c0 .501-.206.988-.546 1.327l-7.239 7.254c-.354.339-.84.546-1.342.546s-.988-.206-1.327-.546L1.342 14.066C.59 13.329 0 11.899 0 10.852V4.718a1.9 1.9 0 011.887-1.887h6.134c1.047 0 2.477.59 3.229 1.342L21.792 14.7c.339.354.546.84.546 1.342zm5.661 0c0 .501-.206.988-.546 1.327l-7.239 7.254c-.354.339-.84.546-1.342.546-.767 0-1.15-.354-1.651-.87l6.93-6.93c.339-.339.546-.826.546-1.327s-.206-.988-.546-1.342L13.609 4.173c-.752-.752-2.182-1.342-3.229-1.342h3.303c1.047 0 2.477.59 3.229 1.342L27.454 14.7c.339.354.546.84.546 1.342z"/></symbol></svg>

<!-- geekdoc include: sprites/interface.svg -->
<svg  id="interface" class="svg-sprite" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">
  <g fill="none" fill-rule="evenodd">
    <path fill="#62B543" fill-opacity=".6" d="M15,8 C15,11.866 11.866,15 8,15 C4.134,15 1,11.866 1,8 C1,4.134 4.134,1 8,1 C11.866,1 15,4.134 15,8"/>
    <polygon fill="#231F20" fill-opacity=".7" points="8.5 10 8.5 6 9.5 5.664 9.5 5 6.5 5 6.5 5.664 7.5 6 7.5 10 6.5 10.344 6.5 11 9.5 11 9.5 10.344"/>
  </g>
</svg>


<!-- geekdoc include: sprites/package.svg -->
<svg id="package" class="svg-sprite" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">
  <path fill="#9AA7B0" fill-opacity=".8" fill-rule="evenodd" d="M6,10.4951 C4.896,10.4951 4.001,9.6001 4,8.4981 C3.999,7.3941 4.894,6.5001 5.997,6.5001 C7.102,6.5001 7.997,7.3941 7.998,8.4981 C7.999,9.6001 7.104,10.4951 6,10.4951 Z M7.984,4.0001 L6.696,2.7111 C6.305,2.3201 5.532,2.0001 4.979,2.0001 L1.051,2.0001 C1.023,2.0001 1,2.0231 1,2.0511 L1,13.0001 L15,13.0001 L15,4.0001 L7.984,4.0001 Z"/>
</svg>




    <div class="wrapper ">
        <input type="checkbox" class="hidden" id="menu-control" />
        
        <header class="gdoc-header">
    <div class="container flex align-center justify-between">
        
        <label for="menu-control" class="gdoc-nav__control">
            <svg class="icon gdoc_menu"><use xlink:href="#gdoc_menu"></use></svg>
            <svg class="icon gdoc_arrow_back"><use xlink:href="#gdoc_arrow_back"></use></svg>
        </label>
        
        <a class="gdoc-header__link" href="https://hongmao.run/jdk8-src-note/">
            <span class="gdoc-brand flex align-center">
                <img class="gdoc-brand__img" src="/jdk8-src-note/brand.svg" alt="">
                JDK8源码阅读笔记
            </span>
        </a>
        <span id="gdoc-dark-mode">
            <svg class="icon gdoc_brightness_dark"><use xlink:href="#gdoc_brightness_dark"></use></svg>
            <svg class="icon gdoc_brightness_light"><use xlink:href="#gdoc_brightness_light"></use></svg>
            <svg class="icon gdoc_brightness_auto"><use xlink:href="#gdoc_brightness_auto"></use></svg>
        </span>
    </div>
</header>


        <main class="container flex flex-even">
            
            <aside class="gdoc-nav">
                <nav>
    
    <div class="gdoc-search">
        <svg class="icon gdoc_search"><use xlink:href="#gdoc_search"></use></svg>
        <input type="text" id="gdoc-search-input" class="gdoc-search__input" placeholder="Search..."
            aria-label="Search" maxlength="64" />
        <div class="gdoc-search__spinner spinner hidden"></div>
        <ul id="gdoc-search-results" class="gdoc-search__list"></ul>
    </div>



    <section class="gdoc-nav--main">
        <h2>Navigation</h2>
        
            




<ul class="gdoc-nav__list">

    
    

    <li>
        
        
            
            
            
            
            
            
            
            
            

            
            <span class="flex">
                <svg class="icon package"><use xlink:href="#package"></use></svg>
                <a href="/jdk8-src-note/java/"
                    class="gdoc-nav__entry ">
                    java
                </a>
            </span>
            
        

        
            



<ul class="gdoc-nav__list">

    
    

    <li>
        
        
            
            
            
            
            
            
            
            
            

            
            <span class="flex">
                <svg class="icon package"><use xlink:href="#package"></use></svg>
                <a href="/jdk8-src-note/java/util/"
                    class="gdoc-nav__entry ">
                    util
                </a>
            </span>
            
        

        
            



<ul class="gdoc-nav__list">

    
    

    <li>
        
        
            
            
            
            
            
            
            
            
            

            
            <span class="flex">
                <svg class="icon abstractClass"><use xlink:href="#abstractClass"></use></svg>
                <a href="/jdk8-src-note/java/util/AbstractCollection/"
                    class="gdoc-nav__entry ">
                    AbstractCollection
                </a>
            </span>
            
        

        
    </li>


    
    

    <li>
        
        
            
            
            
            
            
            
            
            
            

            
            <span class="flex">
                <svg class="icon abstractClass"><use xlink:href="#abstractClass"></use></svg>
                <a href="/jdk8-src-note/java/util/AbstractList/"
                    class="gdoc-nav__entry ">
                    AbstractList
                </a>
            </span>
            
        

        
    </li>


    
    

    <li>
        
        
            
            
            
            
            
            
            
            
            

            
            <span class="flex">
                <svg class="icon interface"><use xlink:href="#interface"></use></svg>
                <a href="/jdk8-src-note/java/util/Collection/"
                    class="gdoc-nav__entry ">
                    Collection
                </a>
            </span>
            
        

        
    </li>


    
    

    <li>
        
        
            
            
            
            
            
            
            
            
            

            
            <span class="flex">
                <svg class="icon interface"><use xlink:href="#interface"></use></svg>
                <a href="/jdk8-src-note/java/util/Iterator/"
                    class="gdoc-nav__entry ">
                    Iterator
                </a>
            </span>
            
        

        
    </li>


    
    

    <li>
        
        
            
            
            
            
            
            
            
            
            

            
            <span class="flex">
                <svg class="icon interface"><use xlink:href="#interface"></use></svg>
                <a href="/jdk8-src-note/java/util/List/"
                    class="gdoc-nav__entry is-active">
                    List
                </a>
            </span>
            
        

        
    </li>


    
    

    <li>
        
        
            
            
            
            
            
            
            
            
            

            
            <span class="flex">
                <svg class="icon interface"><use xlink:href="#interface"></use></svg>
                <a href="/jdk8-src-note/java/util/ListIterator/"
                    class="gdoc-nav__entry ">
                    ListIterator
                </a>
            </span>
            
        

        
    </li>


</ul>

        
    </li>


</ul>

        
    </li>


</ul>





        
    </section>

    <section class="gdoc-nav--more">
        
    </section>
</nav>

            </aside>
            

            <div class="gdoc-page">
                
    


    






<div class="gdoc-page__header flex flex-wrap
     justify-between 
     hidden-mobile 
    " itemprop="breadcrumb">
    
    <div>
        <svg class="icon gdoc_path hidden-mobile"><use xlink:href="#gdoc_path"></use></svg>
        <ol class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList">
            
            
            
            
    
    
        
        
        
        
    
    
        
        
        
        
    
    
        
        
        
        
    
    
        <li itemprop='itemListElement' itemscope itemtype='https://schema.org/ListItem'><a itemscope itemtype='https://schema.org/WebPage' itemprop='item' itemid='/jdk8-src-note/' href='/jdk8-src-note/'><span itemprop='name'>JDK8源码阅读笔记</span></a><meta itemprop='position' content='2' /></li><li> / </li><li itemprop='itemListElement' itemscope itemtype='https://schema.org/ListItem'><a itemscope itemtype='https://schema.org/WebPage' itemprop='item' itemid='/jdk8-src-note/java/' href='/jdk8-src-note/java/'><span itemprop='name'>java</span></a><meta itemprop='position' content='3' /></li><li> / </li><li itemprop='itemListElement' itemscope itemtype='https://schema.org/ListItem'><a itemscope itemtype='https://schema.org/WebPage' itemprop='item' itemid='/jdk8-src-note/java/util/' href='/jdk8-src-note/java/util/'><span itemprop='name'>util</span></a><meta itemprop='position' content='4' /></li><li> / </li><li itemprop='itemListElement' itemscope itemtype='https://schema.org/ListItem'><span itemprop='name'>List</span><meta itemprop='position' content='5' /></li>
    

    

    

    

        </ol>
    </div>
    
    
</div>


    <article class="gdoc-markdown gdoc-markdown__align--left">
        <h1>List</h1>
        <p><img src="https://img.hongmao.run/blog/2021/07/List.png" alt=""  /></p>
<p>有序集合（也称为sequence）。该接口的用户可以精确控制列表中每个元素的插入位置。用户可以通过其整数索引（列表中的位置）访问元素，并在列表中搜索元素。</p>
<p>与集合不同，列表通常允许重复的元素。更正式地说，列表通常允许成对的元素<code>e1</code>和<code>e2</code>，它们满足<code>e1.equals(e2)</code>，并且如果允许空值，它们通常允许多个空元素。有人希望通过在用户尝试插入重复元素时抛出运行时异常来实现禁止重复的列表，这也并非不可行，但我们希望这种用法很少见。</p>
<p><code>List</code>接口在已熟知的<code>Collection</code> 接口的规定之外有一些额外的规定，在<code>iterator</code>，<code>add</code>，<code>remove</code>，<code>equals</code>和<code>hashCode</code>方法上。为了方便起见，还包括其他继承方法的声明。</p>
<p><code>List</code>接口提供了四种使用位置（索引）访问列表元素的方法。列表（如Java数组）是从零开始的。请注意，对于某些实现（例如，<code>LinkedList</code>类），这些操作可能在时间上与索引值成比例地执行。因此，如果调用者不知道实现，则遍历列表中的元素通常比对其进行索引更可取。</p>
<p><code>List</code>接口提供了一个特殊的迭代器，称为<code>ListIterator</code>，除<code>Iterator</code>接口的常规操作外，它还允许元素插入和替换以及双向访问。它还提供了一种获取列表迭代器的方法，该列表迭代器从列表中的指定位置开始。</p>
<p><code>List</code>接口提供了两种搜索指定对象的方法。从性能的角度来看，应谨慎使用这些方法。在许多实现中，它们将执行昂贵的线性搜索。</p>
<p><code>List</code>接口提供了两种方法，可以有效地在列表中的任意点插入和删除多个元素。</p>
<p>注意：虽然允许列表包含自己作为元素，但建议格外小心：<code>equals</code>和<code>hashCode</code>方法在这样的列表上不再有很好的定义。</p>
<p>一些列表实现对它们可能包含的元素有限制。例如，某些实现禁止使用<code>null</code>元素，而某些实现对其元素类型进行限制。尝试添加不合格的元素会引发未经检查的异常，通常为<code>NullPointerException</code>或<code>ClassCastException</code>。尝试查询不合格元素的存在可能会引发异常，或者可能仅返回<code>false</code>。一些实现将表现出前一种行为，而某些将表现出后者。更一般地，尝试对不合格元素进行操作，该操作的完成不会导致将不合格元素插入列表中，这可能会导致异常或成功，具体取决于实现方式。此类异常在此接口的规范中标记为“可选”。</p>
<p>该接口是Java集合框架的成员。</p>
<div class="gdoc-page__anchorwrap">
    <h1 id="1-int-size">
        1. int size();
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/List/#1-int-size" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 1. int size();" href="#1-int-size">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>返回此列表中的元素数。如果此列表包含多于 <code>Integer.MAX_VALUE</code> 个元素，则返回<code>Integer.MAX_VALUE</code> 。</p>
<div class="gdoc-page__anchorwrap">
    <h1 id="2-boolean-isempty">
        2. boolean isEmpty();
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/List/#2-boolean-isempty" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 2. boolean isEmpty();" href="#2-boolean-isempty">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>当前列表不包含元素时返回 <code>true</code> 。</p>
<div class="gdoc-page__anchorwrap">
    <h1 id="3-boolean-containsobject-o">
        3. boolean contains(Object o);
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/List/#3-boolean-containsobject-o" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 3. boolean contains(Object o);" href="#3-boolean-containsobject-o">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>如果当前列表包含指定的元素则返回 <code>true</code> 。</p>
<p>更准确的说，当且仅当列表中至少存在一个元素满足 <code>(o == null ? e == null : o.equals(e)</code> 时返回 <code>true</code> 。</p>
<p>如果指定的元素类型不匹配，则可以抛出 <code>ClassCastException</code> ，但这是可选操作，也可以不抛出异常。</p>
<p>如果指定的元素是空，且当前列表不允许空元素，则可以抛出 <code>NullPointerException</code> ，这也是可选操作。</p>
<div class="gdoc-page__anchorwrap">
    <h1 id="4-iteratore-iterator">
        4. Iterator<!-- raw HTML omitted --> iterator();
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/List/#4-iteratore-iterator" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 4. Iterator iterator();" href="#4-iteratore-iterator">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>以正确的顺序返回在此列表中的元素上的迭代器。</p>
<div class="gdoc-page__anchorwrap">
    <h1 id="5-object-toarray">
        5. Object[] toArray();
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/List/#5-object-toarray" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 5. Object[] toArray();" href="#5-object-toarray">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>以正确的顺序（从第一个元素到最后一个元素）返回一个包含此列表中所有元素的数组。</p>
<p>返回的数组将是“安全的”，因为此列表不保留对其的引用。 （换句话说，即使此列表由数组支持，此方法也必须分配一个新数组）。因此，调用者可以自由修改返回的数组。</p>
<p>此方法充当基于数组的API和基于集合的API之间的桥梁。</p>
<div class="gdoc-page__anchorwrap">
    <h1 id="6-t-t-toarrayt-a">
        6. <!-- raw HTML omitted --> T[] toArray(T[] a);
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/List/#6-t-t-toarrayt-a" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 6.  T[] toArray(T[] a);" href="#6-t-t-toarrayt-a">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>返回一个数组，该数组按正确的顺序包含此列表中的所有元素（从第一个元素到最后一个元素）；返回数组的运行时类型是指定数组的运行时类型。如果列表适合指定的数组，则将其返回。否则，将使用指定数组的运行时类型和此列表的大小分配一个新数组。</p>
<p>如果列表适合指定的数组并有剩余空间（即数组中的元素多于列表），则数组中紧接列表末尾的元素将设置为<code>null</code>。 （如果调用者知道列表不包含任何<code>null</code>元素，则这对于确定列表的长度很有用。）</p>
<p>与<code>toArray()</code>方法类似，此方法充当基于数组的API和基于集合的API之间的桥梁。此外，此方法允许对输出数组的运行时类型进行精确控制，并且在某些情况下可以用来节省分配成本。</p>
<p>假设<code>x</code>是一个已知仅包含字符串的列表。以下代码可用于将列表转储到新分配的<code>String</code>数组中：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#000">String</span><span style="color:#000">[]</span> <span style="color:#000">y</span> <span style="color:#000">=</span> <span style="color:#000">x</span><span style="color:#000">.</span><span style="color:#836c28">toArray</span><span style="color:#000">(</span><span style="color:#a90d91">new</span> <span style="color:#000">String</span><span style="color:#000">[</span><span style="color:#000">0</span><span style="color:#000">]);</span>
</code></pre></td></tr></table>
</div>
</div><p>请注意，<code>toArray(new Object[0])</code>在功能上与<code>toArray()</code>相同。</p>
<div class="gdoc-page__anchorwrap">
    <h1 id="7-boolean-adde-e">
        7. boolean add(E e);
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/List/#7-boolean-adde-e" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 7. boolean add(E e);" href="#7-boolean-adde-e">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>将指定的元素追加到此列表的末尾（可选操作）。</p>
<p>支持此操作的列表可能会限制可以添加到此列表的元素。特别是，某些列表将拒绝添加空元素，而另一些列表将对可能添加的元素类型施加限制。列表类应在其文档中明确指定对可以添加哪些元素的所有限制。</p>
<div class="gdoc-page__anchorwrap">
    <h1 id="8-boolean-removeobject-o">
        8. boolean remove(Object o);
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/List/#8-boolean-removeobject-o" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 8. boolean remove(Object o);" href="#8-boolean-removeobject-o">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>如果存在指定元素，则从列表中删除该元素的第一个匹配项（可选操作）。如果此列表不包含该元素，则它保持不变。更准确的说，删除满足<code>(o==null ? get(i)==null : o.equals(get(i)))</code> 条件的最小索引<code>i</code>的元素（如果存在这样的元素）。如果此列表包含指定的元素（或者等效地，如果此列表由于调用而更改），则返回<code>true</code>。</p>
<div class="gdoc-page__anchorwrap">
    <h1 id="9-boolean-containsallcollection-c">
        9. boolean containsAll(Collection&lt;?&gt; c);
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/List/#9-boolean-containsallcollection-c" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 9. boolean containsAll(Collection&lt;?&gt; c);" href="#9-boolean-containsallcollection-c">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>如果此列表包含指定集合的所有元素，则返回<code>true</code>。</p>
<p>按照指定集合的迭代器返回的顺序（可选操作），将指定集合中的所有元素追加到此列表的末尾。如果在操作进行过程中修改了指定的集合，则此操作的行为是不确定的。 （请注意，如果指定的集合是此列表，并且是非空的，则将发生这种情况。）</p>
<div class="gdoc-page__anchorwrap">
    <h1 id="10-boolean-addallcollection-extends-e-c">
        10. boolean addAll(Collection&lt;? extends E&gt; c);
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/List/#10-boolean-addallcollection-extends-e-c" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 10. boolean addAll(Collection&lt;? extends E&gt; c);" href="#10-boolean-addallcollection-extends-e-c">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>按照指定集合的迭代器返回的顺序，将指定集合中的所有元素追加到此列表的末尾（可选操作）。如果在操作进行过程中修改了指定的集合，则此操作的行为是不确定的。 （请注意，如果指定的集合是此列表，并且是非空的，则将发生这种情况。）</p>
<div class="gdoc-page__anchorwrap">
    <h1 id="11-boolean-addallint-index-collection-extends-e-c">
        11. boolean addAll(int index, Collection&lt;? extends E&gt; c);
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/List/#11-boolean-addallint-index-collection-extends-e-c" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 11. boolean addAll(int index, Collection&lt;? extends E&gt; c);" href="#11-boolean-addallint-index-collection-extends-e-c">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>将指定集合中的所有元素插入此列表中的指定位置（可选操作）。将当前在该位置的元素（如果有）和任何后续元素右移（增加其索引）。新元素将按照指定集合的迭代器返回的顺序显示在此列表中。如果在操作进行过程中修改了指定的集合，则此操作的行为是不确定的。 （请注意，如果指定的集合是此列表，并且是非空的，则将发生这种情况。）</p>
<div class="gdoc-page__anchorwrap">
    <h1 id="12-boolean-removeallcollection-c">
        12. boolean removeAll(Collection&lt;?&gt; c);
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/List/#12-boolean-removeallcollection-c" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 12. boolean removeAll(Collection&lt;?&gt; c);" href="#12-boolean-removeallcollection-c">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>从此列表中删除指定集合中包含的所有其元素（可选操作）。</p>
<div class="gdoc-page__anchorwrap">
    <h1 id="13-boolean-retainallcollection-c">
        13. boolean retainAll(Collection&lt;?&gt; c);
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/List/#13-boolean-retainallcollection-c" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 13. boolean retainAll(Collection&lt;?&gt; c);" href="#13-boolean-retainallcollection-c">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>仅保留此列表中包含的指定集合中的元素（可选操作）。换句话说，从该列表中删除所有未包含在指定集合中的元素。</p>
<div class="gdoc-page__anchorwrap">
    <h1 id="14-default-void-replaceallunaryoperatore-operator">
        14. default void replaceAll(UnaryOperator<!-- raw HTML omitted --> operator)
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/List/#14-default-void-replaceallunaryoperatore-operator" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 14. default void replaceAll(UnaryOperator operator)" href="#14-default-void-replaceallunaryoperatore-operator">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>用指定运算符应用于该元素的结果替换此列表中的每个元素。操作时抛出的错误或运行时异常将中继给调用方。</p>
<p>对于此<code>list</code>，默认实现等效于：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">final</span> <span style="color:#000">ListIterator</span><span style="color:#000">&lt;</span><span style="color:#000">E</span><span style="color:#000">&gt;</span> <span style="color:#000">li</span> <span style="color:#000">=</span> <span style="color:#000">list</span><span style="color:#000">.</span><span style="color:#836c28">listIterator</span><span style="color:#000">();</span>
<span style="color:#a90d91">while</span> <span style="color:#000">(</span><span style="color:#000">li</span><span style="color:#000">.</span><span style="color:#836c28">hasNext</span><span style="color:#000">())</span> <span style="color:#000">{</span>
		<span style="color:#000">li</span><span style="color:#000">.</span><span style="color:#836c28">set</span><span style="color:#000">(</span><span style="color:#000">operator</span><span style="color:#000">.</span><span style="color:#836c28">apply</span><span style="color:#000">(</span><span style="color:#000">li</span><span style="color:#000">.</span><span style="color:#836c28">next</span><span style="color:#000">()));</span>
<span style="color:#000">}</span>
</code></pre></td></tr></table>
</div>
</div><p>如果列表的列表迭代器不支持<code>set</code>操作，则替换第一个元素时将引发<code>UnsupportedOperationException</code>。</p>
<p>源码如下：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">default</span> <span style="color:#a90d91">void</span> <span style="color:#000">replaceAll</span><span style="color:#000">(</span><span style="color:#000">UnaryOperator</span><span style="color:#000">&lt;</span><span style="color:#000">E</span><span style="color:#000">&gt;</span> <span style="color:#000">operator</span><span style="color:#000">)</span> <span style="color:#000">{</span>
    <span style="color:#000">Objects</span><span style="color:#000">.</span><span style="color:#836c28">requireNonNull</span><span style="color:#000">(</span><span style="color:#000">operator</span><span style="color:#000">);</span>
    <span style="color:#a90d91">final</span> <span style="color:#000">ListIterator</span><span style="color:#000">&lt;</span><span style="color:#000">E</span><span style="color:#000">&gt;</span> <span style="color:#000">li</span> <span style="color:#000">=</span> <span style="color:#a90d91">this</span><span style="color:#000">.</span><span style="color:#836c28">listIterator</span><span style="color:#000">();</span>
		<span style="color:#177500">// 使用迭代器遍历当前集合
</span><span style="color:#177500"></span>    <span style="color:#a90d91">while</span> <span style="color:#000">(</span><span style="color:#000">li</span><span style="color:#000">.</span><span style="color:#836c28">hasNext</span><span style="color:#000">())</span> <span style="color:#000">{</span>
        <span style="color:#177500">// 对遍历到的每个元素执行指定的操作，将得到的返回值替换当前元素
</span><span style="color:#177500"></span>        <span style="color:#000">li</span><span style="color:#000">.</span><span style="color:#836c28">set</span><span style="color:#000">(</span><span style="color:#000">operator</span><span style="color:#000">.</span><span style="color:#836c28">apply</span><span style="color:#000">(</span><span style="color:#000">li</span><span style="color:#000">.</span><span style="color:#836c28">next</span><span style="color:#000">()));</span>
    <span style="color:#000">}</span>
<span style="color:#000">}</span>
</code></pre></td></tr></table>
</div>
</div><div class="gdoc-page__anchorwrap">
    <h1 id="15-default-void-sortcomparator-super-e-c">
        15. default void sort(Comparator&lt;? super E&gt; c)
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/List/#15-default-void-sortcomparator-super-e-c" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 15. default void sort(Comparator&lt;? super E&gt; c)" href="#15-default-void-sortcomparator-super-e-c">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>根据指定的<code>Comparator</code> 所指定的顺序对该列表进行排序。</p>
<p>此列表中的所有元素必须相互可比，即使用指定的比较器（<code>c.compare(e1, e2)</code>）不得为任何元素例如列表中的<code>e1</code>、<code>e2</code>抛出<code>ClassCastException</code>。</p>
<p>如果指定的比较器为<code>null</code>，则此列表中的所有元素都必须实现<code>Comparable</code>接口，并且应使用元素的<code>Comparable</code>自然排序。</p>
<p>该列表必须是可修改的，但无需可调整大小。</p>
<p>默认实现获取一个包含此列表中所有元素的数组，然后对该数组进行排序，并在此列表上进行迭代，从数组中的相应位置重置每个元素。（这避免了由于尝试对链表进行排序而导致的$n^2$ log(n)的性能开销。）</p>
<p>此实现是一种稳定的，自适应的，可迭代的合并排序，当对输入数组进行部分排序时，所需的比较少于n lg(n)，而在对输入数组进行随机排序时，它提供了传统合并排序的性能。如果输入数组几乎已排序，则该实现需要大约n个比较。临时存储要求从几乎排序的输入数组的小常数到随机排序的输入数组的n/2对象引用，不一而足。</p>
<p>该实现在其输入数组中利用了升序和降序的同等优势，并且可以在同一输入数组的不同部分中利用了升序和降序的优势。它非常适合合并两个或多个排序后的数组：简单地将数组连接起来并对排序后的数组进行排序。</p>
<p>该实现改编自Tim Peters针对Python的列表排序<a class="gdoc-markdown__link" href="http://svn.python.org/projects/python/trunk/Objects/listsort.txt">TimSort</a>。它使用了Peter McIlroy的“乐观排序和信息理论复杂性”技术，该技术在1993年1月举行的第四届ACM-SIAM离散算法年会上发表，第467-474页。</p>
<p>源码如下：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">default</span> <span style="color:#a90d91">void</span> <span style="color:#000">sort</span><span style="color:#000">(</span><span style="color:#000">Comparator</span><span style="color:#000">&lt;?</span> <span style="color:#a90d91">super</span> <span style="color:#000">E</span><span style="color:#000">&gt;</span> <span style="color:#000">c</span><span style="color:#000">)</span> <span style="color:#000">{</span>
    <span style="color:#177500">// 将当前列表转换为数组a
</span><span style="color:#177500"></span>    <span style="color:#000">Object</span><span style="color:#000">[]</span> <span style="color:#000">a</span> <span style="color:#000">=</span> <span style="color:#a90d91">this</span><span style="color:#000">.</span><span style="color:#836c28">toArray</span><span style="color:#000">();</span>
    <span style="color:#177500">// 使用指定的比较器c对数组a进行排序
</span><span style="color:#177500"></span>    <span style="color:#000">Arrays</span><span style="color:#000">.</span><span style="color:#836c28">sort</span><span style="color:#000">(</span><span style="color:#000">a</span><span style="color:#000">,</span> <span style="color:#000">(</span><span style="color:#000">Comparator</span><span style="color:#000">)</span> <span style="color:#000">c</span><span style="color:#000">);</span>
    <span style="color:#000">ListIterator</span><span style="color:#000">&lt;</span><span style="color:#000">E</span><span style="color:#000">&gt;</span> <span style="color:#000">i</span> <span style="color:#000">=</span> <span style="color:#a90d91">this</span><span style="color:#000">.</span><span style="color:#836c28">listIterator</span><span style="color:#000">();</span>
		<span style="color:#177500">// 遍历数组a，将每个元素放入当前集合
</span><span style="color:#177500"></span>    <span style="color:#a90d91">for</span> <span style="color:#000">(</span><span style="color:#000">Object</span> <span style="color:#000">e</span> <span style="color:#000">:</span> <span style="color:#000">a</span><span style="color:#000">)</span> <span style="color:#000">{</span>
        <span style="color:#000">i</span><span style="color:#000">.</span><span style="color:#836c28">next</span><span style="color:#000">();</span>
        <span style="color:#000">i</span><span style="color:#000">.</span><span style="color:#836c28">set</span><span style="color:#000">((</span><span style="color:#000">E</span><span style="color:#000">)</span> <span style="color:#000">e</span><span style="color:#000">);</span>
    <span style="color:#000">}</span>
<span style="color:#000">}</span>
</code></pre></td></tr></table>
</div>
</div><div class="gdoc-page__anchorwrap">
    <h1 id="16-void-clear">
        16. void clear();
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/List/#16-void-clear" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 16. void clear();" href="#16-void-clear">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>从此列表中删除所有元素（可选操作）。此调用返回后，该列表将为空。</p>
<div class="gdoc-page__anchorwrap">
    <h1 id="17-boolean-equalsobject-o">
        17. boolean equals(Object o);
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/List/#17-boolean-equalsobject-o" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 17. boolean equals(Object o);" href="#17-boolean-equalsobject-o">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>比较指定对象与此列表是否相等。当且仅当指定对象也是一个列表，并且两个列表具有相同的大小，并且两个列表中所有对应的元素对都相等时（如果<code>(e1==null ? e2==null : e1.equals(e2))</code>），才返回<code>true</code>。</p>
<p>换句话说，如果两个列表包含相同顺序的相同元素，则将两个列表定义为相等。此定义确保<code>equals</code>方法可在<code>List</code>接口的不同实现中正常工作。</p>
<div class="gdoc-page__anchorwrap">
    <h1 id="18-int-hashcode">
        18. int hashCode();
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/List/#18-int-hashcode" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 18. int hashCode();" href="#18-int-hashcode">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>返回此列表的哈希码值。列表的哈希码定义为以下计算的结果：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#a90d91">int</span> <span style="color:#000">hashCode</span> <span style="color:#000">=</span> <span style="color:#000">1</span><span style="color:#000">;</span>
<span style="color:#a90d91">for</span> <span style="color:#000">(</span><span style="color:#000">E</span> <span style="color:#000">e</span> <span style="color:#000">:</span> <span style="color:#000">list</span><span style="color:#000">)</span>
		<span style="color:#000">hashCode</span> <span style="color:#000">=</span> <span style="color:#000">31</span><span style="color:#000">*</span><span style="color:#000">hashCode</span> <span style="color:#000">+</span> <span style="color:#000">(</span><span style="color:#000">e</span><span style="color:#000">==</span><span style="color:#a90d91">null</span> <span style="color:#000">?</span> <span style="color:#000">0</span> <span style="color:#000">:</span> <span style="color:#000">e</span><span style="color:#000">.</span><span style="color:#836c28">hashCode</span><span style="color:#000">());</span>
</code></pre></td></tr></table>
</div>
</div><p>这样可以确保<code>list1.equals(list2)</code>意味着对于任意两个列表<code>list1</code>和<code>list2</code>均有<code>list1.hashCode()==list2.hashCode()</code>，这是<code>Object</code>中<code>hashCode</code>的基本要求。</p>
<div class="gdoc-page__anchorwrap">
    <h1 id="19-e-getint-index">
        19. E get(int index);
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/List/#19-e-getint-index" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 19. E get(int index);" href="#19-e-getint-index">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>返回列表中指定位置的元素。</p>
<div class="gdoc-page__anchorwrap">
    <h1 id="20-e-setint-index-e-element">
        20. E set(int index, E element);
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/List/#20-e-setint-index-e-element" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 20. E set(int index, E element);" href="#20-e-setint-index-e-element">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>替换列表中指定位置的元素为指定的元素（可选操作），然后将返回被替换掉的元素。</p>
<div class="gdoc-page__anchorwrap">
    <h1 id="21-void-addint-index-e-element">
        21. void add(int index, E element);
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/List/#21-void-addint-index-e-element" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 21. void add(int index, E element);" href="#21-void-addint-index-e-element">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>将指定的元素插入此列表中的指定位置（可选操作）。将当前在该位置的元素（如果有）和任何后续元素右移（将其索引加一）。</p>
<div class="gdoc-page__anchorwrap">
    <h1 id="22-e-removeint-index">
        22. E remove(int index);
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/List/#22-e-removeint-index" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 22. E remove(int index);" href="#22-e-removeint-index">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>删除此列表中指定位置的元素（可选操作）。将所有后续元素向左移动（将其索引减一）。然后返回从列表中删除的元素。</p>
<div class="gdoc-page__anchorwrap">
    <h1 id="23-int-indexofobject-o">
        23. int indexOf(Object o);
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/List/#23-int-indexofobject-o" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 23. int indexOf(Object o);" href="#23-int-indexofobject-o">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>返回指定元素在此列表中首次出现的索引；如果此列表不包含该元素，则返回-1。更准确地说，返回满足<code>(o==null ? get(i)==null : o.equals(get(i)))</code>的最小索引<code>i</code>或-1（如果没有这样的索引）。</p>
<div class="gdoc-page__anchorwrap">
    <h1 id="24-int-lastindexofobject-o">
        24. int lastIndexOf(Object o);
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/List/#24-int-lastindexofobject-o" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 24. int lastIndexOf(Object o);" href="#24-int-lastindexofobject-o">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>返回指定元素在此列表中最后一次出现的索引；如果此列表不包含该元素，则返回-1。更准确地说，返回满足<code>(o==null ? get(i)==null : o.equals(get(i)))</code>的最大索引<code>i</code>或-1（如果没有这样的索引）。</p>
<div class="gdoc-page__anchorwrap">
    <h1 id="25-listiteratore-listiterator">
        25. ListIterator<!-- raw HTML omitted --> listIterator();
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/List/#25-listiteratore-listiterator" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 25. ListIterator listIterator();" href="#25-listiteratore-listiterator">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>返回此列表中的元素的列表迭代器（按适当顺序）。</p>
<div class="gdoc-page__anchorwrap">
    <h1 id="26-listiteratore-listiteratorint-index">
        26. ListIterator<!-- raw HTML omitted --> listIterator(int index);
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/List/#26-listiteratore-listiteratorint-index" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 26. ListIterator listIterator(int index);" href="#26-listiteratore-listiteratorint-index">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>返回在此列表从指定位置开始的列表迭代器（以适当的顺序）。指定的索引就是初始调用<code>next</code>将返回的第一个元素。初次调用<code>previous</code>将返回指定索引减一的元素。</p>
<div class="gdoc-page__anchorwrap">
    <h1 id="27-liste-sublistint-fromindex-int-toindex">
        27. List<!-- raw HTML omitted --> subList(int fromIndex, int toIndex);
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/List/#27-liste-sublistint-fromindex-int-toindex" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 27. List subList(int fromIndex, int toIndex);" href="#27-liste-sublistint-fromindex-int-toindex">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>返回此列表在指定的<code>fromIndex</code>（含）和<code>toIndex</code>（不含）之间的视图。 （如果<code>fromIndex</code>和<code>toIndex</code>相等，则返回列表为空。）返回的列表由此列表支持，因此该列表中反映了返回列表中的非结构性更改 ，反之亦然。返回的列表支持此列表支持的所有可选列表操作。</p>
<p>此方法消除了对显式范围操作（数组通常存在的那种范围）的需要。通过subList视图而不是整个列表，可以对列表进行期望的任何范围操作。例如，以下常见用法从列表中删除了一系列元素：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#000">list</span><span style="color:#000">.</span><span style="color:#836c28">subList</span><span style="color:#000">(</span><span style="color:#000">from</span><span style="color:#000">,</span> <span style="color:#000">to</span><span style="color:#000">).</span><span style="color:#836c28">clear</span><span style="color:#000">();</span>
</code></pre></td></tr></table>
</div>
</div><p>可以为<code>indexOf</code>和<code>lastIndexOf</code>构建类似的习惯用法，并且<code>Collections</code>类中的所有语法都可以应用于子列表。</p>
<p>如果后备列表（即此列表）以除通过返回列表以外的任何其他方式进行结构修改，则此方法返回的列表的语义将变得不确定。（结构修改是指更改此列表大小或以其他方式干扰列表的方式，正在进行的迭代可能会产生不正确的结果。）</p>
<div class="gdoc-page__anchorwrap">
    <h1 id="28-default-spliteratore-spliterator">
        28. default Spliterator<!-- raw HTML omitted --> spliterator()
        <a data-clipboard-text="https://hongmao.run/jdk8-src-note/java/util/List/#28-default-spliteratore-spliterator" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 28. default Spliterator spliterator()" href="#28-default-spliteratore-spliterator">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h1>
</div><p>创建一个包含此列表所有元素的 <code>Spliterator</code> 。</p>
<p><code>Spliterator</code>报告<code>SIZED</code>和<code>ORDERED</code>。实现类应记录其他特征值的报告。</p>
<p>默认实现从列表的<code>Iterator</code>创建一个延迟绑定的拆分器。该拆分器继承了列表迭代器“快速失败”的属性。</p>
<p>创建的<code>Spliterator</code>还报告<code>SUBSIZED</code>。</p>
<p>源码如下：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-java" data-lang="java"><span style="color:#000">@Override</span>
<span style="color:#a90d91">default</span> <span style="color:#000">Spliterator</span><span style="color:#000">&lt;</span><span style="color:#000">E</span><span style="color:#000">&gt;</span> <span style="color:#000">spliterator</span><span style="color:#000">()</span> <span style="color:#000">{</span>
    <span style="color:#a90d91">return</span> <span style="color:#000">Spliterators</span><span style="color:#000">.</span><span style="color:#836c28">spliterator</span><span style="color:#000">(</span><span style="color:#a90d91">this</span><span style="color:#000">,</span> <span style="color:#000">Spliterator</span><span style="color:#000">.</span><span style="color:#836c28">ORDERED</span><span style="color:#000">);</span>
<span style="color:#000">}</span>
</code></pre></td></tr></table>
</div>
</div>

    </article>

                








    
    

    
        
        

        
        
            
            
            

            

            

            
        

        
        
            
    
    

    
        
        

        
        
            
            
            

            

            

            
        

        
        
            
    
    

    
        
        

        
        
            
            
            

            

            

            
        

        
        
    
        
        

        
        
            
            
            

            

            

            
        

        
        
    
        
        

        
        
            
            
            

            

            

            
        

        
        
    
        
        

        
        
            
            
            

            

            

            
        

        
        
    
        
        

        
        
            
            
            

            

            
                
                
            

            
        

        
        
    
        
        

        
        
            
            
            

            
                
                
            

            

            
        

        
        
    

        
    

        
    





<div class="gdoc-page__footer flex flex-wrap justify-between">
    
    
        <span class="gdoc-page__nav">
            
                <a class="gdoc-page__nav--prev flex align-center" href="/jdk8-src-note/java/util/Iterator/" title="Iterator"> Iterator</a>
            
        </span>
        <span class="gdoc-page__nav">
            
                <a class="gdoc-page__nav--next flex align-center" href="/jdk8-src-note/java/util/ListIterator/" title="ListIterator">ListIterator </a>
            
        </span>
    
</div>

            </div>
        </main>

        <footer class="gdoc-footer">
    <div class="container flex flex-wrap">
        <span class="gdoc-footer__item">
            Built with <a href="https://gohugo.io/" class="gdoc-footer__link">Hugo</a> and
            <svg class="icon gdoc_heart"><use xlink:href="#gdoc_heart"></use></svg>
        </span>
        
        
    </div>
</footer>

    </div>

    




<script defer src="/jdk8-src-note/js/en.search.min.7ed902a2b1b4d86c489fb5356144fb25c54a68bdbe5116c87b49f726c263e2b4.js"></script>



<script defer src="/jdk8-src-note/js/clipboard-27784b7376.min.js"></script>
<script defer src="/jdk8-src-note/js/clipboard-loader-f0b5fbd5f6.min.js"></script>


</body>
</html>
